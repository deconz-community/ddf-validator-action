(()=>{var e={4016:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){if(i===undefined)i=s;var r=Object.getOwnPropertyDescriptor(t,s);if(!r||("get"in r?!t.__esModule:r.writable||r.configurable)){r={enumerable:true,get:function(){return t[s]}}}Object.defineProperty(e,i,r)}:function(e,t,s,i){if(i===undefined)i=s;e[i]=t[s]});var r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s))i(t,e,s);r(t,e);return t};var c=this&&this.__awaiter||function(e,t,s,i){function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i["throw"](e))}catch(e){r(e)}}function step(e){e.done?s(e.value):adopt(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});const d=s(3977);const h=n(s(7733));const g=s(8835);const v=s(5507);const b=s(801);const z=s(3222);const N=s(881);function handleError(e,t,s){if(e instanceof b.ZodError){const i={};e.issues.forEach((e=>{const t=e.path.join("/");if(Array.isArray(i[t]))i[t].push(e.message);else i[t]=[e.message]}));const r=Object.keys(i);(0,z.visit)(s,{onObjectProperty:(e,s,n,c,d,g)=>{const v=[...g(),e].join("/");const b=r.indexOf(v);if(b>-1){h.error(`${i[v].length} validation error${i[v].length>1?"s":""} in file ${t} at ${v}`);i[v].forEach((e=>{h.error(e,{file:t,startLine:c+1,startColumn:d})}));r.splice(b,1)}}});if(r.length>0){r.forEach((e=>{h.error(`${i[e].length} validation error${i[e].length>1?"s":""} in file ${t} at ${e}`);i[e].forEach((e=>{h.error(e,{file:t})}))}))}}else if(e instanceof Error){h.error(e.message,{file:t})}else{h.error("Unknown Error")}}function run(){return c(this,void 0,void 0,(function*(){try{const e=(0,v.createValidator)();h.info(`Validatig DDF using GitHub action v${N.version} and validator v${e.version}.`);let t=0;const s=h.getInput("generic")?`${h.getInput("generic")}/${h.getInput("search")}`:`${h.getInput("directory")}/generic/${h.getInput("search")}`;h.info(`Loading generic files from ${s}`);const i=yield(0,g.glob)(s);if(i.length===0)throw new Error("No generic files found. Please check the settings.");h.debug(`Found ${i.length} files.`);const r={"constants1.schema.json":[],"constants2.schema.json":[],"resourceitem1.schema.json":[],"subdevice1.schema.json":[]};for(const e of i){h.debug(`Loading ${e}.`);try{const t=yield(0,d.readFile)(e,"utf-8");const s=JSON.parse(t);if(typeof s.schema==="string"||r[s.schema]===undefined){r[s.schema].push({path:e,raw:t,data:s})}else{h.error(`${e}:Unknown schema ${s.schema}`)}}catch(s){t++;if(s instanceof Error)h.error(`${e}: ${s.message}`);else h.error(`${e}: Unknown Error`)}}for(const[s,i]of Object.entries(r)){h.info(`Loading ${r[s].length} files with schema "${s}".`);for(const s of i){h.debug(`Validating ${s.path}...`);try{e.loadGeneric(s.data);h.debug(`Validating ${s.path}. OK`)}catch(e){t++;handleError(e,s.path,s.raw)}}}h.info(`Loaded ${i.length-t} files.`);if(t>0)h.warning(`${t} files was not loaded because of errors.`);let n=0;const c=`${h.getInput("directory")}/${h.getInput("search")}`;h.info(`Validating DDF files from ${c} (ignore: ${h.getInput("ignore")})`);const b=yield(0,g.glob)(c,{ignore:h.getInput("ignore")});if(b.length===0)throw new Error("No files found. Please check the settings.");h.info(`Found ${b.length} files to valiate.`);for(const t of b){let s="";try{s=yield(0,d.readFile)(t,"utf-8");const i=JSON.parse(s);e.validate(i)}catch(e){n++;handleError(e,t,s)}}if(t+n>0)h.setFailed(`Found ${t+n} invalid files. Check logs for details.`);else h.info("All files passed.")}catch(e){if(e instanceof Error)h.setFailed(e.message)}}))}run()},9483:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){if(i===undefined)i=s;Object.defineProperty(e,i,{enumerable:true,get:function(){return t[s]}})}:function(e,t,s,i){if(i===undefined)i=s;e[i]=t[s]});var r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.hasOwnProperty.call(e,s))i(t,e,s);r(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.issue=t.issueCommand=void 0;const c=n(s(2037));const d=s(2994);function issueCommand(e,t,s){const i=new Command(e,t,s);process.stdout.write(i.toString()+c.EOL)}t.issueCommand=issueCommand;function issue(e,t=""){issueCommand(e,{},t)}t.issue=issue;const h="::";class Command{constructor(e,t,s){if(!e){e="missing.command"}this.command=e;this.properties=t;this.message=s}toString(){let e=h+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let t=true;for(const s in this.properties){if(this.properties.hasOwnProperty(s)){const i=this.properties[s];if(i){if(t){t=false}else{e+=","}e+=`${s}=${escapeProperty(i)}`}}}}e+=`${h}${escapeData(this.message)}`;return e}}function escapeData(e){return d.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(e){return d.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},7733:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){if(i===undefined)i=s;Object.defineProperty(e,i,{enumerable:true,get:function(){return t[s]}})}:function(e,t,s,i){if(i===undefined)i=s;e[i]=t[s]});var r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.hasOwnProperty.call(e,s))i(t,e,s);r(t,e);return t};var c=this&&this.__awaiter||function(e,t,s,i){function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i["throw"](e))}catch(e){r(e)}}function step(e){e.done?s(e.value):adopt(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.getIDToken=t.getState=t.saveState=t.group=t.endGroup=t.startGroup=t.info=t.notice=t.warning=t.error=t.debug=t.isDebug=t.setFailed=t.setCommandEcho=t.setOutput=t.getBooleanInput=t.getMultilineInput=t.getInput=t.addPath=t.setSecret=t.exportVariable=t.ExitCode=void 0;const d=s(9483);const h=s(8541);const g=s(2994);const v=n(s(2037));const b=n(s(1017));const z=s(2422);var N;(function(e){e[e["Success"]=0]="Success";e[e["Failure"]=1]="Failure"})(N=t.ExitCode||(t.ExitCode={}));function exportVariable(e,t){const s=g.toCommandValue(t);process.env[e]=s;const i=process.env["GITHUB_ENV"]||"";if(i){return h.issueFileCommand("ENV",h.prepareKeyValueMessage(e,t))}d.issueCommand("set-env",{name:e},s)}t.exportVariable=exportVariable;function setSecret(e){d.issueCommand("add-mask",{},e)}t.setSecret=setSecret;function addPath(e){const t=process.env["GITHUB_PATH"]||"";if(t){h.issueFileCommand("PATH",e)}else{d.issueCommand("add-path",{},e)}process.env["PATH"]=`${e}${b.delimiter}${process.env["PATH"]}`}t.addPath=addPath;function getInput(e,t){const s=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!s){throw new Error(`Input required and not supplied: ${e}`)}if(t&&t.trimWhitespace===false){return s}return s.trim()}t.getInput=getInput;function getMultilineInput(e,t){const s=getInput(e,t).split("\n").filter((e=>e!==""));if(t&&t.trimWhitespace===false){return s}return s.map((e=>e.trim()))}t.getMultilineInput=getMultilineInput;function getBooleanInput(e,t){const s=["true","True","TRUE"];const i=["false","False","FALSE"];const r=getInput(e,t);if(s.includes(r))return true;if(i.includes(r))return false;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}\n`+`Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}t.getBooleanInput=getBooleanInput;function setOutput(e,t){const s=process.env["GITHUB_OUTPUT"]||"";if(s){return h.issueFileCommand("OUTPUT",h.prepareKeyValueMessage(e,t))}process.stdout.write(v.EOL);d.issueCommand("set-output",{name:e},g.toCommandValue(t))}t.setOutput=setOutput;function setCommandEcho(e){d.issue("echo",e?"on":"off")}t.setCommandEcho=setCommandEcho;function setFailed(e){process.exitCode=N.Failure;error(e)}t.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}t.isDebug=isDebug;function debug(e){d.issueCommand("debug",{},e)}t.debug=debug;function error(e,t={}){d.issueCommand("error",g.toCommandProperties(t),e instanceof Error?e.toString():e)}t.error=error;function warning(e,t={}){d.issueCommand("warning",g.toCommandProperties(t),e instanceof Error?e.toString():e)}t.warning=warning;function notice(e,t={}){d.issueCommand("notice",g.toCommandProperties(t),e instanceof Error?e.toString():e)}t.notice=notice;function info(e){process.stdout.write(e+v.EOL)}t.info=info;function startGroup(e){d.issue("group",e)}t.startGroup=startGroup;function endGroup(){d.issue("endgroup")}t.endGroup=endGroup;function group(e,t){return c(this,void 0,void 0,(function*(){startGroup(e);let s;try{s=yield t()}finally{endGroup()}return s}))}t.group=group;function saveState(e,t){const s=process.env["GITHUB_STATE"]||"";if(s){return h.issueFileCommand("STATE",h.prepareKeyValueMessage(e,t))}d.issueCommand("save-state",{name:e},g.toCommandValue(t))}t.saveState=saveState;function getState(e){return process.env[`STATE_${e}`]||""}t.getState=getState;function getIDToken(e){return c(this,void 0,void 0,(function*(){return yield z.OidcClient.getIDToken(e)}))}t.getIDToken=getIDToken;var D=s(513);Object.defineProperty(t,"summary",{enumerable:true,get:function(){return D.summary}});var U=s(513);Object.defineProperty(t,"markdownSummary",{enumerable:true,get:function(){return U.markdownSummary}});var B=s(3084);Object.defineProperty(t,"toPosixPath",{enumerable:true,get:function(){return B.toPosixPath}});Object.defineProperty(t,"toWin32Path",{enumerable:true,get:function(){return B.toWin32Path}});Object.defineProperty(t,"toPlatformPath",{enumerable:true,get:function(){return B.toPlatformPath}})},8541:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){if(i===undefined)i=s;Object.defineProperty(e,i,{enumerable:true,get:function(){return t[s]}})}:function(e,t,s,i){if(i===undefined)i=s;e[i]=t[s]});var r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.hasOwnProperty.call(e,s))i(t,e,s);r(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.prepareKeyValueMessage=t.issueFileCommand=void 0;const c=n(s(7147));const d=n(s(2037));const h=s(2033);const g=s(2994);function issueFileCommand(e,t){const s=process.env[`GITHUB_${e}`];if(!s){throw new Error(`Unable to find environment variable for file command ${e}`)}if(!c.existsSync(s)){throw new Error(`Missing file at path: ${s}`)}c.appendFileSync(s,`${g.toCommandValue(t)}${d.EOL}`,{encoding:"utf8"})}t.issueFileCommand=issueFileCommand;function prepareKeyValueMessage(e,t){const s=`ghadelimiter_${h.v4()}`;const i=g.toCommandValue(t);if(e.includes(s)){throw new Error(`Unexpected input: name should not contain the delimiter "${s}"`)}if(i.includes(s)){throw new Error(`Unexpected input: value should not contain the delimiter "${s}"`)}return`${e}<<${s}${d.EOL}${i}${d.EOL}${s}`}t.prepareKeyValueMessage=prepareKeyValueMessage},2422:function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i["throw"](e))}catch(e){r(e)}}function step(e){e.done?s(e.value):adopt(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.OidcClient=void 0;const r=s(7794);const n=s(4610);const c=s(7733);class OidcClient{static createHttpClient(e=true,t=10){const s={allowRetries:e,maxRetries:t};return new r.HttpClient("actions/oidc-client",[new n.BearerCredentialHandler(OidcClient.getRequestToken())],s)}static getRequestToken(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_TOKEN"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable")}return e}static getIDTokenUrl(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_URL"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable")}return e}static getCall(e){var t;return i(this,void 0,void 0,(function*(){const s=OidcClient.createHttpClient();const i=yield s.getJson(e).catch((e=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${e.statusCode}\n \n        Error Message: ${e.result.message}`)}));const r=(t=i.result)===null||t===void 0?void 0:t.value;if(!r){throw new Error("Response json body do not have ID Token field")}return r}))}static getIDToken(e){return i(this,void 0,void 0,(function*(){try{let t=OidcClient.getIDTokenUrl();if(e){const s=encodeURIComponent(e);t=`${t}&audience=${s}`}c.debug(`ID token url is ${t}`);const s=yield OidcClient.getCall(t);c.setSecret(s);return s}catch(e){throw new Error(`Error message: ${e.message}`)}}))}}t.OidcClient=OidcClient},3084:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){if(i===undefined)i=s;Object.defineProperty(e,i,{enumerable:true,get:function(){return t[s]}})}:function(e,t,s,i){if(i===undefined)i=s;e[i]=t[s]});var r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.hasOwnProperty.call(e,s))i(t,e,s);r(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.toPlatformPath=t.toWin32Path=t.toPosixPath=void 0;const c=n(s(1017));function toPosixPath(e){return e.replace(/[\\]/g,"/")}t.toPosixPath=toPosixPath;function toWin32Path(e){return e.replace(/[/]/g,"\\")}t.toWin32Path=toWin32Path;function toPlatformPath(e){return e.replace(/[/\\]/g,c.sep)}t.toPlatformPath=toPlatformPath},513:function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i["throw"](e))}catch(e){r(e)}}function step(e){e.done?s(e.value):adopt(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.summary=t.markdownSummary=t.SUMMARY_DOCS_URL=t.SUMMARY_ENV_VAR=void 0;const r=s(2037);const n=s(7147);const{access:c,appendFile:d,writeFile:h}=n.promises;t.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";t.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";class Summary{constructor(){this._buffer=""}filePath(){return i(this,void 0,void 0,(function*(){if(this._filePath){return this._filePath}const e=process.env[t.SUMMARY_ENV_VAR];if(!e){throw new Error(`Unable to find environment variable for $${t.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`)}try{yield c(e,n.constants.R_OK|n.constants.W_OK)}catch(t){throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}this._filePath=e;return this._filePath}))}wrap(e,t,s={}){const i=Object.entries(s).map((([e,t])=>` ${e}="${t}"`)).join("");if(!t){return`<${e}${i}>`}return`<${e}${i}>${t}</${e}>`}write(e){return i(this,void 0,void 0,(function*(){const t=!!(e===null||e===void 0?void 0:e.overwrite);const s=yield this.filePath();const i=t?h:d;yield i(s,this._buffer,{encoding:"utf8"});return this.emptyBuffer()}))}clear(){return i(this,void 0,void 0,(function*(){return this.emptyBuffer().write({overwrite:true})}))}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){this._buffer="";return this}addRaw(e,t=false){this._buffer+=e;return t?this.addEOL():this}addEOL(){return this.addRaw(r.EOL)}addCodeBlock(e,t){const s=Object.assign({},t&&{lang:t});const i=this.wrap("pre",this.wrap("code",e),s);return this.addRaw(i).addEOL()}addList(e,t=false){const s=t?"ol":"ul";const i=e.map((e=>this.wrap("li",e))).join("");const r=this.wrap(s,i);return this.addRaw(r).addEOL()}addTable(e){const t=e.map((e=>{const t=e.map((e=>{if(typeof e==="string"){return this.wrap("td",e)}const{header:t,data:s,colspan:i,rowspan:r}=e;const n=t?"th":"td";const c=Object.assign(Object.assign({},i&&{colspan:i}),r&&{rowspan:r});return this.wrap(n,s,c)})).join("");return this.wrap("tr",t)})).join("");const s=this.wrap("table",t);return this.addRaw(s).addEOL()}addDetails(e,t){const s=this.wrap("details",this.wrap("summary",e)+t);return this.addRaw(s).addEOL()}addImage(e,t,s){const{width:i,height:r}=s||{};const n=Object.assign(Object.assign({},i&&{width:i}),r&&{height:r});const c=this.wrap("img",null,Object.assign({src:e,alt:t},n));return this.addRaw(c).addEOL()}addHeading(e,t){const s=`h${t}`;const i=["h1","h2","h3","h4","h5","h6"].includes(s)?s:"h1";const r=this.wrap(i,e);return this.addRaw(r).addEOL()}addSeparator(){const e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){const e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,t){const s=Object.assign({},t&&{cite:t});const i=this.wrap("blockquote",e,s);return this.addRaw(i).addEOL()}addLink(e,t){const s=this.wrap("a",e,{href:t});return this.addRaw(s).addEOL()}}const g=new Summary;t.markdownSummary=g;t.summary=g},2994:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toCommandProperties=t.toCommandValue=void 0;function toCommandValue(e){if(e===null||e===undefined){return""}else if(typeof e==="string"||e instanceof String){return e}return JSON.stringify(e)}t.toCommandValue=toCommandValue;function toCommandProperties(e){if(!Object.keys(e).length){return{}}return{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}}t.toCommandProperties=toCommandProperties},4610:function(e,t){"use strict";var s=this&&this.__awaiter||function(e,t,s,i){function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i["throw"](e))}catch(e){r(e)}}function step(e){e.done?s(e.value):adopt(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.PersonalAccessTokenCredentialHandler=t.BearerCredentialHandler=t.BasicCredentialHandler=void 0;class BasicCredentialHandler{constructor(e,t){this.username=e;this.password=t}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return s(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.BasicCredentialHandler=BasicCredentialHandler;class BearerCredentialHandler{constructor(e){this.token=e}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Bearer ${this.token}`}canHandleAuthentication(){return false}handleAuthentication(){return s(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.BearerCredentialHandler=BearerCredentialHandler;class PersonalAccessTokenCredentialHandler{constructor(e){this.token=e}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return s(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.PersonalAccessTokenCredentialHandler=PersonalAccessTokenCredentialHandler},7794:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){if(i===undefined)i=s;Object.defineProperty(e,i,{enumerable:true,get:function(){return t[s]}})}:function(e,t,s,i){if(i===undefined)i=s;e[i]=t[s]});var r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.hasOwnProperty.call(e,s))i(t,e,s);r(t,e);return t};var c=this&&this.__awaiter||function(e,t,s,i){function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,r){function fulfilled(e){try{step(i.next(e))}catch(e){r(e)}}function rejected(e){try{step(i["throw"](e))}catch(e){r(e)}}function step(e){e.done?s(e.value):adopt(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.HttpClient=t.isHttps=t.HttpClientResponse=t.HttpClientError=t.getProxyUrl=t.MediaTypes=t.Headers=t.HttpCodes=void 0;const d=n(s(3685));const h=n(s(5687));const g=n(s(1116));const v=n(s(4249));var b;(function(e){e[e["OK"]=200]="OK";e[e["MultipleChoices"]=300]="MultipleChoices";e[e["MovedPermanently"]=301]="MovedPermanently";e[e["ResourceMoved"]=302]="ResourceMoved";e[e["SeeOther"]=303]="SeeOther";e[e["NotModified"]=304]="NotModified";e[e["UseProxy"]=305]="UseProxy";e[e["SwitchProxy"]=306]="SwitchProxy";e[e["TemporaryRedirect"]=307]="TemporaryRedirect";e[e["PermanentRedirect"]=308]="PermanentRedirect";e[e["BadRequest"]=400]="BadRequest";e[e["Unauthorized"]=401]="Unauthorized";e[e["PaymentRequired"]=402]="PaymentRequired";e[e["Forbidden"]=403]="Forbidden";e[e["NotFound"]=404]="NotFound";e[e["MethodNotAllowed"]=405]="MethodNotAllowed";e[e["NotAcceptable"]=406]="NotAcceptable";e[e["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired";e[e["RequestTimeout"]=408]="RequestTimeout";e[e["Conflict"]=409]="Conflict";e[e["Gone"]=410]="Gone";e[e["TooManyRequests"]=429]="TooManyRequests";e[e["InternalServerError"]=500]="InternalServerError";e[e["NotImplemented"]=501]="NotImplemented";e[e["BadGateway"]=502]="BadGateway";e[e["ServiceUnavailable"]=503]="ServiceUnavailable";e[e["GatewayTimeout"]=504]="GatewayTimeout"})(b=t.HttpCodes||(t.HttpCodes={}));var z;(function(e){e["Accept"]="accept";e["ContentType"]="content-type"})(z=t.Headers||(t.Headers={}));var N;(function(e){e["ApplicationJson"]="application/json"})(N=t.MediaTypes||(t.MediaTypes={}));function getProxyUrl(e){const t=g.getProxyUrl(new URL(e));return t?t.href:""}t.getProxyUrl=getProxyUrl;const D=[b.MovedPermanently,b.ResourceMoved,b.SeeOther,b.TemporaryRedirect,b.PermanentRedirect];const U=[b.BadGateway,b.ServiceUnavailable,b.GatewayTimeout];const B=["OPTIONS","GET","DELETE","HEAD"];const V=10;const W=5;class HttpClientError extends Error{constructor(e,t){super(e);this.name="HttpClientError";this.statusCode=t;Object.setPrototypeOf(this,HttpClientError.prototype)}}t.HttpClientError=HttpClientError;class HttpClientResponse{constructor(e){this.message=e}readBody(){return c(this,void 0,void 0,(function*(){return new Promise((e=>c(this,void 0,void 0,(function*(){let t=Buffer.alloc(0);this.message.on("data",(e=>{t=Buffer.concat([t,e])}));this.message.on("end",(()=>{e(t.toString())}))}))))}))}}t.HttpClientResponse=HttpClientResponse;function isHttps(e){const t=new URL(e);return t.protocol==="https:"}t.isHttps=isHttps;class HttpClient{constructor(e,t,s){this._ignoreSslError=false;this._allowRedirects=true;this._allowRedirectDowngrade=false;this._maxRedirects=50;this._allowRetries=false;this._maxRetries=1;this._keepAlive=false;this._disposed=false;this.userAgent=e;this.handlers=t||[];this.requestOptions=s;if(s){if(s.ignoreSslError!=null){this._ignoreSslError=s.ignoreSslError}this._socketTimeout=s.socketTimeout;if(s.allowRedirects!=null){this._allowRedirects=s.allowRedirects}if(s.allowRedirectDowngrade!=null){this._allowRedirectDowngrade=s.allowRedirectDowngrade}if(s.maxRedirects!=null){this._maxRedirects=Math.max(s.maxRedirects,0)}if(s.keepAlive!=null){this._keepAlive=s.keepAlive}if(s.allowRetries!=null){this._allowRetries=s.allowRetries}if(s.maxRetries!=null){this._maxRetries=s.maxRetries}}}options(e,t){return c(this,void 0,void 0,(function*(){return this.request("OPTIONS",e,null,t||{})}))}get(e,t){return c(this,void 0,void 0,(function*(){return this.request("GET",e,null,t||{})}))}del(e,t){return c(this,void 0,void 0,(function*(){return this.request("DELETE",e,null,t||{})}))}post(e,t,s){return c(this,void 0,void 0,(function*(){return this.request("POST",e,t,s||{})}))}patch(e,t,s){return c(this,void 0,void 0,(function*(){return this.request("PATCH",e,t,s||{})}))}put(e,t,s){return c(this,void 0,void 0,(function*(){return this.request("PUT",e,t,s||{})}))}head(e,t){return c(this,void 0,void 0,(function*(){return this.request("HEAD",e,null,t||{})}))}sendStream(e,t,s,i){return c(this,void 0,void 0,(function*(){return this.request(e,t,s,i)}))}getJson(e,t={}){return c(this,void 0,void 0,(function*(){t[z.Accept]=this._getExistingOrDefaultHeader(t,z.Accept,N.ApplicationJson);const s=yield this.get(e,t);return this._processResponse(s,this.requestOptions)}))}postJson(e,t,s={}){return c(this,void 0,void 0,(function*(){const i=JSON.stringify(t,null,2);s[z.Accept]=this._getExistingOrDefaultHeader(s,z.Accept,N.ApplicationJson);s[z.ContentType]=this._getExistingOrDefaultHeader(s,z.ContentType,N.ApplicationJson);const r=yield this.post(e,i,s);return this._processResponse(r,this.requestOptions)}))}putJson(e,t,s={}){return c(this,void 0,void 0,(function*(){const i=JSON.stringify(t,null,2);s[z.Accept]=this._getExistingOrDefaultHeader(s,z.Accept,N.ApplicationJson);s[z.ContentType]=this._getExistingOrDefaultHeader(s,z.ContentType,N.ApplicationJson);const r=yield this.put(e,i,s);return this._processResponse(r,this.requestOptions)}))}patchJson(e,t,s={}){return c(this,void 0,void 0,(function*(){const i=JSON.stringify(t,null,2);s[z.Accept]=this._getExistingOrDefaultHeader(s,z.Accept,N.ApplicationJson);s[z.ContentType]=this._getExistingOrDefaultHeader(s,z.ContentType,N.ApplicationJson);const r=yield this.patch(e,i,s);return this._processResponse(r,this.requestOptions)}))}request(e,t,s,i){return c(this,void 0,void 0,(function*(){if(this._disposed){throw new Error("Client has already been disposed.")}const r=new URL(t);let n=this._prepareRequest(e,r,i);const c=this._allowRetries&&B.includes(e)?this._maxRetries+1:1;let d=0;let h;do{h=yield this.requestRaw(n,s);if(h&&h.message&&h.message.statusCode===b.Unauthorized){let e;for(const t of this.handlers){if(t.canHandleAuthentication(h)){e=t;break}}if(e){return e.handleAuthentication(this,n,s)}else{return h}}let t=this._maxRedirects;while(h.message.statusCode&&D.includes(h.message.statusCode)&&this._allowRedirects&&t>0){const c=h.message.headers["location"];if(!c){break}const d=new URL(c);if(r.protocol==="https:"&&r.protocol!==d.protocol&&!this._allowRedirectDowngrade){throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.")}yield h.readBody();if(d.hostname!==r.hostname){for(const e in i){if(e.toLowerCase()==="authorization"){delete i[e]}}}n=this._prepareRequest(e,d,i);h=yield this.requestRaw(n,s);t--}if(!h.message.statusCode||!U.includes(h.message.statusCode)){return h}d+=1;if(d<c){yield h.readBody();yield this._performExponentialBackoff(d)}}while(d<c);return h}))}dispose(){if(this._agent){this._agent.destroy()}this._disposed=true}requestRaw(e,t){return c(this,void 0,void 0,(function*(){return new Promise(((s,i)=>{function callbackForResult(e,t){if(e){i(e)}else if(!t){i(new Error("Unknown error"))}else{s(t)}}this.requestRawWithCallback(e,t,callbackForResult)}))}))}requestRawWithCallback(e,t,s){if(typeof t==="string"){if(!e.options.headers){e.options.headers={}}e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8")}let i=false;function handleResult(e,t){if(!i){i=true;s(e,t)}}const r=e.httpModule.request(e.options,(e=>{const t=new HttpClientResponse(e);handleResult(undefined,t)}));let n;r.on("socket",(e=>{n=e}));r.setTimeout(this._socketTimeout||3*6e4,(()=>{if(n){n.end()}handleResult(new Error(`Request timeout: ${e.options.path}`))}));r.on("error",(function(e){handleResult(e)}));if(t&&typeof t==="string"){r.write(t,"utf8")}if(t&&typeof t!=="string"){t.on("close",(function(){r.end()}));t.pipe(r)}else{r.end()}}getAgent(e){const t=new URL(e);return this._getAgent(t)}_prepareRequest(e,t,s){const i={};i.parsedUrl=t;const r=i.parsedUrl.protocol==="https:";i.httpModule=r?h:d;const n=r?443:80;i.options={};i.options.host=i.parsedUrl.hostname;i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):n;i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||"");i.options.method=e;i.options.headers=this._mergeHeaders(s);if(this.userAgent!=null){i.options.headers["user-agent"]=this.userAgent}i.options.agent=this._getAgent(i.parsedUrl);if(this.handlers){for(const e of this.handlers){e.prepareRequest(i.options)}}return i}_mergeHeaders(e){if(this.requestOptions&&this.requestOptions.headers){return Object.assign({},lowercaseKeys(this.requestOptions.headers),lowercaseKeys(e||{}))}return lowercaseKeys(e||{})}_getExistingOrDefaultHeader(e,t,s){let i;if(this.requestOptions&&this.requestOptions.headers){i=lowercaseKeys(this.requestOptions.headers)[t]}return e[t]||i||s}_getAgent(e){let t;const s=g.getProxyUrl(e);const i=s&&s.hostname;if(this._keepAlive&&i){t=this._proxyAgent}if(this._keepAlive&&!i){t=this._agent}if(t){return t}const r=e.protocol==="https:";let n=100;if(this.requestOptions){n=this.requestOptions.maxSockets||d.globalAgent.maxSockets}if(s&&s.hostname){const e={maxSockets:n,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(s.username||s.password)&&{proxyAuth:`${s.username}:${s.password}`}),{host:s.hostname,port:s.port})};let i;const c=s.protocol==="https:";if(r){i=c?v.httpsOverHttps:v.httpsOverHttp}else{i=c?v.httpOverHttps:v.httpOverHttp}t=i(e);this._proxyAgent=t}if(this._keepAlive&&!t){const e={keepAlive:this._keepAlive,maxSockets:n};t=r?new h.Agent(e):new d.Agent(e);this._agent=t}if(!t){t=r?h.globalAgent:d.globalAgent}if(r&&this._ignoreSslError){t.options=Object.assign(t.options||{},{rejectUnauthorized:false})}return t}_performExponentialBackoff(e){return c(this,void 0,void 0,(function*(){e=Math.min(V,e);const t=W*Math.pow(2,e);return new Promise((e=>setTimeout((()=>e()),t)))}))}_processResponse(e,t){return c(this,void 0,void 0,(function*(){return new Promise(((s,i)=>c(this,void 0,void 0,(function*(){const r=e.message.statusCode||0;const n={statusCode:r,result:null,headers:{}};if(r===b.NotFound){s(n)}function dateTimeDeserializer(e,t){if(typeof t==="string"){const e=new Date(t);if(!isNaN(e.valueOf())){return e}}return t}let c;let d;try{d=yield e.readBody();if(d&&d.length>0){if(t&&t.deserializeDates){c=JSON.parse(d,dateTimeDeserializer)}else{c=JSON.parse(d)}n.result=c}n.headers=e.message.headers}catch(e){}if(r>299){let e;if(c&&c.message){e=c.message}else if(d&&d.length>0){e=d}else{e=`Failed request: (${r})`}const t=new HttpClientError(e,r);t.result=n.result;i(t)}else{s(n)}}))))}))}}t.HttpClient=HttpClient;const lowercaseKeys=e=>Object.keys(e).reduce(((t,s)=>(t[s.toLowerCase()]=e[s],t)),{})},1116:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.checkBypass=t.getProxyUrl=void 0;function getProxyUrl(e){const t=e.protocol==="https:";if(checkBypass(e)){return undefined}const s=(()=>{if(t){return process.env["https_proxy"]||process.env["HTTPS_PROXY"]}else{return process.env["http_proxy"]||process.env["HTTP_PROXY"]}})();if(s){return new URL(s)}else{return undefined}}t.getProxyUrl=getProxyUrl;function checkBypass(e){if(!e.hostname){return false}const t=e.hostname;if(isLoopbackAddress(t)){return true}const s=process.env["no_proxy"]||process.env["NO_PROXY"]||"";if(!s){return false}let i;if(e.port){i=Number(e.port)}else if(e.protocol==="http:"){i=80}else if(e.protocol==="https:"){i=443}const r=[e.hostname.toUpperCase()];if(typeof i==="number"){r.push(`${r[0]}:${i}`)}for(const e of s.split(",").map((e=>e.trim().toUpperCase())).filter((e=>e))){if(e==="*"||r.some((t=>t===e||t.endsWith(`.${e}`)||e.startsWith(".")&&t.endsWith(`${e}`)))){return true}}return false}t.checkBypass=checkBypass;function isLoopbackAddress(e){const t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}},8555:e=>{"use strict";e.exports=balanced;function balanced(e,t,s){if(e instanceof RegExp)e=maybeMatch(e,s);if(t instanceof RegExp)t=maybeMatch(t,s);var i=range(e,t,s);return i&&{start:i[0],end:i[1],pre:s.slice(0,i[0]),body:s.slice(i[0]+e.length,i[1]),post:s.slice(i[1]+t.length)}}function maybeMatch(e,t){var s=t.match(e);return s?s[0]:null}balanced.range=range;function range(e,t,s){var i,r,n,c,d;var h=s.indexOf(e);var g=s.indexOf(t,h+1);var v=h;if(h>=0&&g>0){if(e===t){return[h,g]}i=[];n=s.length;while(v>=0&&!d){if(v==h){i.push(v);h=s.indexOf(e,v+1)}else if(i.length==1){d=[i.pop(),g]}else{r=i.pop();if(r<n){n=r;c=g}g=s.indexOf(t,v+1)}v=h<g&&h>=0?h:g}if(i.length){d=[n,c]}}return d}},4231:(e,t,s)=>{var i=s(8555);e.exports=expandTop;var r="\0SLASH"+Math.random()+"\0";var n="\0OPEN"+Math.random()+"\0";var c="\0CLOSE"+Math.random()+"\0";var d="\0COMMA"+Math.random()+"\0";var h="\0PERIOD"+Math.random()+"\0";function numeric(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function escapeBraces(e){return e.split("\\\\").join(r).split("\\{").join(n).split("\\}").join(c).split("\\,").join(d).split("\\.").join(h)}function unescapeBraces(e){return e.split(r).join("\\").split(n).join("{").split(c).join("}").split(d).join(",").split(h).join(".")}function parseCommaParts(e){if(!e)return[""];var t=[];var s=i("{","}",e);if(!s)return e.split(",");var r=s.pre;var n=s.body;var c=s.post;var d=r.split(",");d[d.length-1]+="{"+n+"}";var h=parseCommaParts(c);if(c.length){d[d.length-1]+=h.shift();d.push.apply(d,h)}t.push.apply(t,d);return t}function expandTop(e){if(!e)return[];if(e.substr(0,2)==="{}"){e="\\{\\}"+e.substr(2)}return expand(escapeBraces(e),true).map(unescapeBraces)}function embrace(e){return"{"+e+"}"}function isPadded(e){return/^-?0\d/.test(e)}function lte(e,t){return e<=t}function gte(e,t){return e>=t}function expand(e,t){var s=[];var r=i("{","}",e);if(!r)return[e];var n=r.pre;var d=r.post.length?expand(r.post,false):[""];if(/\$$/.test(r.pre)){for(var h=0;h<d.length;h++){var g=n+"{"+r.body+"}"+d[h];s.push(g)}}else{var v=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body);var b=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body);var z=v||b;var N=r.body.indexOf(",")>=0;if(!z&&!N){if(r.post.match(/,.*\}/)){e=r.pre+"{"+r.body+c+r.post;return expand(e)}return[e]}var D;if(z){D=r.body.split(/\.\./)}else{D=parseCommaParts(r.body);if(D.length===1){D=expand(D[0],false).map(embrace);if(D.length===1){return d.map((function(e){return r.pre+D[0]+e}))}}}var U;if(z){var B=numeric(D[0]);var V=numeric(D[1]);var W=Math.max(D[0].length,D[1].length);var q=D.length==3?Math.abs(numeric(D[2])):1;var H=lte;var K=V<B;if(K){q*=-1;H=gte}var Y=D.some(isPadded);U=[];for(var Q=B;H(Q,V);Q+=q){var X;if(b){X=String.fromCharCode(Q);if(X==="\\")X=""}else{X=String(Q);if(Y){var ee=W-X.length;if(ee>0){var te=new Array(ee+1).join("0");if(Q<0)X="-"+te+X.slice(1);else X=te+X}}}U.push(X)}}else{U=[];for(var se=0;se<D.length;se++){U.push.apply(U,expand(D[se],false))}}for(var se=0;se<U.length;se++){for(var h=0;h<d.length;h++){var g=n+U[se]+d[h];if(!t||z||g)s.push(g)}}}return s}},3264:(e,t,s)=>{(function(s){if(true&&typeof e.exports==="object"){var i=s(require,t);if(i!==undefined)e.exports=i}else if(typeof define==="function"&&define.amd){define(["require","exports","./format","./parser"],s)}})((function(){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isWS=t.applyEdit=t.setProperty=t.removeProperty=void 0;const e=s(5796);const i=s(8715);function removeProperty(e,t,s){return setProperty(e,t,void 0,s)}t.removeProperty=removeProperty;function setProperty(e,t,s,r){const n=t.slice();const c=[];const d=(0,i.parseTree)(e,c);let h=void 0;let g=void 0;while(n.length>0){g=n.pop();h=(0,i.findNodeAtLocation)(d,n);if(h===void 0&&s!==void 0){if(typeof g==="string"){s={[g]:s}}else{s=[s]}}else{break}}if(!h){if(s===void 0){throw new Error("Can not delete in empty document")}return withFormatting(e,{offset:d?d.offset:0,length:d?d.length:0,content:JSON.stringify(s)},r)}else if(h.type==="object"&&typeof g==="string"&&Array.isArray(h.children)){const t=(0,i.findNodeAtLocation)(h,[g]);if(t!==void 0){if(s===void 0){if(!t.parent){throw new Error("Malformed AST")}const s=h.children.indexOf(t.parent);let i;let n=t.parent.offset+t.parent.length;if(s>0){let e=h.children[s-1];i=e.offset+e.length}else{i=h.offset+1;if(h.children.length>1){let e=h.children[1];n=e.offset}}return withFormatting(e,{offset:i,length:n-i,content:""},r)}else{return withFormatting(e,{offset:t.offset,length:t.length,content:JSON.stringify(s)},r)}}else{if(s===void 0){return[]}const t=`${JSON.stringify(g)}: ${JSON.stringify(s)}`;const i=r.getInsertionIndex?r.getInsertionIndex(h.children.map((e=>e.children[0].value))):h.children.length;let n;if(i>0){let e=h.children[i-1];n={offset:e.offset+e.length,length:0,content:","+t}}else if(h.children.length===0){n={offset:h.offset+1,length:0,content:t}}else{n={offset:h.offset+1,length:0,content:t+","}}return withFormatting(e,n,r)}}else if(h.type==="array"&&typeof g==="number"&&Array.isArray(h.children)){const t=g;if(t===-1){const t=`${JSON.stringify(s)}`;let i;if(h.children.length===0){i={offset:h.offset+1,length:0,content:t}}else{const e=h.children[h.children.length-1];i={offset:e.offset+e.length,length:0,content:","+t}}return withFormatting(e,i,r)}else if(s===void 0&&h.children.length>=0){const t=g;const s=h.children[t];let i;if(h.children.length===1){i={offset:h.offset+1,length:h.length-2,content:""}}else if(h.children.length-1===t){let e=h.children[t-1];let s=e.offset+e.length;let r=h.offset+h.length;i={offset:s,length:r-2-s,content:""}}else{i={offset:s.offset,length:h.children[t+1].offset-s.offset,content:""}}return withFormatting(e,i,r)}else if(s!==void 0){let t;const i=`${JSON.stringify(s)}`;if(!r.isArrayInsertion&&h.children.length>g){const e=h.children[g];t={offset:e.offset,length:e.length,content:i}}else if(h.children.length===0||g===0){t={offset:h.offset+1,length:0,content:h.children.length===0?i:i+","}}else{const e=g>h.children.length?h.children.length:g;const s=h.children[e-1];t={offset:s.offset+s.length,length:0,content:","+i}}return withFormatting(e,t,r)}else{throw new Error(`Can not ${s===void 0?"remove":r.isArrayInsertion?"insert":"modify"} Array index ${t} as length is not sufficient`)}}else{throw new Error(`Can not add ${typeof g!=="number"?"index":"property"} to parent of type ${h.type}`)}}t.setProperty=setProperty;function withFormatting(t,s,i){if(!i.formattingOptions){return[s]}let r=applyEdit(t,s);let n=s.offset;let c=s.offset+s.content.length;if(s.length===0||s.content.length===0){while(n>0&&!(0,e.isEOL)(r,n-1)){n--}while(c<r.length&&!(0,e.isEOL)(r,c)){c++}}const d=(0,e.format)(r,{offset:n,length:c-n},{...i.formattingOptions,keepLines:false});for(let e=d.length-1;e>=0;e--){const t=d[e];r=applyEdit(r,t);n=Math.min(n,t.offset);c=Math.max(c,t.offset+t.length);c+=t.content.length-t.length}const h=t.length-(r.length-c)-n;return[{offset:n,length:h,content:r.substring(n,c)}]}function applyEdit(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}t.applyEdit=applyEdit;function isWS(e,t){return"\r\n \t".indexOf(e.charAt(t))!==-1}t.isWS=isWS}))},5796:(e,t,s)=>{(function(s){if(true&&typeof e.exports==="object"){var i=s(require,t);if(i!==undefined)e.exports=i}else if(typeof define==="function"&&define.amd){define(["require","exports","./scanner"],s)}})((function(){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isEOL=t.format=void 0;const e=s(1246);function format(t,s,i){let r;let n;let c;let d;let h;if(s){d=s.offset;h=d+s.length;c=d;while(c>0&&!isEOL(t,c-1)){c--}let e=h;while(e<t.length&&!isEOL(t,e)){e++}n=t.substring(c,e);r=computeIndentLevel(n,i)}else{n=t;r=0;c=0;d=0;h=t.length}const g=getEOL(i,t);let v=0;let b=0;let z;if(i.insertSpaces){z=repeat(" ",i.tabSize||4)}else{z="\t"}let N=(0,e.createScanner)(n,false);let D=false;function newLinesAndIndent(){if(v>1){return repeat(g,v)+repeat(z,r+b)}else{return g+repeat(z,r+b)}}function scanNext(){let e=N.scan();v=0;while(e===15||e===14){if(e===14&&i.keepLines){v+=1}else if(e===14){v=1}e=N.scan()}D=e===16||N.getTokenError()!==0;return e}const U=[];function addEdit(e,i,r){if(!D&&(!s||i<h&&r>d)&&t.substring(i,r)!==e){U.push({offset:i,length:r-i,content:e})}}let B=scanNext();if(i.keepLines&&v>0){addEdit(repeat(g,v),0,0)}if(B!==17){let e=N.getTokenOffset()+c;let t=repeat(z,r);addEdit(t,c,e)}while(B!==17){let e=N.getTokenOffset()+N.getTokenLength()+c;let t=scanNext();let s="";let r=false;while(v===0&&(t===12||t===13)){let i=N.getTokenOffset()+c;addEdit(" ",e,i);e=N.getTokenOffset()+N.getTokenLength()+c;r=t===12;s=r?newLinesAndIndent():"";t=scanNext()}if(t===2){if(B!==1){b--}if(i.keepLines&&v>0||!i.keepLines&&B!==1){s=newLinesAndIndent()}else if(i.keepLines){s=" "}}else if(t===4){if(B!==3){b--}if(i.keepLines&&v>0||!i.keepLines&&B!==3){s=newLinesAndIndent()}else if(i.keepLines){s=" "}}else{switch(B){case 3:case 1:b++;if(i.keepLines&&v>0||!i.keepLines){s=newLinesAndIndent()}else{s=" "}break;case 5:if(i.keepLines&&v>0||!i.keepLines){s=newLinesAndIndent()}else{s=" "}break;case 12:s=newLinesAndIndent();break;case 13:if(v>0){s=newLinesAndIndent()}else if(!r){s=" "}break;case 6:if(i.keepLines&&v>0){s=newLinesAndIndent()}else if(!r){s=" "}break;case 10:if(i.keepLines&&v>0){s=newLinesAndIndent()}else if(t===6&&!r){s=""}break;case 7:case 8:case 9:case 11:case 2:case 4:if(i.keepLines&&v>0){s=newLinesAndIndent()}else{if((t===12||t===13)&&!r){s=" "}else if(t!==5&&t!==17){D=true}}break;case 16:D=true;break}if(v>0&&(t===12||t===13)){s=newLinesAndIndent()}}if(t===17){if(i.keepLines&&v>0){s=newLinesAndIndent()}else{s=i.insertFinalNewline?g:""}}const n=N.getTokenOffset()+c;addEdit(s,e,n);B=t}return U}t.format=format;function repeat(e,t){let s="";for(let i=0;i<t;i++){s+=e}return s}function computeIndentLevel(e,t){let s=0;let i=0;const r=t.tabSize||4;while(s<e.length){let t=e.charAt(s);if(t===" "){i++}else if(t==="\t"){i+=r}else{break}s++}return Math.floor(i/r)}function getEOL(e,t){for(let e=0;e<t.length;e++){const s=t.charAt(e);if(s==="\r"){if(e+1<t.length&&t.charAt(e+1)==="\n"){return"\r\n"}return"\r"}else if(s==="\n"){return"\n"}}return e&&e.eol||"\n"}function isEOL(e,t){return"\r\n".indexOf(e.charAt(t))!==-1}t.isEOL=isEOL}))},8715:(e,t,s)=>{(function(s){if(true&&typeof e.exports==="object"){var i=s(require,t);if(i!==undefined)e.exports=i}else if(typeof define==="function"&&define.amd){define(["require","exports","./scanner"],s)}})((function(){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getNodeType=t.stripComments=t.visit=t.findNodeAtOffset=t.contains=t.getNodeValue=t.getNodePath=t.findNodeAtLocation=t.parseTree=t.parse=t.getLocation=void 0;const e=s(1246);var i;(function(e){e.DEFAULT={allowTrailingComma:false}})(i||(i={}));function getLocation(e,t){const s=[];const i=new Object;let r=undefined;const n={value:{},offset:0,length:0,type:"object",parent:undefined};let c=false;function setPreviousNode(e,t,s,i){n.value=e;n.offset=t;n.length=s;n.type=i;n.colonOffset=undefined;r=n}try{visit(e,{onObjectBegin:(e,n)=>{if(t<=e){throw i}r=undefined;c=t>e;s.push("")},onObjectProperty:(e,r,n)=>{if(t<r){throw i}setPreviousNode(e,r,n,"property");s[s.length-1]=e;if(t<=r+n){throw i}},onObjectEnd:(e,n)=>{if(t<=e){throw i}r=undefined;s.pop()},onArrayBegin:(e,n)=>{if(t<=e){throw i}r=undefined;s.push(0)},onArrayEnd:(e,n)=>{if(t<=e){throw i}r=undefined;s.pop()},onLiteralValue:(e,s,r)=>{if(t<s){throw i}setPreviousNode(e,s,r,getNodeType(e));if(t<=s+r){throw i}},onSeparator:(e,n,d)=>{if(t<=n){throw i}if(e===":"&&r&&r.type==="property"){r.colonOffset=n;c=false;r=undefined}else if(e===","){const e=s[s.length-1];if(typeof e==="number"){s[s.length-1]=e+1}else{c=true;s[s.length-1]=""}r=undefined}}})}catch(e){if(e!==i){throw e}}return{path:s,previousNode:r,isAtPropertyKey:c,matches:e=>{let t=0;for(let i=0;t<e.length&&i<s.length;i++){if(e[t]===s[i]||e[t]==="*"){t++}else if(e[t]!=="**"){return false}}return t===e.length}}}t.getLocation=getLocation;function parse(e,t=[],s=i.DEFAULT){let r=null;let n=[];const c=[];function onValue(e){if(Array.isArray(n)){n.push(e)}else if(r!==null){n[r]=e}}const d={onObjectBegin:()=>{const e={};onValue(e);c.push(n);n=e;r=null},onObjectProperty:e=>{r=e},onObjectEnd:()=>{n=c.pop()},onArrayBegin:()=>{const e=[];onValue(e);c.push(n);n=e;r=null},onArrayEnd:()=>{n=c.pop()},onLiteralValue:onValue,onError:(e,s,i)=>{t.push({error:e,offset:s,length:i})}};visit(e,d,s);return n[0]}t.parse=parse;function parseTree(e,t=[],s=i.DEFAULT){let r={type:"array",offset:-1,length:-1,children:[],parent:undefined};function ensurePropertyComplete(e){if(r.type==="property"){r.length=e-r.offset;r=r.parent}}function onValue(e){r.children.push(e);return e}const n={onObjectBegin:e=>{r=onValue({type:"object",offset:e,length:-1,parent:r,children:[]})},onObjectProperty:(e,t,s)=>{r=onValue({type:"property",offset:t,length:-1,parent:r,children:[]});r.children.push({type:"string",value:e,offset:t,length:s,parent:r})},onObjectEnd:(e,t)=>{ensurePropertyComplete(e+t);r.length=e+t-r.offset;r=r.parent;ensurePropertyComplete(e+t)},onArrayBegin:(e,t)=>{r=onValue({type:"array",offset:e,length:-1,parent:r,children:[]})},onArrayEnd:(e,t)=>{r.length=e+t-r.offset;r=r.parent;ensurePropertyComplete(e+t)},onLiteralValue:(e,t,s)=>{onValue({type:getNodeType(e),offset:t,length:s,parent:r,value:e});ensurePropertyComplete(t+s)},onSeparator:(e,t,s)=>{if(r.type==="property"){if(e===":"){r.colonOffset=t}else if(e===","){ensurePropertyComplete(t)}}},onError:(e,s,i)=>{t.push({error:e,offset:s,length:i})}};visit(e,n,s);const c=r.children[0];if(c){delete c.parent}return c}t.parseTree=parseTree;function findNodeAtLocation(e,t){if(!e){return undefined}let s=e;for(let e of t){if(typeof e==="string"){if(s.type!=="object"||!Array.isArray(s.children)){return undefined}let t=false;for(const i of s.children){if(Array.isArray(i.children)&&i.children[0].value===e&&i.children.length===2){s=i.children[1];t=true;break}}if(!t){return undefined}}else{const t=e;if(s.type!=="array"||t<0||!Array.isArray(s.children)||t>=s.children.length){return undefined}s=s.children[t]}}return s}t.findNodeAtLocation=findNodeAtLocation;function getNodePath(e){if(!e.parent||!e.parent.children){return[]}const t=getNodePath(e.parent);if(e.parent.type==="property"){const s=e.parent.children[0].value;t.push(s)}else if(e.parent.type==="array"){const s=e.parent.children.indexOf(e);if(s!==-1){t.push(s)}}return t}t.getNodePath=getNodePath;function getNodeValue(e){switch(e.type){case"array":return e.children.map(getNodeValue);case"object":const t=Object.create(null);for(let s of e.children){const e=s.children[1];if(e){t[s.children[0].value]=getNodeValue(e)}}return t;case"null":case"string":case"number":case"boolean":return e.value;default:return undefined}}t.getNodeValue=getNodeValue;function contains(e,t,s=false){return t>=e.offset&&t<e.offset+e.length||s&&t===e.offset+e.length}t.contains=contains;function findNodeAtOffset(e,t,s=false){if(contains(e,t,s)){const i=e.children;if(Array.isArray(i)){for(let e=0;e<i.length&&i[e].offset<=t;e++){const r=findNodeAtOffset(i[e],t,s);if(r){return r}}}return e}return undefined}t.findNodeAtOffset=findNodeAtOffset;function visit(t,s,r=i.DEFAULT){const n=(0,e.createScanner)(t,false);const c=[];function toNoArgVisit(e){return e?()=>e(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>true}function toNoArgVisitWithPath(e){return e?()=>e(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),(()=>c.slice())):()=>true}function toOneArgVisit(e){return e?t=>e(t,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>true}function toOneArgVisitWithPath(e){return e?t=>e(t,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),(()=>c.slice())):()=>true}const d=toNoArgVisitWithPath(s.onObjectBegin),h=toOneArgVisitWithPath(s.onObjectProperty),g=toNoArgVisit(s.onObjectEnd),v=toNoArgVisitWithPath(s.onArrayBegin),b=toNoArgVisit(s.onArrayEnd),z=toOneArgVisitWithPath(s.onLiteralValue),N=toOneArgVisit(s.onSeparator),D=toNoArgVisit(s.onComment),U=toOneArgVisit(s.onError);const B=r&&r.disallowComments;const V=r&&r.allowTrailingComma;function scanNext(){while(true){const e=n.scan();switch(n.getTokenError()){case 4:handleError(14);break;case 5:handleError(15);break;case 3:handleError(13);break;case 1:if(!B){handleError(11)}break;case 2:handleError(12);break;case 6:handleError(16);break}switch(e){case 12:case 13:if(B){handleError(10)}else{D()}break;case 16:handleError(1);break;case 15:case 14:break;default:return e}}}function handleError(e,t=[],s=[]){U(e);if(t.length+s.length>0){let e=n.getToken();while(e!==17){if(t.indexOf(e)!==-1){scanNext();break}else if(s.indexOf(e)!==-1){break}e=scanNext()}}}function parseString(e){const t=n.getTokenValue();if(e){z(t)}else{h(t);c.push(t)}scanNext();return true}function parseLiteral(){switch(n.getToken()){case 11:const e=n.getTokenValue();let t=Number(e);if(isNaN(t)){handleError(2);t=0}z(t);break;case 7:z(null);break;case 8:z(true);break;case 9:z(false);break;default:return false}scanNext();return true}function parseProperty(){if(n.getToken()!==10){handleError(3,[],[2,5]);return false}parseString(false);if(n.getToken()===6){N(":");scanNext();if(!parseValue()){handleError(4,[],[2,5])}}else{handleError(5,[],[2,5])}c.pop();return true}function parseObject(){d();scanNext();let e=false;while(n.getToken()!==2&&n.getToken()!==17){if(n.getToken()===5){if(!e){handleError(4,[],[])}N(",");scanNext();if(n.getToken()===2&&V){break}}else if(e){handleError(6,[],[])}if(!parseProperty()){handleError(4,[],[2,5])}e=true}g();if(n.getToken()!==2){handleError(7,[2],[])}else{scanNext()}return true}function parseArray(){v();scanNext();let e=true;let t=false;while(n.getToken()!==4&&n.getToken()!==17){if(n.getToken()===5){if(!t){handleError(4,[],[])}N(",");scanNext();if(n.getToken()===4&&V){break}}else if(t){handleError(6,[],[])}if(e){c.push(0);e=false}else{c[c.length-1]++}if(!parseValue()){handleError(4,[],[4,5])}t=true}b();if(!e){c.pop()}if(n.getToken()!==4){handleError(8,[4],[])}else{scanNext()}return true}function parseValue(){switch(n.getToken()){case 3:return parseArray();case 1:return parseObject();case 10:return parseString(true);default:return parseLiteral()}}scanNext();if(n.getToken()===17){if(r.allowEmptyContent){return true}handleError(4,[],[]);return false}if(!parseValue()){handleError(4,[],[]);return false}if(n.getToken()!==17){handleError(9,[],[])}return true}t.visit=visit;function stripComments(t,s){let i=(0,e.createScanner)(t),r=[],n,c=0,d;do{d=i.getPosition();n=i.scan();switch(n){case 12:case 13:case 17:if(c!==d){r.push(t.substring(c,d))}if(s!==undefined){r.push(i.getTokenValue().replace(/[^\r\n]/g,s))}c=i.getPosition();break}}while(n!==17);return r.join("")}t.stripComments=stripComments;function getNodeType(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(!e){return"null"}else if(Array.isArray(e)){return"array"}return"object"}default:return"null"}}t.getNodeType=getNodeType}))},1246:(e,t)=>{(function(s){if(true&&typeof e.exports==="object"){var i=s(require,t);if(i!==undefined)e.exports=i}else if(typeof define==="function"&&define.amd){define(["require","exports"],s)}})((function(){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createScanner=void 0;function createScanner(e,t=false){const s=e.length;let i=0,r="",n=0,c=16,d=0,h=0,g=0,v=0,b=0;function scanHexDigits(t,s){let r=0;let n=0;while(r<t||!s){let t=e.charCodeAt(i);if(t>=48&&t<=57){n=n*16+t-48}else if(t>=65&&t<=70){n=n*16+t-65+10}else if(t>=97&&t<=102){n=n*16+t-97+10}else{break}i++;r++}if(r<t){n=-1}return n}function setPosition(e){i=e;r="";n=0;c=16;b=0}function scanNumber(){let t=i;if(e.charCodeAt(i)===48){i++}else{i++;while(i<e.length&&isDigit(e.charCodeAt(i))){i++}}if(i<e.length&&e.charCodeAt(i)===46){i++;if(i<e.length&&isDigit(e.charCodeAt(i))){i++;while(i<e.length&&isDigit(e.charCodeAt(i))){i++}}else{b=3;return e.substring(t,i)}}let s=i;if(i<e.length&&(e.charCodeAt(i)===69||e.charCodeAt(i)===101)){i++;if(i<e.length&&e.charCodeAt(i)===43||e.charCodeAt(i)===45){i++}if(i<e.length&&isDigit(e.charCodeAt(i))){i++;while(i<e.length&&isDigit(e.charCodeAt(i))){i++}s=i}else{b=3}}return e.substring(t,s)}function scanString(){let t="",r=i;while(true){if(i>=s){t+=e.substring(r,i);b=2;break}const n=e.charCodeAt(i);if(n===34){t+=e.substring(r,i);i++;break}if(n===92){t+=e.substring(r,i);i++;if(i>=s){b=2;break}const n=e.charCodeAt(i++);switch(n){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:const e=scanHexDigits(4,true);if(e>=0){t+=String.fromCharCode(e)}else{b=4}break;default:b=5}r=i;continue}if(n>=0&&n<=31){if(isLineBreak(n)){t+=e.substring(r,i);b=2;break}else{b=6}}i++}return t}function scanNext(){r="";b=0;n=i;h=d;v=g;if(i>=s){n=s;return c=17}let t=e.charCodeAt(i);if(isWhiteSpace(t)){do{i++;r+=String.fromCharCode(t);t=e.charCodeAt(i)}while(isWhiteSpace(t));return c=15}if(isLineBreak(t)){i++;r+=String.fromCharCode(t);if(t===13&&e.charCodeAt(i)===10){i++;r+="\n"}d++;g=i;return c=14}switch(t){case 123:i++;return c=1;case 125:i++;return c=2;case 91:i++;return c=3;case 93:i++;return c=4;case 58:i++;return c=6;case 44:i++;return c=5;case 34:i++;r=scanString();return c=10;case 47:const h=i-1;if(e.charCodeAt(i+1)===47){i+=2;while(i<s){if(isLineBreak(e.charCodeAt(i))){break}i++}r=e.substring(h,i);return c=12}if(e.charCodeAt(i+1)===42){i+=2;const t=s-1;let n=false;while(i<t){const t=e.charCodeAt(i);if(t===42&&e.charCodeAt(i+1)===47){i+=2;n=true;break}i++;if(isLineBreak(t)){if(t===13&&e.charCodeAt(i)===10){i++}d++;g=i}}if(!n){i++;b=1}r=e.substring(h,i);return c=13}r+=String.fromCharCode(t);i++;return c=16;case 45:r+=String.fromCharCode(t);i++;if(i===s||!isDigit(e.charCodeAt(i))){return c=16}case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:r+=scanNumber();return c=11;default:while(i<s&&isUnknownContentCharacter(t)){i++;t=e.charCodeAt(i)}if(n!==i){r=e.substring(n,i);switch(r){case"true":return c=8;case"false":return c=9;case"null":return c=7}return c=16}r+=String.fromCharCode(t);i++;return c=16}}function isUnknownContentCharacter(e){if(isWhiteSpace(e)||isLineBreak(e)){return false}switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return false}return true}function scanNextNonTrivia(){let e;do{e=scanNext()}while(e>=12&&e<=15);return e}return{setPosition:setPosition,getPosition:()=>i,scan:t?scanNextNonTrivia:scanNext,getToken:()=>c,getTokenValue:()=>r,getTokenOffset:()=>n,getTokenLength:()=>i-n,getTokenStartLine:()=>h,getTokenStartCharacter:()=>n-v,getTokenError:()=>b}}t.createScanner=createScanner;function isWhiteSpace(e){return e===32||e===9}function isLineBreak(e){return e===10||e===13}function isDigit(e){return e>=48&&e<=57}var e;(function(e){e[e["lineFeed"]=10]="lineFeed";e[e["carriageReturn"]=13]="carriageReturn";e[e["space"]=32]="space";e[e["_0"]=48]="_0";e[e["_1"]=49]="_1";e[e["_2"]=50]="_2";e[e["_3"]=51]="_3";e[e["_4"]=52]="_4";e[e["_5"]=53]="_5";e[e["_6"]=54]="_6";e[e["_7"]=55]="_7";e[e["_8"]=56]="_8";e[e["_9"]=57]="_9";e[e["a"]=97]="a";e[e["b"]=98]="b";e[e["c"]=99]="c";e[e["d"]=100]="d";e[e["e"]=101]="e";e[e["f"]=102]="f";e[e["g"]=103]="g";e[e["h"]=104]="h";e[e["i"]=105]="i";e[e["j"]=106]="j";e[e["k"]=107]="k";e[e["l"]=108]="l";e[e["m"]=109]="m";e[e["n"]=110]="n";e[e["o"]=111]="o";e[e["p"]=112]="p";e[e["q"]=113]="q";e[e["r"]=114]="r";e[e["s"]=115]="s";e[e["t"]=116]="t";e[e["u"]=117]="u";e[e["v"]=118]="v";e[e["w"]=119]="w";e[e["x"]=120]="x";e[e["y"]=121]="y";e[e["z"]=122]="z";e[e["A"]=65]="A";e[e["B"]=66]="B";e[e["C"]=67]="C";e[e["D"]=68]="D";e[e["E"]=69]="E";e[e["F"]=70]="F";e[e["G"]=71]="G";e[e["H"]=72]="H";e[e["I"]=73]="I";e[e["J"]=74]="J";e[e["K"]=75]="K";e[e["L"]=76]="L";e[e["M"]=77]="M";e[e["N"]=78]="N";e[e["O"]=79]="O";e[e["P"]=80]="P";e[e["Q"]=81]="Q";e[e["R"]=82]="R";e[e["S"]=83]="S";e[e["T"]=84]="T";e[e["U"]=85]="U";e[e["V"]=86]="V";e[e["W"]=87]="W";e[e["X"]=88]="X";e[e["Y"]=89]="Y";e[e["Z"]=90]="Z";e[e["asterisk"]=42]="asterisk";e[e["backslash"]=92]="backslash";e[e["closeBrace"]=125]="closeBrace";e[e["closeBracket"]=93]="closeBracket";e[e["colon"]=58]="colon";e[e["comma"]=44]="comma";e[e["dot"]=46]="dot";e[e["doubleQuote"]=34]="doubleQuote";e[e["minus"]=45]="minus";e[e["openBrace"]=123]="openBrace";e[e["openBracket"]=91]="openBracket";e[e["plus"]=43]="plus";e[e["slash"]=47]="slash";e[e["formFeed"]=12]="formFeed";e[e["tab"]=9]="tab"})(e||(e={}))}))},3222:(e,t,s)=>{(function(s){if(true&&typeof e.exports==="object"){var i=s(require,t);if(i!==undefined)e.exports=i}else if(typeof define==="function"&&define.amd){define(["require","exports","./impl/format","./impl/edit","./impl/scanner","./impl/parser"],s)}})((function(){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.applyEdits=t.modify=t.format=t.printParseErrorCode=t.ParseErrorCode=t.stripComments=t.visit=t.getNodeValue=t.getNodePath=t.findNodeAtOffset=t.findNodeAtLocation=t.parseTree=t.parse=t.getLocation=t.SyntaxKind=t.ScanError=t.createScanner=void 0;const e=s(5796);const i=s(3264);const r=s(1246);const n=s(8715);t.createScanner=r.createScanner;var c;(function(e){e[e["None"]=0]="None";e[e["UnexpectedEndOfComment"]=1]="UnexpectedEndOfComment";e[e["UnexpectedEndOfString"]=2]="UnexpectedEndOfString";e[e["UnexpectedEndOfNumber"]=3]="UnexpectedEndOfNumber";e[e["InvalidUnicode"]=4]="InvalidUnicode";e[e["InvalidEscapeCharacter"]=5]="InvalidEscapeCharacter";e[e["InvalidCharacter"]=6]="InvalidCharacter"})(c=t.ScanError||(t.ScanError={}));var d;(function(e){e[e["OpenBraceToken"]=1]="OpenBraceToken";e[e["CloseBraceToken"]=2]="CloseBraceToken";e[e["OpenBracketToken"]=3]="OpenBracketToken";e[e["CloseBracketToken"]=4]="CloseBracketToken";e[e["CommaToken"]=5]="CommaToken";e[e["ColonToken"]=6]="ColonToken";e[e["NullKeyword"]=7]="NullKeyword";e[e["TrueKeyword"]=8]="TrueKeyword";e[e["FalseKeyword"]=9]="FalseKeyword";e[e["StringLiteral"]=10]="StringLiteral";e[e["NumericLiteral"]=11]="NumericLiteral";e[e["LineCommentTrivia"]=12]="LineCommentTrivia";e[e["BlockCommentTrivia"]=13]="BlockCommentTrivia";e[e["LineBreakTrivia"]=14]="LineBreakTrivia";e[e["Trivia"]=15]="Trivia";e[e["Unknown"]=16]="Unknown";e[e["EOF"]=17]="EOF"})(d=t.SyntaxKind||(t.SyntaxKind={}));t.getLocation=n.getLocation;t.parse=n.parse;t.parseTree=n.parseTree;t.findNodeAtLocation=n.findNodeAtLocation;t.findNodeAtOffset=n.findNodeAtOffset;t.getNodePath=n.getNodePath;t.getNodeValue=n.getNodeValue;t.visit=n.visit;t.stripComments=n.stripComments;var h;(function(e){e[e["InvalidSymbol"]=1]="InvalidSymbol";e[e["InvalidNumberFormat"]=2]="InvalidNumberFormat";e[e["PropertyNameExpected"]=3]="PropertyNameExpected";e[e["ValueExpected"]=4]="ValueExpected";e[e["ColonExpected"]=5]="ColonExpected";e[e["CommaExpected"]=6]="CommaExpected";e[e["CloseBraceExpected"]=7]="CloseBraceExpected";e[e["CloseBracketExpected"]=8]="CloseBracketExpected";e[e["EndOfFileExpected"]=9]="EndOfFileExpected";e[e["InvalidCommentToken"]=10]="InvalidCommentToken";e[e["UnexpectedEndOfComment"]=11]="UnexpectedEndOfComment";e[e["UnexpectedEndOfString"]=12]="UnexpectedEndOfString";e[e["UnexpectedEndOfNumber"]=13]="UnexpectedEndOfNumber";e[e["InvalidUnicode"]=14]="InvalidUnicode";e[e["InvalidEscapeCharacter"]=15]="InvalidEscapeCharacter";e[e["InvalidCharacter"]=16]="InvalidCharacter"})(h=t.ParseErrorCode||(t.ParseErrorCode={}));function printParseErrorCode(e){switch(e){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}t.printParseErrorCode=printParseErrorCode;function format(t,s,i){return e.format(t,s,i)}t.format=format;function modify(e,t,s,r){return i.setProperty(e,t,s,r)}t.modify=modify;function applyEdits(e,t){let s=t.slice(0).sort(((e,t)=>{const s=e.offset-t.offset;if(s===0){return e.length-t.length}return s}));let r=e.length;for(let t=s.length-1;t>=0;t--){let n=s[t];if(n.offset+n.length<=r){e=i.applyEdit(e,n)}else{throw new Error("Overlapping edit")}r=n.offset}return e}t.applyEdits=applyEdits}))},4260:(e,t,s)=>{"use strict";const i=typeof process==="object"&&process?process:{stdout:null,stderr:null};const r=s(2361);const n=s(2781);const c=s(1576);const d=c.StringDecoder;const h=Symbol("EOF");const g=Symbol("maybeEmitEnd");const v=Symbol("emittedEnd");const b=Symbol("emittingEnd");const z=Symbol("emittedError");const N=Symbol("closed");const D=Symbol("read");const U=Symbol("flush");const B=Symbol("flushChunk");const V=Symbol("encoding");const W=Symbol("decoder");const q=Symbol("flowing");const H=Symbol("paused");const K=Symbol("resume");const Y=Symbol("buffer");const Q=Symbol("pipes");const X=Symbol("bufferLength");const ee=Symbol("bufferPush");const te=Symbol("bufferShift");const se=Symbol("objectMode");const ie=Symbol("destroyed");const re=Symbol("error");const ne=Symbol("emitData");const oe=Symbol("emitEnd");const ae=Symbol("emitEnd2");const ce=Symbol("async");const le=Symbol("abort");const de=Symbol("aborted");const ue=Symbol("signal");const defer=e=>Promise.resolve().then(e);const he=global._MP_NO_ITERATOR_SYMBOLS_!=="1";const fe=he&&Symbol.asyncIterator||Symbol("asyncIterator not implemented");const pe=he&&Symbol.iterator||Symbol("iterator not implemented");const isEndish=e=>e==="end"||e==="finish"||e==="prefinish";const isArrayBuffer=e=>e instanceof ArrayBuffer||typeof e==="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0;const isArrayBufferView=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e);class Pipe{constructor(e,t,s){this.src=e;this.dest=t;this.opts=s;this.ondrain=()=>e[K]();t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe();if(this.opts.end)this.dest.end()}}class PipeProxyErrors extends Pipe{unpipe(){this.src.removeListener("error",this.proxyErrors);super.unpipe()}constructor(e,t,s){super(e,t,s);this.proxyErrors=e=>t.emit("error",e);e.on("error",this.proxyErrors)}}class Minipass extends n{constructor(e){super();this[q]=false;this[H]=false;this[Q]=[];this[Y]=[];this[se]=e&&e.objectMode||false;if(this[se])this[V]=null;else this[V]=e&&e.encoding||null;if(this[V]==="buffer")this[V]=null;this[ce]=e&&!!e.async||false;this[W]=this[V]?new d(this[V]):null;this[h]=false;this[v]=false;this[b]=false;this[N]=false;this[z]=null;this.writable=true;this.readable=true;this[X]=0;this[ie]=false;if(e&&e.debugExposeBuffer===true){Object.defineProperty(this,"buffer",{get:()=>this[Y]})}if(e&&e.debugExposePipes===true){Object.defineProperty(this,"pipes",{get:()=>this[Q]})}this[ue]=e&&e.signal;this[de]=false;if(this[ue]){this[ue].addEventListener("abort",(()=>this[le]()));if(this[ue].aborted){this[le]()}}}get bufferLength(){return this[X]}get encoding(){return this[V]}set encoding(e){if(this[se])throw new Error("cannot set encoding in objectMode");if(this[V]&&e!==this[V]&&(this[W]&&this[W].lastNeed||this[X]))throw new Error("cannot change encoding");if(this[V]!==e){this[W]=e?new d(e):null;if(this[Y].length)this[Y]=this[Y].map((e=>this[W].write(e)))}this[V]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[se]}set objectMode(e){this[se]=this[se]||!!e}get["async"](){return this[ce]}set["async"](e){this[ce]=this[ce]||!!e}[le](){this[de]=true;this.emit("abort",this[ue].reason);this.destroy(this[ue].reason)}get aborted(){return this[de]}set aborted(e){}write(e,t,s){if(this[de])return false;if(this[h])throw new Error("write after end");if(this[ie]){this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"}));return true}if(typeof t==="function")s=t,t="utf8";if(!t)t="utf8";const i=this[ce]?defer:e=>e();if(!this[se]&&!Buffer.isBuffer(e)){if(isArrayBufferView(e))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if(isArrayBuffer(e))e=Buffer.from(e);else if(typeof e!=="string")this.objectMode=true}if(this[se]){if(this.flowing&&this[X]!==0)this[U](true);if(this.flowing)this.emit("data",e);else this[ee](e);if(this[X]!==0)this.emit("readable");if(s)i(s);return this.flowing}if(!e.length){if(this[X]!==0)this.emit("readable");if(s)i(s);return this.flowing}if(typeof e==="string"&&!(t===this[V]&&!this[W].lastNeed)){e=Buffer.from(e,t)}if(Buffer.isBuffer(e)&&this[V])e=this[W].write(e);if(this.flowing&&this[X]!==0)this[U](true);if(this.flowing)this.emit("data",e);else this[ee](e);if(this[X]!==0)this.emit("readable");if(s)i(s);return this.flowing}read(e){if(this[ie])return null;if(this[X]===0||e===0||e>this[X]){this[g]();return null}if(this[se])e=null;if(this[Y].length>1&&!this[se]){if(this.encoding)this[Y]=[this[Y].join("")];else this[Y]=[Buffer.concat(this[Y],this[X])]}const t=this[D](e||null,this[Y][0]);this[g]();return t}[D](e,t){if(e===t.length||e===null)this[te]();else{this[Y][0]=t.slice(e);t=t.slice(0,e);this[X]-=e}this.emit("data",t);if(!this[Y].length&&!this[h])this.emit("drain");return t}end(e,t,s){if(typeof e==="function")s=e,e=null;if(typeof t==="function")s=t,t="utf8";if(e)this.write(e,t);if(s)this.once("end",s);this[h]=true;this.writable=false;if(this.flowing||!this[H])this[g]();return this}[K](){if(this[ie])return;this[H]=false;this[q]=true;this.emit("resume");if(this[Y].length)this[U]();else if(this[h])this[g]();else this.emit("drain")}resume(){return this[K]()}pause(){this[q]=false;this[H]=true}get destroyed(){return this[ie]}get flowing(){return this[q]}get paused(){return this[H]}[ee](e){if(this[se])this[X]+=1;else this[X]+=e.length;this[Y].push(e)}[te](){if(this[se])this[X]-=1;else this[X]-=this[Y][0].length;return this[Y].shift()}[U](e){do{}while(this[B](this[te]())&&this[Y].length);if(!e&&!this[Y].length&&!this[h])this.emit("drain")}[B](e){this.emit("data",e);return this.flowing}pipe(e,t){if(this[ie])return;const s=this[v];t=t||{};if(e===i.stdout||e===i.stderr)t.end=false;else t.end=t.end!==false;t.proxyErrors=!!t.proxyErrors;if(s){if(t.end)e.end()}else{this[Q].push(!t.proxyErrors?new Pipe(this,e,t):new PipeProxyErrors(this,e,t));if(this[ce])defer((()=>this[K]()));else this[K]()}return e}unpipe(e){const t=this[Q].find((t=>t.dest===e));if(t){this[Q].splice(this[Q].indexOf(t),1);t.unpipe()}}addListener(e,t){return this.on(e,t)}on(e,t){const s=super.on(e,t);if(e==="data"&&!this[Q].length&&!this.flowing)this[K]();else if(e==="readable"&&this[X]!==0)super.emit("readable");else if(isEndish(e)&&this[v]){super.emit(e);this.removeAllListeners(e)}else if(e==="error"&&this[z]){if(this[ce])defer((()=>t.call(this,this[z])));else t.call(this,this[z])}return s}get emittedEnd(){return this[v]}[g](){if(!this[b]&&!this[v]&&!this[ie]&&this[Y].length===0&&this[h]){this[b]=true;this.emit("end");this.emit("prefinish");this.emit("finish");if(this[N])this.emit("close");this[b]=false}}emit(e,t,...s){if(e!=="error"&&e!=="close"&&e!==ie&&this[ie])return;else if(e==="data"){return!this[se]&&!t?false:this[ce]?defer((()=>this[ne](t))):this[ne](t)}else if(e==="end"){return this[oe]()}else if(e==="close"){this[N]=true;if(!this[v]&&!this[ie])return;const e=super.emit("close");this.removeAllListeners("close");return e}else if(e==="error"){this[z]=t;super.emit(re,t);const e=!this[ue]||this.listeners("error").length?super.emit("error",t):false;this[g]();return e}else if(e==="resume"){const e=super.emit("resume");this[g]();return e}else if(e==="finish"||e==="prefinish"){const t=super.emit(e);this.removeAllListeners(e);return t}const i=super.emit(e,t,...s);this[g]();return i}[ne](e){for(const t of this[Q]){if(t.dest.write(e)===false)this.pause()}const t=super.emit("data",e);this[g]();return t}[oe](){if(this[v])return;this[v]=true;this.readable=false;if(this[ce])defer((()=>this[ae]()));else this[ae]()}[ae](){if(this[W]){const e=this[W].end();if(e){for(const t of this[Q]){t.dest.write(e)}super.emit("data",e)}}for(const e of this[Q]){e.end()}const e=super.emit("end");this.removeAllListeners("end");return e}collect(){const e=[];if(!this[se])e.dataLength=0;const t=this.promise();this.on("data",(t=>{e.push(t);if(!this[se])e.dataLength+=t.length}));return t.then((()=>e))}concat(){return this[se]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((e=>this[se]?Promise.reject(new Error("cannot concat in objectMode")):this[V]?e.join(""):Buffer.concat(e,e.dataLength)))}promise(){return new Promise(((e,t)=>{this.on(ie,(()=>t(new Error("stream destroyed"))));this.on("error",(e=>t(e)));this.on("end",(()=>e()))}))}[fe](){let e=false;const stop=()=>{this.pause();e=true;return Promise.resolve({done:true})};const next=()=>{if(e)return stop();const t=this.read();if(t!==null)return Promise.resolve({done:false,value:t});if(this[h])return stop();let s=null;let i=null;const onerr=e=>{this.removeListener("data",ondata);this.removeListener("end",onend);this.removeListener(ie,ondestroy);stop();i(e)};const ondata=e=>{this.removeListener("error",onerr);this.removeListener("end",onend);this.removeListener(ie,ondestroy);this.pause();s({value:e,done:!!this[h]})};const onend=()=>{this.removeListener("error",onerr);this.removeListener("data",ondata);this.removeListener(ie,ondestroy);stop();s({done:true})};const ondestroy=()=>onerr(new Error("stream destroyed"));return new Promise(((e,t)=>{i=t;s=e;this.once(ie,ondestroy);this.once("error",onerr);this.once("end",onend);this.once("data",ondata)}))};return{next:next,throw:stop,return:stop,[fe](){return this}}}[pe](){let e=false;const stop=()=>{this.pause();this.removeListener(re,stop);this.removeListener(ie,stop);this.removeListener("end",stop);e=true;return{done:true}};const next=()=>{if(e)return stop();const t=this.read();return t===null?stop():{value:t}};this.once("end",stop);this.once(re,stop);this.once(ie,stop);return{next:next,throw:stop,return:stop,[pe](){return this}}}destroy(e){if(this[ie]){if(e)this.emit("error",e);else this.emit(ie);return this}this[ie]=true;this[Y].length=0;this[X]=0;if(typeof this.close==="function"&&!this[N])this.close();if(e)this.emit("error",e);else this.emit(ie);return this}static isStream(e){return!!e&&(e instanceof Minipass||e instanceof n||e instanceof r&&(typeof e.pipe==="function"||typeof e.write==="function"&&typeof e.end==="function"))}}t.Minipass=Minipass},4249:(e,t,s)=>{e.exports=s(709)},709:(e,t,s)=>{"use strict";var i=s(1808);var r=s(4404);var n=s(3685);var c=s(5687);var d=s(2361);var h=s(9491);var g=s(3837);t.httpOverHttp=httpOverHttp;t.httpsOverHttp=httpsOverHttp;t.httpOverHttps=httpOverHttps;t.httpsOverHttps=httpsOverHttps;function httpOverHttp(e){var t=new TunnelingAgent(e);t.request=n.request;return t}function httpsOverHttp(e){var t=new TunnelingAgent(e);t.request=n.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function httpOverHttps(e){var t=new TunnelingAgent(e);t.request=c.request;return t}function httpsOverHttps(e){var t=new TunnelingAgent(e);t.request=c.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function TunnelingAgent(e){var t=this;t.options=e||{};t.proxyOptions=t.options.proxy||{};t.maxSockets=t.options.maxSockets||n.Agent.defaultMaxSockets;t.requests=[];t.sockets=[];t.on("free",(function onFree(e,s,i,r){var n=toOptions(s,i,r);for(var c=0,d=t.requests.length;c<d;++c){var h=t.requests[c];if(h.host===n.host&&h.port===n.port){t.requests.splice(c,1);h.request.onSocket(e);return}}e.destroy();t.removeSocket(e)}))}g.inherits(TunnelingAgent,d.EventEmitter);TunnelingAgent.prototype.addRequest=function addRequest(e,t,s,i){var r=this;var n=mergeOptions({request:e},r.options,toOptions(t,s,i));if(r.sockets.length>=this.maxSockets){r.requests.push(n);return}r.createSocket(n,(function(t){t.on("free",onFree);t.on("close",onCloseOrRemove);t.on("agentRemove",onCloseOrRemove);e.onSocket(t);function onFree(){r.emit("free",t,n)}function onCloseOrRemove(e){r.removeSocket(t);t.removeListener("free",onFree);t.removeListener("close",onCloseOrRemove);t.removeListener("agentRemove",onCloseOrRemove)}}))};TunnelingAgent.prototype.createSocket=function createSocket(e,t){var s=this;var i={};s.sockets.push(i);var r=mergeOptions({},s.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:false,headers:{host:e.host+":"+e.port}});if(e.localAddress){r.localAddress=e.localAddress}if(r.proxyAuth){r.headers=r.headers||{};r.headers["Proxy-Authorization"]="Basic "+new Buffer(r.proxyAuth).toString("base64")}v("making CONNECT request");var n=s.request(r);n.useChunkedEncodingByDefault=false;n.once("response",onResponse);n.once("upgrade",onUpgrade);n.once("connect",onConnect);n.once("error",onError);n.end();function onResponse(e){e.upgrade=true}function onUpgrade(e,t,s){process.nextTick((function(){onConnect(e,t,s)}))}function onConnect(r,c,d){n.removeAllListeners();c.removeAllListeners();if(r.statusCode!==200){v("tunneling socket could not be established, statusCode=%d",r.statusCode);c.destroy();var h=new Error("tunneling socket could not be established, "+"statusCode="+r.statusCode);h.code="ECONNRESET";e.request.emit("error",h);s.removeSocket(i);return}if(d.length>0){v("got illegal response body from proxy");c.destroy();var h=new Error("got illegal response body from proxy");h.code="ECONNRESET";e.request.emit("error",h);s.removeSocket(i);return}v("tunneling connection has established");s.sockets[s.sockets.indexOf(i)]=c;return t(c)}function onError(t){n.removeAllListeners();v("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var r=new Error("tunneling socket could not be established, "+"cause="+t.message);r.code="ECONNRESET";e.request.emit("error",r);s.removeSocket(i)}};TunnelingAgent.prototype.removeSocket=function removeSocket(e){var t=this.sockets.indexOf(e);if(t===-1){return}this.sockets.splice(t,1);var s=this.requests.shift();if(s){this.createSocket(s,(function(e){s.request.onSocket(e)}))}};function createSecureSocket(e,t){var s=this;TunnelingAgent.prototype.createSocket.call(s,e,(function(i){var n=e.request.getHeader("host");var c=mergeOptions({},s.options,{socket:i,servername:n?n.replace(/:.*$/,""):e.host});var d=r.connect(0,c);s.sockets[s.sockets.indexOf(i)]=d;t(d)}))}function toOptions(e,t,s){if(typeof e==="string"){return{host:e,port:t,localAddress:s}}return e}function mergeOptions(e){for(var t=1,s=arguments.length;t<s;++t){var i=arguments[t];if(typeof i==="object"){var r=Object.keys(i);for(var n=0,c=r.length;n<c;++n){var d=r[n];if(i[d]!==undefined){e[d]=i[d]}}}}return e}var v;if(process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)){v=function(){var e=Array.prototype.slice.call(arguments);if(typeof e[0]==="string"){e[0]="TUNNEL: "+e[0]}else{e.unshift("TUNNEL:")}console.error.apply(console,e)}}else{v=function(){}}t.debug=v},2033:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"v1",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"v3",{enumerable:true,get:function(){return r.default}});Object.defineProperty(t,"v4",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"v5",{enumerable:true,get:function(){return c.default}});Object.defineProperty(t,"NIL",{enumerable:true,get:function(){return d.default}});Object.defineProperty(t,"version",{enumerable:true,get:function(){return h.default}});Object.defineProperty(t,"validate",{enumerable:true,get:function(){return g.default}});Object.defineProperty(t,"stringify",{enumerable:true,get:function(){return v.default}});Object.defineProperty(t,"parse",{enumerable:true,get:function(){return b.default}});var i=_interopRequireDefault(s(9370));var r=_interopRequireDefault(s(8638));var n=_interopRequireDefault(s(3519));var c=_interopRequireDefault(s(8239));var d=_interopRequireDefault(s(680));var h=_interopRequireDefault(s(3609));var g=_interopRequireDefault(s(6009));var v=_interopRequireDefault(s(9729));var b=_interopRequireDefault(s(8951));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}},7276:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(s(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function md5(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return i.default.createHash("md5").update(e).digest()}var r=md5;t["default"]=r},680:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var s="00000000-0000-0000-0000-000000000000";t["default"]=s},8951:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(s(6009));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function parse(e){if(!(0,i.default)(e)){throw TypeError("Invalid UUID")}let t;const s=new Uint8Array(16);s[0]=(t=parseInt(e.slice(0,8),16))>>>24;s[1]=t>>>16&255;s[2]=t>>>8&255;s[3]=t&255;s[4]=(t=parseInt(e.slice(9,13),16))>>>8;s[5]=t&255;s[6]=(t=parseInt(e.slice(14,18),16))>>>8;s[7]=t&255;s[8]=(t=parseInt(e.slice(19,23),16))>>>8;s[9]=t&255;s[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255;s[11]=t/4294967296&255;s[12]=t>>>24&255;s[13]=t>>>16&255;s[14]=t>>>8&255;s[15]=t&255;return s}var r=parse;t["default"]=r},646:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t["default"]=s},7548:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=rng;var i=_interopRequireDefault(s(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const r=new Uint8Array(256);let n=r.length;function rng(){if(n>r.length-16){i.default.randomFillSync(r);n=0}return r.slice(n,n+=16)}},3557:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(s(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function sha1(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return i.default.createHash("sha1").update(e).digest()}var r=sha1;t["default"]=r},9729:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(s(6009));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const r=[];for(let e=0;e<256;++e){r.push((e+256).toString(16).substr(1))}function stringify(e,t=0){const s=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!(0,i.default)(s)){throw TypeError("Stringified UUID is invalid")}return s}var n=stringify;t["default"]=n},9370:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(s(7548));var r=_interopRequireDefault(s(9729));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}let n;let c;let d=0;let h=0;function v1(e,t,s){let g=t&&s||0;const v=t||new Array(16);e=e||{};let b=e.node||n;let z=e.clockseq!==undefined?e.clockseq:c;if(b==null||z==null){const t=e.random||(e.rng||i.default)();if(b==null){b=n=[t[0]|1,t[1],t[2],t[3],t[4],t[5]]}if(z==null){z=c=(t[6]<<8|t[7])&16383}}let N=e.msecs!==undefined?e.msecs:Date.now();let D=e.nsecs!==undefined?e.nsecs:h+1;const U=N-d+(D-h)/1e4;if(U<0&&e.clockseq===undefined){z=z+1&16383}if((U<0||N>d)&&e.nsecs===undefined){D=0}if(D>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}d=N;h=D;c=z;N+=122192928e5;const B=((N&268435455)*1e4+D)%4294967296;v[g++]=B>>>24&255;v[g++]=B>>>16&255;v[g++]=B>>>8&255;v[g++]=B&255;const V=N/4294967296*1e4&268435455;v[g++]=V>>>8&255;v[g++]=V&255;v[g++]=V>>>24&15|16;v[g++]=V>>>16&255;v[g++]=z>>>8|128;v[g++]=z&255;for(let e=0;e<6;++e){v[g+e]=b[e]}return t||(0,r.default)(v)}var g=v1;t["default"]=g},8638:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(s(6694));var r=_interopRequireDefault(s(7276));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const n=(0,i.default)("v3",48,r.default);var c=n;t["default"]=c},6694:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=_default;t.URL=t.DNS=void 0;var i=_interopRequireDefault(s(9729));var r=_interopRequireDefault(s(8951));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function stringToBytes(e){e=unescape(encodeURIComponent(e));const t=[];for(let s=0;s<e.length;++s){t.push(e.charCodeAt(s))}return t}const n="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=n;const c="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=c;function _default(e,t,s){function generateUUID(e,n,c,d){if(typeof e==="string"){e=stringToBytes(e)}if(typeof n==="string"){n=(0,r.default)(n)}if(n.length!==16){throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)")}let h=new Uint8Array(16+e.length);h.set(n);h.set(e,n.length);h=s(h);h[6]=h[6]&15|t;h[8]=h[8]&63|128;if(c){d=d||0;for(let e=0;e<16;++e){c[d+e]=h[e]}return c}return(0,i.default)(h)}try{generateUUID.name=e}catch(e){}generateUUID.DNS=n;generateUUID.URL=c;return generateUUID}},3519:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(s(7548));var r=_interopRequireDefault(s(9729));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function v4(e,t,s){e=e||{};const n=e.random||(e.rng||i.default)();n[6]=n[6]&15|64;n[8]=n[8]&63|128;if(t){s=s||0;for(let e=0;e<16;++e){t[s+e]=n[e]}return t}return(0,r.default)(n)}var n=v4;t["default"]=n},8239:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(s(6694));var r=_interopRequireDefault(s(3557));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const n=(0,i.default)("v5",80,r.default);var c=n;t["default"]=c},6009:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(s(646));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function validate(e){return typeof e==="string"&&i.default.test(e)}var r=validate;t["default"]=r},3609:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=_interopRequireDefault(s(6009));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function version(e){if(!(0,i.default)(e)){throw TypeError("Invalid UUID")}return parseInt(e.substr(14,1),16)}var r=version;t["default"]=r},5267:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ZodError=t.quotelessJson=t.ZodIssueCode=void 0;const i=s(114);t.ZodIssueCode=i.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);const quotelessJson=e=>{const t=JSON.stringify(e,null,2);return t.replace(/"([^"]+)":/g,"$1:")};t.quotelessJson=quotelessJson;class ZodError extends Error{constructor(e){super();this.issues=[];this.addIssue=e=>{this.issues=[...this.issues,e]};this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;if(Object.setPrototypeOf){Object.setPrototypeOf(this,t)}else{this.__proto__=t}this.name="ZodError";this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message};const s={_errors:[]};const processError=e=>{for(const i of e.issues){if(i.code==="invalid_union"){i.unionErrors.map(processError)}else if(i.code==="invalid_return_type"){processError(i.returnTypeError)}else if(i.code==="invalid_arguments"){processError(i.argumentsError)}else if(i.path.length===0){s._errors.push(t(i))}else{let e=s;let r=0;while(r<i.path.length){const s=i.path[r];const n=r===i.path.length-1;if(!n){e[s]=e[s]||{_errors:[]}}else{e[s]=e[s]||{_errors:[]};e[s]._errors.push(t(i))}e=e[s];r++}}}};processError(this);return s}toString(){return this.message}get message(){return JSON.stringify(this.issues,i.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=(e=>e.message)){const t={};const s=[];for(const i of this.issues){if(i.path.length>0){t[i.path[0]]=t[i.path[0]]||[];t[i.path[0]].push(e(i))}else{s.push(e(i))}}return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}t.ZodError=ZodError;ZodError.create=e=>{const t=new ZodError(e);return t}},6690:function(e,t,s){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.getErrorMap=t.setErrorMap=t.defaultErrorMap=void 0;const r=i(s(3800));t.defaultErrorMap=r.default;let n=r.default;function setErrorMap(e){n=e}t.setErrorMap=setErrorMap;function getErrorMap(){return n}t.getErrorMap=getErrorMap},288:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){if(i===undefined)i=s;Object.defineProperty(e,i,{enumerable:true,get:function(){return t[s]}})}:function(e,t,s,i){if(i===undefined)i=s;e[i]=t[s]});var r=this&&this.__exportStar||function(e,t){for(var s in e)if(s!=="default"&&!Object.prototype.hasOwnProperty.call(t,s))i(t,e,s)};Object.defineProperty(t,"__esModule",{value:true});r(s(6690),t);r(s(5203),t);r(s(5062),t);r(s(114),t);r(s(8196),t);r(s(5267),t)},8551:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.errorUtil=void 0;var s;(function(e){e.errToObj=e=>typeof e==="string"?{message:e}:e||{};e.toString=e=>typeof e==="string"?e:e===null||e===void 0?void 0:e.message})(s=t.errorUtil||(t.errorUtil={}))},5203:function(e,t,s){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.isAsync=t.isValid=t.isDirty=t.isAborted=t.OK=t.DIRTY=t.INVALID=t.ParseStatus=t.addIssueToContext=t.EMPTY_PATH=t.makeIssue=void 0;const r=s(6690);const n=i(s(3800));const makeIssue=e=>{const{data:t,path:s,errorMaps:i,issueData:r}=e;const n=[...s,...r.path||[]];const c={...r,path:n};let d="";const h=i.filter((e=>!!e)).slice().reverse();for(const e of h){d=e(c,{data:t,defaultError:d}).message}return{...r,path:n,message:r.message||d}};t.makeIssue=makeIssue;t.EMPTY_PATH=[];function addIssueToContext(e,s){const i=(0,t.makeIssue)({issueData:s,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,(0,r.getErrorMap)(),n.default].filter((e=>!!e))});e.common.issues.push(i)}t.addIssueToContext=addIssueToContext;class ParseStatus{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray(e,s){const i=[];for(const r of s){if(r.status==="aborted")return t.INVALID;if(r.status==="dirty")e.dirty();i.push(r.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const s=[];for(const e of t){s.push({key:await e.key,value:await e.value})}return ParseStatus.mergeObjectSync(e,s)}static mergeObjectSync(e,s){const i={};for(const r of s){const{key:s,value:n}=r;if(s.status==="aborted")return t.INVALID;if(n.status==="aborted")return t.INVALID;if(s.status==="dirty")e.dirty();if(n.status==="dirty")e.dirty();if(typeof n.value!=="undefined"||r.alwaysSet){i[s.value]=n.value}}return{status:e.value,value:i}}}t.ParseStatus=ParseStatus;t.INVALID=Object.freeze({status:"aborted"});const DIRTY=e=>({status:"dirty",value:e});t.DIRTY=DIRTY;const OK=e=>({status:"valid",value:e});t.OK=OK;const isAborted=e=>e.status==="aborted";t.isAborted=isAborted;const isDirty=e=>e.status==="dirty";t.isDirty=isDirty;const isValid=e=>e.status==="valid";t.isValid=isValid;const isAsync=e=>typeof Promise!=="undefined"&&e instanceof Promise;t.isAsync=isAsync},5062:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},114:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getParsedType=t.ZodParsedType=t.objectUtil=t.util=void 0;var s;(function(e){e.assertEqual=e=>e;function assertIs(e){}e.assertIs=assertIs;function assertNever(e){throw new Error}e.assertNever=assertNever;e.arrayToEnum=e=>{const t={};for(const s of e){t[s]=s}return t};e.getValidEnumValues=t=>{const s=e.objectKeys(t).filter((e=>typeof t[t[e]]!=="number"));const i={};for(const e of s){i[e]=t[e]}return e.objectValues(i)};e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]}));e.objectKeys=typeof Object.keys==="function"?e=>Object.keys(e):e=>{const t=[];for(const s in e){if(Object.prototype.hasOwnProperty.call(e,s)){t.push(s)}}return t};e.find=(e,t)=>{for(const s of e){if(t(s))return s}return undefined};e.isInteger=typeof Number.isInteger==="function"?e=>Number.isInteger(e):e=>typeof e==="number"&&isFinite(e)&&Math.floor(e)===e;function joinValues(e,t=" | "){return e.map((e=>typeof e==="string"?`'${e}'`:e)).join(t)}e.joinValues=joinValues;e.jsonStringifyReplacer=(e,t)=>{if(typeof t==="bigint"){return t.toString()}return t}})(s=t.util||(t.util={}));var i;(function(e){e.mergeShapes=(e,t)=>({...e,...t})})(i=t.objectUtil||(t.objectUtil={}));t.ZodParsedType=s.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);const getParsedType=e=>{const s=typeof e;switch(s){case"undefined":return t.ZodParsedType.undefined;case"string":return t.ZodParsedType.string;case"number":return isNaN(e)?t.ZodParsedType.nan:t.ZodParsedType.number;case"boolean":return t.ZodParsedType.boolean;case"function":return t.ZodParsedType.function;case"bigint":return t.ZodParsedType.bigint;case"symbol":return t.ZodParsedType.symbol;case"object":if(Array.isArray(e)){return t.ZodParsedType.array}if(e===null){return t.ZodParsedType.null}if(e.then&&typeof e.then==="function"&&e.catch&&typeof e.catch==="function"){return t.ZodParsedType.promise}if(typeof Map!=="undefined"&&e instanceof Map){return t.ZodParsedType.map}if(typeof Set!=="undefined"&&e instanceof Set){return t.ZodParsedType.set}if(typeof Date!=="undefined"&&e instanceof Date){return t.ZodParsedType.date}return t.ZodParsedType.object;default:return t.ZodParsedType.unknown}};t.getParsedType=getParsedType},801:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){if(i===undefined)i=s;Object.defineProperty(e,i,{enumerable:true,get:function(){return t[s]}})}:function(e,t,s,i){if(i===undefined)i=s;e[i]=t[s]});var r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s))i(t,e,s);r(t,e);return t};var c=this&&this.__exportStar||function(e,t){for(var s in e)if(s!=="default"&&!Object.prototype.hasOwnProperty.call(t,s))i(t,e,s)};Object.defineProperty(t,"__esModule",{value:true});t.z=void 0;const d=n(s(288));t.z=d;c(s(288),t);t["default"]=d},3800:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=s(114);const r=s(5267);const errorMap=(e,t)=>{let s;switch(e.code){case r.ZodIssueCode.invalid_type:if(e.received===i.ZodParsedType.undefined){s="Required"}else{s=`Expected ${e.expected}, received ${e.received}`}break;case r.ZodIssueCode.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,i.util.jsonStringifyReplacer)}`;break;case r.ZodIssueCode.unrecognized_keys:s=`Unrecognized key(s) in object: ${i.util.joinValues(e.keys,", ")}`;break;case r.ZodIssueCode.invalid_union:s=`Invalid input`;break;case r.ZodIssueCode.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${i.util.joinValues(e.options)}`;break;case r.ZodIssueCode.invalid_enum_value:s=`Invalid enum value. Expected ${i.util.joinValues(e.options)}, received '${e.received}'`;break;case r.ZodIssueCode.invalid_arguments:s=`Invalid function arguments`;break;case r.ZodIssueCode.invalid_return_type:s=`Invalid function return type`;break;case r.ZodIssueCode.invalid_date:s=`Invalid date`;break;case r.ZodIssueCode.invalid_string:if(typeof e.validation==="object"){if("includes"in e.validation){s=`Invalid input: must include "${e.validation.includes}"`;if(typeof e.validation.position==="number"){s=`${s} at one or more positions greater than or equal to ${e.validation.position}`}}else if("startsWith"in e.validation){s=`Invalid input: must start with "${e.validation.startsWith}"`}else if("endsWith"in e.validation){s=`Invalid input: must end with "${e.validation.endsWith}"`}else{i.util.assertNever(e.validation)}}else if(e.validation!=="regex"){s=`Invalid ${e.validation}`}else{s="Invalid"}break;case r.ZodIssueCode.too_small:if(e.type==="array")s=`Array must contain ${e.exact?"exactly":e.inclusive?`at least`:`more than`} ${e.minimum} element(s)`;else if(e.type==="string")s=`String must contain ${e.exact?"exactly":e.inclusive?`at least`:`over`} ${e.minimum} character(s)`;else if(e.type==="number")s=`Number must be ${e.exact?`exactly equal to `:e.inclusive?`greater than or equal to `:`greater than `}${e.minimum}`;else if(e.type==="date")s=`Date must be ${e.exact?`exactly equal to `:e.inclusive?`greater than or equal to `:`greater than `}${new Date(Number(e.minimum))}`;else s="Invalid input";break;case r.ZodIssueCode.too_big:if(e.type==="array")s=`Array must contain ${e.exact?`exactly`:e.inclusive?`at most`:`less than`} ${e.maximum} element(s)`;else if(e.type==="string")s=`String must contain ${e.exact?`exactly`:e.inclusive?`at most`:`under`} ${e.maximum} character(s)`;else if(e.type==="number")s=`Number must be ${e.exact?`exactly`:e.inclusive?`less than or equal to`:`less than`} ${e.maximum}`;else if(e.type==="bigint")s=`BigInt must be ${e.exact?`exactly`:e.inclusive?`less than or equal to`:`less than`} ${e.maximum}`;else if(e.type==="date")s=`Date must be ${e.exact?`exactly`:e.inclusive?`smaller than or equal to`:`smaller than`} ${new Date(Number(e.maximum))}`;else s="Invalid input";break;case r.ZodIssueCode.custom:s=`Invalid input`;break;case r.ZodIssueCode.invalid_intersection_types:s=`Intersection results could not be merged`;break;case r.ZodIssueCode.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case r.ZodIssueCode.not_finite:s="Number must be finite";break;default:s=t.defaultError;i.util.assertNever(e)}return{message:s}};t["default"]=errorMap},8196:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.discriminatedUnion=t.date=t.boolean=t.bigint=t.array=t.any=t.coerce=t.ZodFirstPartyTypeKind=t.late=t.ZodSchema=t.Schema=t.custom=t.ZodPipeline=t.ZodBranded=t.BRAND=t.ZodNaN=t.ZodCatch=t.ZodDefault=t.ZodNullable=t.ZodOptional=t.ZodTransformer=t.ZodEffects=t.ZodPromise=t.ZodNativeEnum=t.ZodEnum=t.ZodLiteral=t.ZodLazy=t.ZodFunction=t.ZodSet=t.ZodMap=t.ZodRecord=t.ZodTuple=t.ZodIntersection=t.ZodDiscriminatedUnion=t.ZodUnion=t.ZodObject=t.ZodArray=t.ZodVoid=t.ZodNever=t.ZodUnknown=t.ZodAny=t.ZodNull=t.ZodUndefined=t.ZodSymbol=t.ZodDate=t.ZodBoolean=t.ZodBigInt=t.ZodNumber=t.ZodString=t.ZodType=void 0;t.NEVER=t["void"]=t.unknown=t.union=t.undefined=t.tuple=t.transformer=t.symbol=t.string=t.strictObject=t.set=t.record=t.promise=t.preprocess=t.pipeline=t.ostring=t.optional=t.onumber=t.oboolean=t.object=t.number=t.nullable=t["null"]=t.never=t.nativeEnum=t.nan=t.map=t.literal=t.lazy=t.intersection=t["instanceof"]=t["function"]=t["enum"]=t.effect=void 0;const i=s(6690);const r=s(8551);const n=s(5203);const c=s(114);const d=s(5267);class ParseInputLazyPath{constructor(e,t,s,i){this._cachedPath=[];this.parent=e;this.data=t;this._path=s;this._key=i}get path(){if(!this._cachedPath.length){if(this._key instanceof Array){this._cachedPath.push(...this._path,...this._key)}else{this._cachedPath.push(...this._path,this._key)}}return this._cachedPath}}const handleResult=(e,t)=>{if((0,n.isValid)(t)){return{success:true,data:t.value}}else{if(!e.common.issues.length){throw new Error("Validation failed but no issues detected.")}return{success:false,get error(){if(this._error)return this._error;const t=new d.ZodError(e.common.issues);this._error=t;return this._error}}}};function processCreateParams(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:i,description:r}=e;if(t&&(s||i)){throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`)}if(t)return{errorMap:t,description:r};const customMap=(e,t)=>{if(e.code!=="invalid_type")return{message:t.defaultError};if(typeof t.data==="undefined"){return{message:i!==null&&i!==void 0?i:t.defaultError}}return{message:s!==null&&s!==void 0?s:t.defaultError}};return{errorMap:customMap,description:r}}class ZodType{constructor(e){this.spa=this.safeParseAsync;this._def=e;this.parse=this.parse.bind(this);this.safeParse=this.safeParse.bind(this);this.parseAsync=this.parseAsync.bind(this);this.safeParseAsync=this.safeParseAsync.bind(this);this.spa=this.spa.bind(this);this.refine=this.refine.bind(this);this.refinement=this.refinement.bind(this);this.superRefine=this.superRefine.bind(this);this.optional=this.optional.bind(this);this.nullable=this.nullable.bind(this);this.nullish=this.nullish.bind(this);this.array=this.array.bind(this);this.promise=this.promise.bind(this);this.or=this.or.bind(this);this.and=this.and.bind(this);this.transform=this.transform.bind(this);this.brand=this.brand.bind(this);this.default=this.default.bind(this);this.catch=this.catch.bind(this);this.describe=this.describe.bind(this);this.pipe=this.pipe.bind(this);this.isNullable=this.isNullable.bind(this);this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return(0,c.getParsedType)(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:(0,c.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new n.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,c.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if((0,n.isAsync)(t)){throw new Error("Synchronous parse encountered promise.")}return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){var s;const i={common:{issues:[],async:(s=t===null||t===void 0?void 0:t.async)!==null&&s!==void 0?s:false,contextualErrorMap:t===null||t===void 0?void 0:t.errorMap},path:(t===null||t===void 0?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,c.getParsedType)(e)};const r=this._parseSync({data:e,path:i.path,parent:i});return handleResult(i,r)}async parseAsync(e,t){const s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){const s={common:{issues:[],contextualErrorMap:t===null||t===void 0?void 0:t.errorMap,async:true},path:(t===null||t===void 0?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,c.getParsedType)(e)};const i=this._parse({data:e,path:s.path,parent:s});const r=await((0,n.isAsync)(i)?i:Promise.resolve(i));return handleResult(s,r)}refine(e,t){const getIssueProperties=e=>{if(typeof t==="string"||typeof t==="undefined"){return{message:t}}else if(typeof t==="function"){return t(e)}else{return t}};return this._refinement(((t,s)=>{const i=e(t);const setError=()=>s.addIssue({code:d.ZodIssueCode.custom,...getIssueProperties(t)});if(typeof Promise!=="undefined"&&i instanceof Promise){return i.then((e=>{if(!e){setError();return false}else{return true}}))}if(!i){setError();return false}else{return true}}))}refinement(e,t){return this._refinement(((s,i)=>{if(!e(s)){i.addIssue(typeof t==="function"?t(s,i):t);return false}else{return true}}))}_refinement(e){return new ZodEffects({schema:this,typeName:B.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(e){return ZodUnion.create([this,e],this._def)}and(e){return ZodIntersection.create(this,e,this._def)}transform(e){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:B.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e==="function"?e:()=>e;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:t,typeName:B.ZodDefault})}brand(){return new ZodBranded({typeName:B.ZodBranded,type:this,...processCreateParams(this._def)})}catch(e){const t=typeof e==="function"?e:()=>e;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:t,typeName:B.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ZodPipeline.create(this,e)}isOptional(){return this.safeParse(undefined).success}isNullable(){return this.safeParse(null).success}}t.ZodType=ZodType;t.Schema=ZodType;t.ZodSchema=ZodType;const h=/^c[^\s-]{8,}$/i;const g=/^[a-z][a-z0-9]*$/;const v=/[0-9A-HJKMNP-TV-Z]{26}/;const b=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;const z=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/;const N=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u;const D=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/;const U=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;const datetimeRegex=e=>{if(e.precision){if(e.offset){return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`)}else{return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`)}}else if(e.precision===0){if(e.offset){return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$`)}else{return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$`)}}else{if(e.offset){return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$`)}else{return new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$`)}}};function isValidIP(e,t){if((t==="v4"||!t)&&D.test(e)){return true}if((t==="v6"||!t)&&U.test(e)){return true}return false}class ZodString extends ZodType{constructor(){super(...arguments);this._regex=(e,t,s)=>this.refinement((t=>e.test(t)),{validation:t,code:d.ZodIssueCode.invalid_string,...r.errorUtil.errToObj(s)});this.nonempty=e=>this.min(1,r.errorUtil.errToObj(e));this.trim=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]});this.toLowerCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]});this.toUpperCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce){e.data=String(e.data)}const t=this._getType(e);if(t!==c.ZodParsedType.string){const t=this._getOrReturnCtx(e);(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.string,received:t.parsedType});return n.INVALID}const s=new n.ParseStatus;let i=undefined;for(const t of this._def.checks){if(t.kind==="min"){if(e.data.length<t.value){i=this._getOrReturnCtx(e,i);(0,n.addIssueToContext)(i,{code:d.ZodIssueCode.too_small,minimum:t.value,type:"string",inclusive:true,exact:false,message:t.message});s.dirty()}}else if(t.kind==="max"){if(e.data.length>t.value){i=this._getOrReturnCtx(e,i);(0,n.addIssueToContext)(i,{code:d.ZodIssueCode.too_big,maximum:t.value,type:"string",inclusive:true,exact:false,message:t.message});s.dirty()}}else if(t.kind==="length"){const r=e.data.length>t.value;const c=e.data.length<t.value;if(r||c){i=this._getOrReturnCtx(e,i);if(r){(0,n.addIssueToContext)(i,{code:d.ZodIssueCode.too_big,maximum:t.value,type:"string",inclusive:true,exact:true,message:t.message})}else if(c){(0,n.addIssueToContext)(i,{code:d.ZodIssueCode.too_small,minimum:t.value,type:"string",inclusive:true,exact:true,message:t.message})}s.dirty()}}else if(t.kind==="email"){if(!z.test(e.data)){i=this._getOrReturnCtx(e,i);(0,n.addIssueToContext)(i,{validation:"email",code:d.ZodIssueCode.invalid_string,message:t.message});s.dirty()}}else if(t.kind==="emoji"){if(!N.test(e.data)){i=this._getOrReturnCtx(e,i);(0,n.addIssueToContext)(i,{validation:"emoji",code:d.ZodIssueCode.invalid_string,message:t.message});s.dirty()}}else if(t.kind==="uuid"){if(!b.test(e.data)){i=this._getOrReturnCtx(e,i);(0,n.addIssueToContext)(i,{validation:"uuid",code:d.ZodIssueCode.invalid_string,message:t.message});s.dirty()}}else if(t.kind==="cuid"){if(!h.test(e.data)){i=this._getOrReturnCtx(e,i);(0,n.addIssueToContext)(i,{validation:"cuid",code:d.ZodIssueCode.invalid_string,message:t.message});s.dirty()}}else if(t.kind==="cuid2"){if(!g.test(e.data)){i=this._getOrReturnCtx(e,i);(0,n.addIssueToContext)(i,{validation:"cuid2",code:d.ZodIssueCode.invalid_string,message:t.message});s.dirty()}}else if(t.kind==="ulid"){if(!v.test(e.data)){i=this._getOrReturnCtx(e,i);(0,n.addIssueToContext)(i,{validation:"ulid",code:d.ZodIssueCode.invalid_string,message:t.message});s.dirty()}}else if(t.kind==="url"){try{new URL(e.data)}catch(r){i=this._getOrReturnCtx(e,i);(0,n.addIssueToContext)(i,{validation:"url",code:d.ZodIssueCode.invalid_string,message:t.message});s.dirty()}}else if(t.kind==="regex"){t.regex.lastIndex=0;const r=t.regex.test(e.data);if(!r){i=this._getOrReturnCtx(e,i);(0,n.addIssueToContext)(i,{validation:"regex",code:d.ZodIssueCode.invalid_string,message:t.message});s.dirty()}}else if(t.kind==="trim"){e.data=e.data.trim()}else if(t.kind==="includes"){if(!e.data.includes(t.value,t.position)){i=this._getOrReturnCtx(e,i);(0,n.addIssueToContext)(i,{code:d.ZodIssueCode.invalid_string,validation:{includes:t.value,position:t.position},message:t.message});s.dirty()}}else if(t.kind==="toLowerCase"){e.data=e.data.toLowerCase()}else if(t.kind==="toUpperCase"){e.data=e.data.toUpperCase()}else if(t.kind==="startsWith"){if(!e.data.startsWith(t.value)){i=this._getOrReturnCtx(e,i);(0,n.addIssueToContext)(i,{code:d.ZodIssueCode.invalid_string,validation:{startsWith:t.value},message:t.message});s.dirty()}}else if(t.kind==="endsWith"){if(!e.data.endsWith(t.value)){i=this._getOrReturnCtx(e,i);(0,n.addIssueToContext)(i,{code:d.ZodIssueCode.invalid_string,validation:{endsWith:t.value},message:t.message});s.dirty()}}else if(t.kind==="datetime"){const r=datetimeRegex(t);if(!r.test(e.data)){i=this._getOrReturnCtx(e,i);(0,n.addIssueToContext)(i,{code:d.ZodIssueCode.invalid_string,validation:"datetime",message:t.message});s.dirty()}}else if(t.kind==="ip"){if(!isValidIP(e.data,t.version)){i=this._getOrReturnCtx(e,i);(0,n.addIssueToContext)(i,{validation:"ip",code:d.ZodIssueCode.invalid_string,message:t.message});s.dirty()}}else{c.util.assertNever(t)}}return{status:s.value,value:e.data}}_addCheck(e){return new ZodString({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...r.errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...r.errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...r.errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...r.errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...r.errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...r.errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...r.errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...r.errorUtil.errToObj(e)})}datetime(e){var t;if(typeof e==="string"){return this._addCheck({kind:"datetime",precision:null,offset:false,message:e})}return this._addCheck({kind:"datetime",precision:typeof(e===null||e===void 0?void 0:e.precision)==="undefined"?null:e===null||e===void 0?void 0:e.precision,offset:(t=e===null||e===void 0?void 0:e.offset)!==null&&t!==void 0?t:false,...r.errorUtil.errToObj(e===null||e===void 0?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...r.errorUtil.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t===null||t===void 0?void 0:t.position,...r.errorUtil.errToObj(t===null||t===void 0?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...r.errorUtil.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...r.errorUtil.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...r.errorUtil.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...r.errorUtil.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...r.errorUtil.errToObj(t)})}get isDatetime(){return!!this._def.checks.find((e=>e.kind==="datetime"))}get isEmail(){return!!this._def.checks.find((e=>e.kind==="email"))}get isURL(){return!!this._def.checks.find((e=>e.kind==="url"))}get isEmoji(){return!!this._def.checks.find((e=>e.kind==="emoji"))}get isUUID(){return!!this._def.checks.find((e=>e.kind==="uuid"))}get isCUID(){return!!this._def.checks.find((e=>e.kind==="cuid"))}get isCUID2(){return!!this._def.checks.find((e=>e.kind==="cuid2"))}get isULID(){return!!this._def.checks.find((e=>e.kind==="ulid"))}get isIP(){return!!this._def.checks.find((e=>e.kind==="ip"))}get minLength(){let e=null;for(const t of this._def.checks){if(t.kind==="min"){if(e===null||t.value>e)e=t.value}}return e}get maxLength(){let e=null;for(const t of this._def.checks){if(t.kind==="max"){if(e===null||t.value<e)e=t.value}}return e}}t.ZodString=ZodString;ZodString.create=e=>{var t;return new ZodString({checks:[],typeName:B.ZodString,coerce:(t=e===null||e===void 0?void 0:e.coerce)!==null&&t!==void 0?t:false,...processCreateParams(e)})};function floatSafeRemainder(e,t){const s=(e.toString().split(".")[1]||"").length;const i=(t.toString().split(".")[1]||"").length;const r=s>i?s:i;const n=parseInt(e.toFixed(r).replace(".",""));const c=parseInt(t.toFixed(r).replace(".",""));return n%c/Math.pow(10,r)}class ZodNumber extends ZodType{constructor(){super(...arguments);this.min=this.gte;this.max=this.lte;this.step=this.multipleOf}_parse(e){if(this._def.coerce){e.data=Number(e.data)}const t=this._getType(e);if(t!==c.ZodParsedType.number){const t=this._getOrReturnCtx(e);(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.number,received:t.parsedType});return n.INVALID}let s=undefined;const i=new n.ParseStatus;for(const t of this._def.checks){if(t.kind==="int"){if(!c.util.isInteger(e.data)){s=this._getOrReturnCtx(e,s);(0,n.addIssueToContext)(s,{code:d.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:t.message});i.dirty()}}else if(t.kind==="min"){const r=t.inclusive?e.data<t.value:e.data<=t.value;if(r){s=this._getOrReturnCtx(e,s);(0,n.addIssueToContext)(s,{code:d.ZodIssueCode.too_small,minimum:t.value,type:"number",inclusive:t.inclusive,exact:false,message:t.message});i.dirty()}}else if(t.kind==="max"){const r=t.inclusive?e.data>t.value:e.data>=t.value;if(r){s=this._getOrReturnCtx(e,s);(0,n.addIssueToContext)(s,{code:d.ZodIssueCode.too_big,maximum:t.value,type:"number",inclusive:t.inclusive,exact:false,message:t.message});i.dirty()}}else if(t.kind==="multipleOf"){if(floatSafeRemainder(e.data,t.value)!==0){s=this._getOrReturnCtx(e,s);(0,n.addIssueToContext)(s,{code:d.ZodIssueCode.not_multiple_of,multipleOf:t.value,message:t.message});i.dirty()}}else if(t.kind==="finite"){if(!Number.isFinite(e.data)){s=this._getOrReturnCtx(e,s);(0,n.addIssueToContext)(s,{code:d.ZodIssueCode.not_finite,message:t.message});i.dirty()}}else{c.util.assertNever(t)}}return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,true,r.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,false,r.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,true,r.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,false,r.errorUtil.toString(t))}setLimit(e,t,s,i){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:r.errorUtil.toString(i)}]})}_addCheck(e){return new ZodNumber({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:r.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:false,message:r.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:false,message:r.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:true,message:r.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:true,message:r.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:r.errorUtil.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:r.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:true,value:Number.MIN_SAFE_INTEGER,message:r.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:true,value:Number.MAX_SAFE_INTEGER,message:r.errorUtil.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks){if(t.kind==="min"){if(e===null||t.value>e)e=t.value}}return e}get maxValue(){let e=null;for(const t of this._def.checks){if(t.kind==="max"){if(e===null||t.value<e)e=t.value}}return e}get isInt(){return!!this._def.checks.find((e=>e.kind==="int"||e.kind==="multipleOf"&&c.util.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf"){return true}else if(s.kind==="min"){if(t===null||s.value>t)t=s.value}else if(s.kind==="max"){if(e===null||s.value<e)e=s.value}}return Number.isFinite(t)&&Number.isFinite(e)}}t.ZodNumber=ZodNumber;ZodNumber.create=e=>new ZodNumber({checks:[],typeName:B.ZodNumber,coerce:(e===null||e===void 0?void 0:e.coerce)||false,...processCreateParams(e)});class ZodBigInt extends ZodType{constructor(){super(...arguments);this.min=this.gte;this.max=this.lte}_parse(e){if(this._def.coerce){e.data=BigInt(e.data)}const t=this._getType(e);if(t!==c.ZodParsedType.bigint){const t=this._getOrReturnCtx(e);(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.bigint,received:t.parsedType});return n.INVALID}let s=undefined;const i=new n.ParseStatus;for(const t of this._def.checks){if(t.kind==="min"){const r=t.inclusive?e.data<t.value:e.data<=t.value;if(r){s=this._getOrReturnCtx(e,s);(0,n.addIssueToContext)(s,{code:d.ZodIssueCode.too_small,type:"bigint",minimum:t.value,inclusive:t.inclusive,message:t.message});i.dirty()}}else if(t.kind==="max"){const r=t.inclusive?e.data>t.value:e.data>=t.value;if(r){s=this._getOrReturnCtx(e,s);(0,n.addIssueToContext)(s,{code:d.ZodIssueCode.too_big,type:"bigint",maximum:t.value,inclusive:t.inclusive,message:t.message});i.dirty()}}else if(t.kind==="multipleOf"){if(e.data%t.value!==BigInt(0)){s=this._getOrReturnCtx(e,s);(0,n.addIssueToContext)(s,{code:d.ZodIssueCode.not_multiple_of,multipleOf:t.value,message:t.message});i.dirty()}}else{c.util.assertNever(t)}}return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,true,r.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,false,r.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,true,r.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,false,r.errorUtil.toString(t))}setLimit(e,t,s,i){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:r.errorUtil.toString(i)}]})}_addCheck(e){return new ZodBigInt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:false,message:r.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:false,message:r.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:true,message:r.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:true,message:r.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:r.errorUtil.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks){if(t.kind==="min"){if(e===null||t.value>e)e=t.value}}return e}get maxValue(){let e=null;for(const t of this._def.checks){if(t.kind==="max"){if(e===null||t.value<e)e=t.value}}return e}}t.ZodBigInt=ZodBigInt;ZodBigInt.create=e=>{var t;return new ZodBigInt({checks:[],typeName:B.ZodBigInt,coerce:(t=e===null||e===void 0?void 0:e.coerce)!==null&&t!==void 0?t:false,...processCreateParams(e)})};class ZodBoolean extends ZodType{_parse(e){if(this._def.coerce){e.data=Boolean(e.data)}const t=this._getType(e);if(t!==c.ZodParsedType.boolean){const t=this._getOrReturnCtx(e);(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.boolean,received:t.parsedType});return n.INVALID}return(0,n.OK)(e.data)}}t.ZodBoolean=ZodBoolean;ZodBoolean.create=e=>new ZodBoolean({typeName:B.ZodBoolean,coerce:(e===null||e===void 0?void 0:e.coerce)||false,...processCreateParams(e)});class ZodDate extends ZodType{_parse(e){if(this._def.coerce){e.data=new Date(e.data)}const t=this._getType(e);if(t!==c.ZodParsedType.date){const t=this._getOrReturnCtx(e);(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.date,received:t.parsedType});return n.INVALID}if(isNaN(e.data.getTime())){const t=this._getOrReturnCtx(e);(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_date});return n.INVALID}const s=new n.ParseStatus;let i=undefined;for(const t of this._def.checks){if(t.kind==="min"){if(e.data.getTime()<t.value){i=this._getOrReturnCtx(e,i);(0,n.addIssueToContext)(i,{code:d.ZodIssueCode.too_small,message:t.message,inclusive:true,exact:false,minimum:t.value,type:"date"});s.dirty()}}else if(t.kind==="max"){if(e.data.getTime()>t.value){i=this._getOrReturnCtx(e,i);(0,n.addIssueToContext)(i,{code:d.ZodIssueCode.too_big,message:t.message,inclusive:true,exact:false,maximum:t.value,type:"date"});s.dirty()}}else{c.util.assertNever(t)}}return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ZodDate({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:r.errorUtil.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:r.errorUtil.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks){if(t.kind==="min"){if(e===null||t.value>e)e=t.value}}return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks){if(t.kind==="max"){if(e===null||t.value<e)e=t.value}}return e!=null?new Date(e):null}}t.ZodDate=ZodDate;ZodDate.create=e=>new ZodDate({checks:[],coerce:(e===null||e===void 0?void 0:e.coerce)||false,typeName:B.ZodDate,...processCreateParams(e)});class ZodSymbol extends ZodType{_parse(e){const t=this._getType(e);if(t!==c.ZodParsedType.symbol){const t=this._getOrReturnCtx(e);(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.symbol,received:t.parsedType});return n.INVALID}return(0,n.OK)(e.data)}}t.ZodSymbol=ZodSymbol;ZodSymbol.create=e=>new ZodSymbol({typeName:B.ZodSymbol,...processCreateParams(e)});class ZodUndefined extends ZodType{_parse(e){const t=this._getType(e);if(t!==c.ZodParsedType.undefined){const t=this._getOrReturnCtx(e);(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.undefined,received:t.parsedType});return n.INVALID}return(0,n.OK)(e.data)}}t.ZodUndefined=ZodUndefined;ZodUndefined.create=e=>new ZodUndefined({typeName:B.ZodUndefined,...processCreateParams(e)});class ZodNull extends ZodType{_parse(e){const t=this._getType(e);if(t!==c.ZodParsedType.null){const t=this._getOrReturnCtx(e);(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.null,received:t.parsedType});return n.INVALID}return(0,n.OK)(e.data)}}t.ZodNull=ZodNull;ZodNull.create=e=>new ZodNull({typeName:B.ZodNull,...processCreateParams(e)});class ZodAny extends ZodType{constructor(){super(...arguments);this._any=true}_parse(e){return(0,n.OK)(e.data)}}t.ZodAny=ZodAny;ZodAny.create=e=>new ZodAny({typeName:B.ZodAny,...processCreateParams(e)});class ZodUnknown extends ZodType{constructor(){super(...arguments);this._unknown=true}_parse(e){return(0,n.OK)(e.data)}}t.ZodUnknown=ZodUnknown;ZodUnknown.create=e=>new ZodUnknown({typeName:B.ZodUnknown,...processCreateParams(e)});class ZodNever extends ZodType{_parse(e){const t=this._getOrReturnCtx(e);(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.never,received:t.parsedType});return n.INVALID}}t.ZodNever=ZodNever;ZodNever.create=e=>new ZodNever({typeName:B.ZodNever,...processCreateParams(e)});class ZodVoid extends ZodType{_parse(e){const t=this._getType(e);if(t!==c.ZodParsedType.undefined){const t=this._getOrReturnCtx(e);(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.void,received:t.parsedType});return n.INVALID}return(0,n.OK)(e.data)}}t.ZodVoid=ZodVoid;ZodVoid.create=e=>new ZodVoid({typeName:B.ZodVoid,...processCreateParams(e)});class ZodArray extends ZodType{_parse(e){const{ctx:t,status:s}=this._processInputParams(e);const i=this._def;if(t.parsedType!==c.ZodParsedType.array){(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.array,received:t.parsedType});return n.INVALID}if(i.exactLength!==null){const e=t.data.length>i.exactLength.value;const r=t.data.length<i.exactLength.value;if(e||r){(0,n.addIssueToContext)(t,{code:e?d.ZodIssueCode.too_big:d.ZodIssueCode.too_small,minimum:r?i.exactLength.value:undefined,maximum:e?i.exactLength.value:undefined,type:"array",inclusive:true,exact:true,message:i.exactLength.message});s.dirty()}}if(i.minLength!==null){if(t.data.length<i.minLength.value){(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.too_small,minimum:i.minLength.value,type:"array",inclusive:true,exact:false,message:i.minLength.message});s.dirty()}}if(i.maxLength!==null){if(t.data.length>i.maxLength.value){(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.too_big,maximum:i.maxLength.value,type:"array",inclusive:true,exact:false,message:i.maxLength.message});s.dirty()}}if(t.common.async){return Promise.all([...t.data].map(((e,s)=>i.type._parseAsync(new ParseInputLazyPath(t,e,t.path,s))))).then((e=>n.ParseStatus.mergeArray(s,e)))}const r=[...t.data].map(((e,s)=>i.type._parseSync(new ParseInputLazyPath(t,e,t.path,s))));return n.ParseStatus.mergeArray(s,r)}get element(){return this._def.type}min(e,t){return new ZodArray({...this._def,minLength:{value:e,message:r.errorUtil.toString(t)}})}max(e,t){return new ZodArray({...this._def,maxLength:{value:e,message:r.errorUtil.toString(t)}})}length(e,t){return new ZodArray({...this._def,exactLength:{value:e,message:r.errorUtil.toString(t)}})}nonempty(e){return this.min(1,e)}}t.ZodArray=ZodArray;ZodArray.create=(e,t)=>new ZodArray({type:e,minLength:null,maxLength:null,exactLength:null,typeName:B.ZodArray,...processCreateParams(t)});function deepPartialify(e){if(e instanceof ZodObject){const t={};for(const s in e.shape){const i=e.shape[s];t[s]=ZodOptional.create(deepPartialify(i))}return new ZodObject({...e._def,shape:()=>t})}else if(e instanceof ZodArray){return new ZodArray({...e._def,type:deepPartialify(e.element)})}else if(e instanceof ZodOptional){return ZodOptional.create(deepPartialify(e.unwrap()))}else if(e instanceof ZodNullable){return ZodNullable.create(deepPartialify(e.unwrap()))}else if(e instanceof ZodTuple){return ZodTuple.create(e.items.map((e=>deepPartialify(e))))}else{return e}}class ZodObject extends ZodType{constructor(){super(...arguments);this._cached=null;this.nonstrict=this.passthrough;this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape();const t=c.util.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){const t=this._getType(e);if(t!==c.ZodParsedType.object){const t=this._getOrReturnCtx(e);(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.object,received:t.parsedType});return n.INVALID}const{status:s,ctx:i}=this._processInputParams(e);const{shape:r,keys:h}=this._getCached();const g=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip")){for(const e in i.data){if(!h.includes(e)){g.push(e)}}}const v=[];for(const e of h){const t=r[e];const s=i.data[e];v.push({key:{status:"valid",value:e},value:t._parse(new ParseInputLazyPath(i,s,i.path,e)),alwaysSet:e in i.data})}if(this._def.catchall instanceof ZodNever){const e=this._def.unknownKeys;if(e==="passthrough"){for(const e of g){v.push({key:{status:"valid",value:e},value:{status:"valid",value:i.data[e]}})}}else if(e==="strict"){if(g.length>0){(0,n.addIssueToContext)(i,{code:d.ZodIssueCode.unrecognized_keys,keys:g});s.dirty()}}else if(e==="strip"){}else{throw new Error(`Internal ZodObject error: invalid unknownKeys value.`)}}else{const e=this._def.catchall;for(const t of g){const s=i.data[t];v.push({key:{status:"valid",value:t},value:e._parse(new ParseInputLazyPath(i,s,i.path,t)),alwaysSet:t in i.data})}}if(i.common.async){return Promise.resolve().then((async()=>{const e=[];for(const t of v){const s=await t.key;e.push({key:s,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>n.ParseStatus.mergeObjectSync(s,e)))}else{return n.ParseStatus.mergeObjectSync(s,v)}}get shape(){return this._def.shape()}strict(e){r.errorUtil.errToObj;return new ZodObject({...this._def,unknownKeys:"strict",...e!==undefined?{errorMap:(t,s)=>{var i,n,c,d;const h=(c=(n=(i=this._def).errorMap)===null||n===void 0?void 0:n.call(i,t,s).message)!==null&&c!==void 0?c:s.defaultError;if(t.code==="unrecognized_keys")return{message:(d=r.errorUtil.errToObj(e).message)!==null&&d!==void 0?d:h};return{message:h}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(e){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){const t=new ZodObject({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:B.ZodObject});return t}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ZodObject({...this._def,catchall:e})}pick(e){const t={};c.util.objectKeys(e).forEach((s=>{if(e[s]&&this.shape[s]){t[s]=this.shape[s]}}));return new ZodObject({...this._def,shape:()=>t})}omit(e){const t={};c.util.objectKeys(this.shape).forEach((s=>{if(!e[s]){t[s]=this.shape[s]}}));return new ZodObject({...this._def,shape:()=>t})}deepPartial(){return deepPartialify(this)}partial(e){const t={};c.util.objectKeys(this.shape).forEach((s=>{const i=this.shape[s];if(e&&!e[s]){t[s]=i}else{t[s]=i.optional()}}));return new ZodObject({...this._def,shape:()=>t})}required(e){const t={};c.util.objectKeys(this.shape).forEach((s=>{if(e&&!e[s]){t[s]=this.shape[s]}else{const e=this.shape[s];let i=e;while(i instanceof ZodOptional){i=i._def.innerType}t[s]=i}}));return new ZodObject({...this._def,shape:()=>t})}keyof(){return createZodEnum(c.util.objectKeys(this.shape))}}t.ZodObject=ZodObject;ZodObject.create=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:B.ZodObject,...processCreateParams(t)});ZodObject.strictCreate=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strict",catchall:ZodNever.create(),typeName:B.ZodObject,...processCreateParams(t)});ZodObject.lazycreate=(e,t)=>new ZodObject({shape:e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:B.ZodObject,...processCreateParams(t)});class ZodUnion extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e);const s=this._def.options;function handleResults(e){for(const t of e){if(t.result.status==="valid"){return t.result}}for(const s of e){if(s.result.status==="dirty"){t.common.issues.push(...s.ctx.common.issues);return s.result}}const s=e.map((e=>new d.ZodError(e.ctx.common.issues)));(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_union,unionErrors:s});return n.INVALID}if(t.common.async){return Promise.all(s.map((async e=>{const s={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:s}),ctx:s}}))).then(handleResults)}else{let e=undefined;const i=[];for(const r of s){const s={...t,common:{...t.common,issues:[]},parent:null};const n=r._parseSync({data:t.data,path:t.path,parent:s});if(n.status==="valid"){return n}else if(n.status==="dirty"&&!e){e={result:n,ctx:s}}if(s.common.issues.length){i.push(s.common.issues)}}if(e){t.common.issues.push(...e.ctx.common.issues);return e.result}const r=i.map((e=>new d.ZodError(e)));(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_union,unionErrors:r});return n.INVALID}}get options(){return this._def.options}}t.ZodUnion=ZodUnion;ZodUnion.create=(e,t)=>new ZodUnion({options:e,typeName:B.ZodUnion,...processCreateParams(t)});const getDiscriminator=e=>{if(e instanceof ZodLazy){return getDiscriminator(e.schema)}else if(e instanceof ZodEffects){return getDiscriminator(e.innerType())}else if(e instanceof ZodLiteral){return[e.value]}else if(e instanceof ZodEnum){return e.options}else if(e instanceof ZodNativeEnum){return Object.keys(e.enum)}else if(e instanceof ZodDefault){return getDiscriminator(e._def.innerType)}else if(e instanceof ZodUndefined){return[undefined]}else if(e instanceof ZodNull){return[null]}else{return null}};class ZodDiscriminatedUnion extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==c.ZodParsedType.object){(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.object,received:t.parsedType});return n.INVALID}const s=this.discriminator;const i=t.data[s];const r=this.optionsMap.get(i);if(!r){(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]});return n.INVALID}if(t.common.async){return r._parseAsync({data:t.data,path:t.path,parent:t})}else{return r._parseSync({data:t.data,path:t.path,parent:t})}}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,s){const i=new Map;for(const s of t){const t=getDiscriminator(s.shape[e]);if(!t){throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`)}for(const r of t){if(i.has(r)){throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(r)}`)}i.set(r,s)}}return new ZodDiscriminatedUnion({typeName:B.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...processCreateParams(s)})}}t.ZodDiscriminatedUnion=ZodDiscriminatedUnion;function mergeValues(e,t){const s=(0,c.getParsedType)(e);const i=(0,c.getParsedType)(t);if(e===t){return{valid:true,data:e}}else if(s===c.ZodParsedType.object&&i===c.ZodParsedType.object){const s=c.util.objectKeys(t);const i=c.util.objectKeys(e).filter((e=>s.indexOf(e)!==-1));const r={...e,...t};for(const s of i){const i=mergeValues(e[s],t[s]);if(!i.valid){return{valid:false}}r[s]=i.data}return{valid:true,data:r}}else if(s===c.ZodParsedType.array&&i===c.ZodParsedType.array){if(e.length!==t.length){return{valid:false}}const s=[];for(let i=0;i<e.length;i++){const r=e[i];const n=t[i];const c=mergeValues(r,n);if(!c.valid){return{valid:false}}s.push(c.data)}return{valid:true,data:s}}else if(s===c.ZodParsedType.date&&i===c.ZodParsedType.date&&+e===+t){return{valid:true,data:e}}else{return{valid:false}}}class ZodIntersection extends ZodType{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);const handleParsed=(e,i)=>{if((0,n.isAborted)(e)||(0,n.isAborted)(i)){return n.INVALID}const r=mergeValues(e.value,i.value);if(!r.valid){(0,n.addIssueToContext)(s,{code:d.ZodIssueCode.invalid_intersection_types});return n.INVALID}if((0,n.isDirty)(e)||(0,n.isDirty)(i)){t.dirty()}return{status:t.value,value:r.data}};if(s.common.async){return Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then((([e,t])=>handleParsed(e,t)))}else{return handleParsed(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}}t.ZodIntersection=ZodIntersection;ZodIntersection.create=(e,t,s)=>new ZodIntersection({left:e,right:t,typeName:B.ZodIntersection,...processCreateParams(s)});class ZodTuple extends ZodType{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==c.ZodParsedType.array){(0,n.addIssueToContext)(s,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.array,received:s.parsedType});return n.INVALID}if(s.data.length<this._def.items.length){(0,n.addIssueToContext)(s,{code:d.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:true,exact:false,type:"array"});return n.INVALID}const i=this._def.rest;if(!i&&s.data.length>this._def.items.length){(0,n.addIssueToContext)(s,{code:d.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:true,exact:false,type:"array"});t.dirty()}const r=[...s.data].map(((e,t)=>{const i=this._def.items[t]||this._def.rest;if(!i)return null;return i._parse(new ParseInputLazyPath(s,e,s.path,t))})).filter((e=>!!e));if(s.common.async){return Promise.all(r).then((e=>n.ParseStatus.mergeArray(t,e)))}else{return n.ParseStatus.mergeArray(t,r)}}get items(){return this._def.items}rest(e){return new ZodTuple({...this._def,rest:e})}}t.ZodTuple=ZodTuple;ZodTuple.create=(e,t)=>{if(!Array.isArray(e)){throw new Error("You must pass an array of schemas to z.tuple([ ... ])")}return new ZodTuple({items:e,typeName:B.ZodTuple,rest:null,...processCreateParams(t)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==c.ZodParsedType.object){(0,n.addIssueToContext)(s,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.object,received:s.parsedType});return n.INVALID}const i=[];const r=this._def.keyType;const h=this._def.valueType;for(const e in s.data){i.push({key:r._parse(new ParseInputLazyPath(s,e,s.path,e)),value:h._parse(new ParseInputLazyPath(s,s.data[e],s.path,e))})}if(s.common.async){return n.ParseStatus.mergeObjectAsync(t,i)}else{return n.ParseStatus.mergeObjectSync(t,i)}}get element(){return this._def.valueType}static create(e,t,s){if(t instanceof ZodType){return new ZodRecord({keyType:e,valueType:t,typeName:B.ZodRecord,...processCreateParams(s)})}return new ZodRecord({keyType:ZodString.create(),valueType:e,typeName:B.ZodRecord,...processCreateParams(t)})}}t.ZodRecord=ZodRecord;class ZodMap extends ZodType{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==c.ZodParsedType.map){(0,n.addIssueToContext)(s,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.map,received:s.parsedType});return n.INVALID}const i=this._def.keyType;const r=this._def.valueType;const h=[...s.data.entries()].map((([e,t],n)=>({key:i._parse(new ParseInputLazyPath(s,e,s.path,[n,"key"])),value:r._parse(new ParseInputLazyPath(s,t,s.path,[n,"value"]))})));if(s.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const s of h){const i=await s.key;const r=await s.value;if(i.status==="aborted"||r.status==="aborted"){return n.INVALID}if(i.status==="dirty"||r.status==="dirty"){t.dirty()}e.set(i.value,r.value)}return{status:t.value,value:e}}))}else{const e=new Map;for(const s of h){const i=s.key;const r=s.value;if(i.status==="aborted"||r.status==="aborted"){return n.INVALID}if(i.status==="dirty"||r.status==="dirty"){t.dirty()}e.set(i.value,r.value)}return{status:t.value,value:e}}}}t.ZodMap=ZodMap;ZodMap.create=(e,t,s)=>new ZodMap({valueType:t,keyType:e,typeName:B.ZodMap,...processCreateParams(s)});class ZodSet extends ZodType{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==c.ZodParsedType.set){(0,n.addIssueToContext)(s,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.set,received:s.parsedType});return n.INVALID}const i=this._def;if(i.minSize!==null){if(s.data.size<i.minSize.value){(0,n.addIssueToContext)(s,{code:d.ZodIssueCode.too_small,minimum:i.minSize.value,type:"set",inclusive:true,exact:false,message:i.minSize.message});t.dirty()}}if(i.maxSize!==null){if(s.data.size>i.maxSize.value){(0,n.addIssueToContext)(s,{code:d.ZodIssueCode.too_big,maximum:i.maxSize.value,type:"set",inclusive:true,exact:false,message:i.maxSize.message});t.dirty()}}const r=this._def.valueType;function finalizeSet(e){const s=new Set;for(const i of e){if(i.status==="aborted")return n.INVALID;if(i.status==="dirty")t.dirty();s.add(i.value)}return{status:t.value,value:s}}const h=[...s.data.values()].map(((e,t)=>r._parse(new ParseInputLazyPath(s,e,s.path,t))));if(s.common.async){return Promise.all(h).then((e=>finalizeSet(e)))}else{return finalizeSet(h)}}min(e,t){return new ZodSet({...this._def,minSize:{value:e,message:r.errorUtil.toString(t)}})}max(e,t){return new ZodSet({...this._def,maxSize:{value:e,message:r.errorUtil.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}t.ZodSet=ZodSet;ZodSet.create=(e,t)=>new ZodSet({valueType:e,minSize:null,maxSize:null,typeName:B.ZodSet,...processCreateParams(t)});class ZodFunction extends ZodType{constructor(){super(...arguments);this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==c.ZodParsedType.function){(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.function,received:t.parsedType});return n.INVALID}function makeArgsIssue(e,s){return(0,n.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,i.getErrorMap)(),i.defaultErrorMap].filter((e=>!!e)),issueData:{code:d.ZodIssueCode.invalid_arguments,argumentsError:s}})}function makeReturnsIssue(e,s){return(0,n.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,i.getErrorMap)(),i.defaultErrorMap].filter((e=>!!e)),issueData:{code:d.ZodIssueCode.invalid_return_type,returnTypeError:s}})}const s={errorMap:t.common.contextualErrorMap};const r=t.data;if(this._def.returns instanceof ZodPromise){return(0,n.OK)((async(...e)=>{const t=new d.ZodError([]);const i=await this._def.args.parseAsync(e,s).catch((s=>{t.addIssue(makeArgsIssue(e,s));throw t}));const n=await r(...i);const c=await this._def.returns._def.type.parseAsync(n,s).catch((e=>{t.addIssue(makeReturnsIssue(n,e));throw t}));return c}))}else{return(0,n.OK)(((...e)=>{const t=this._def.args.safeParse(e,s);if(!t.success){throw new d.ZodError([makeArgsIssue(e,t.error)])}const i=r(...t.data);const n=this._def.returns.safeParse(i,s);if(!n.success){throw new d.ZodError([makeReturnsIssue(i,n.error)])}return n.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ZodFunction({...this._def,args:ZodTuple.create(e).rest(ZodUnknown.create())})}returns(e){return new ZodFunction({...this._def,returns:e})}implement(e){const t=this.parse(e);return t}strictImplement(e){const t=this.parse(e);return t}static create(e,t,s){return new ZodFunction({args:e?e:ZodTuple.create([]).rest(ZodUnknown.create()),returns:t||ZodUnknown.create(),typeName:B.ZodFunction,...processCreateParams(s)})}}t.ZodFunction=ZodFunction;class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);const s=this._def.getter();return s._parse({data:t.data,path:t.path,parent:t})}}t.ZodLazy=ZodLazy;ZodLazy.create=(e,t)=>new ZodLazy({getter:e,typeName:B.ZodLazy,...processCreateParams(t)});class ZodLiteral extends ZodType{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);(0,n.addIssueToContext)(t,{received:t.data,code:d.ZodIssueCode.invalid_literal,expected:this._def.value});return n.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}}t.ZodLiteral=ZodLiteral;ZodLiteral.create=(e,t)=>new ZodLiteral({value:e,typeName:B.ZodLiteral,...processCreateParams(t)});function createZodEnum(e,t){return new ZodEnum({values:e,typeName:B.ZodEnum,...processCreateParams(t)})}class ZodEnum extends ZodType{_parse(e){if(typeof e.data!=="string"){const t=this._getOrReturnCtx(e);const s=this._def.values;(0,n.addIssueToContext)(t,{expected:c.util.joinValues(s),received:t.parsedType,code:d.ZodIssueCode.invalid_type});return n.INVALID}if(this._def.values.indexOf(e.data)===-1){const t=this._getOrReturnCtx(e);const s=this._def.values;(0,n.addIssueToContext)(t,{received:t.data,code:d.ZodIssueCode.invalid_enum_value,options:s});return n.INVALID}return(0,n.OK)(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values){e[t]=t}return e}get Values(){const e={};for(const t of this._def.values){e[t]=t}return e}get Enum(){const e={};for(const t of this._def.values){e[t]=t}return e}extract(e){return ZodEnum.create(e)}exclude(e){return ZodEnum.create(this.options.filter((t=>!e.includes(t))))}}t.ZodEnum=ZodEnum;ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(e){const t=c.util.getValidEnumValues(this._def.values);const s=this._getOrReturnCtx(e);if(s.parsedType!==c.ZodParsedType.string&&s.parsedType!==c.ZodParsedType.number){const e=c.util.objectValues(t);(0,n.addIssueToContext)(s,{expected:c.util.joinValues(e),received:s.parsedType,code:d.ZodIssueCode.invalid_type});return n.INVALID}if(t.indexOf(e.data)===-1){const e=c.util.objectValues(t);(0,n.addIssueToContext)(s,{received:s.data,code:d.ZodIssueCode.invalid_enum_value,options:e});return n.INVALID}return(0,n.OK)(e.data)}get enum(){return this._def.values}}t.ZodNativeEnum=ZodNativeEnum;ZodNativeEnum.create=(e,t)=>new ZodNativeEnum({values:e,typeName:B.ZodNativeEnum,...processCreateParams(t)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==c.ZodParsedType.promise&&t.common.async===false){(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.promise,received:t.parsedType});return n.INVALID}const s=t.parsedType===c.ZodParsedType.promise?t.data:Promise.resolve(t.data);return(0,n.OK)(s.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}t.ZodPromise=ZodPromise;ZodPromise.create=(e,t)=>new ZodPromise({type:e,typeName:B.ZodPromise,...processCreateParams(t)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===B.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);const i=this._def.effect||null;if(i.type==="preprocess"){const e=i.transform(s.data);if(s.common.async){return Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:s.path,parent:s})))}else{return this._def.schema._parseSync({data:e,path:s.path,parent:s})}}const r={addIssue:e=>{(0,n.addIssueToContext)(s,e);if(e.fatal){t.abort()}else{t.dirty()}},get path(){return s.path}};r.addIssue=r.addIssue.bind(r);if(i.type==="refinement"){const executeRefinement=e=>{const t=i.refinement(e,r);if(s.common.async){return Promise.resolve(t)}if(t instanceof Promise){throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.")}return e};if(s.common.async===false){const e=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(e.status==="aborted")return n.INVALID;if(e.status==="dirty")t.dirty();executeRefinement(e.value);return{status:t.value,value:e.value}}else{return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then((e=>{if(e.status==="aborted")return n.INVALID;if(e.status==="dirty")t.dirty();return executeRefinement(e.value).then((()=>({status:t.value,value:e.value})))}))}}if(i.type==="transform"){if(s.common.async===false){const e=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!(0,n.isValid)(e))return e;const c=i.transform(e.value,r);if(c instanceof Promise){throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`)}return{status:t.value,value:c}}else{return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then((e=>{if(!(0,n.isValid)(e))return e;return Promise.resolve(i.transform(e.value,r)).then((e=>({status:t.value,value:e})))}))}}c.util.assertNever(i)}}t.ZodEffects=ZodEffects;t.ZodTransformer=ZodEffects;ZodEffects.create=(e,t,s)=>new ZodEffects({schema:e,typeName:B.ZodEffects,effect:t,...processCreateParams(s)});ZodEffects.createWithPreprocess=(e,t,s)=>new ZodEffects({schema:t,effect:{type:"preprocess",transform:e},typeName:B.ZodEffects,...processCreateParams(s)});class ZodOptional extends ZodType{_parse(e){const t=this._getType(e);if(t===c.ZodParsedType.undefined){return(0,n.OK)(undefined)}return this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t.ZodOptional=ZodOptional;ZodOptional.create=(e,t)=>new ZodOptional({innerType:e,typeName:B.ZodOptional,...processCreateParams(t)});class ZodNullable extends ZodType{_parse(e){const t=this._getType(e);if(t===c.ZodParsedType.null){return(0,n.OK)(null)}return this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t.ZodNullable=ZodNullable;ZodNullable.create=(e,t)=>new ZodNullable({innerType:e,typeName:B.ZodNullable,...processCreateParams(t)});class ZodDefault extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e);let s=t.data;if(t.parsedType===c.ZodParsedType.undefined){s=this._def.defaultValue()}return this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}t.ZodDefault=ZodDefault;ZodDefault.create=(e,t)=>new ZodDefault({innerType:e,typeName:B.ZodDefault,defaultValue:typeof t.default==="function"?t.default:()=>t.default,...processCreateParams(t)});class ZodCatch extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e);const s={...t,common:{...t.common,issues:[]}};const i=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});if((0,n.isAsync)(i)){return i.then((e=>({status:"valid",value:e.status==="valid"?e.value:this._def.catchValue({get error(){return new d.ZodError(s.common.issues)},input:s.data})})))}else{return{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new d.ZodError(s.common.issues)},input:s.data})}}}removeCatch(){return this._def.innerType}}t.ZodCatch=ZodCatch;ZodCatch.create=(e,t)=>new ZodCatch({innerType:e,typeName:B.ZodCatch,catchValue:typeof t.catch==="function"?t.catch:()=>t.catch,...processCreateParams(t)});class ZodNaN extends ZodType{_parse(e){const t=this._getType(e);if(t!==c.ZodParsedType.nan){const t=this._getOrReturnCtx(e);(0,n.addIssueToContext)(t,{code:d.ZodIssueCode.invalid_type,expected:c.ZodParsedType.nan,received:t.parsedType});return n.INVALID}return{status:"valid",value:e.data}}}t.ZodNaN=ZodNaN;ZodNaN.create=e=>new ZodNaN({typeName:B.ZodNaN,...processCreateParams(e)});t.BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e);const s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}t.ZodBranded=ZodBranded;class ZodPipeline extends ZodType{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.common.async){const handleAsync=async()=>{const e=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});if(e.status==="aborted")return n.INVALID;if(e.status==="dirty"){t.dirty();return(0,n.DIRTY)(e.value)}else{return this._def.out._parseAsync({data:e.value,path:s.path,parent:s})}};return handleAsync()}else{const e=this._def.in._parseSync({data:s.data,path:s.path,parent:s});if(e.status==="aborted")return n.INVALID;if(e.status==="dirty"){t.dirty();return{status:"dirty",value:e.value}}else{return this._def.out._parseSync({data:e.value,path:s.path,parent:s})}}}static create(e,t){return new ZodPipeline({in:e,out:t,typeName:B.ZodPipeline})}}t.ZodPipeline=ZodPipeline;const custom=(e,t={},s)=>{if(e)return ZodAny.create().superRefine(((i,r)=>{var n,c;if(!e(i)){const e=typeof t==="function"?t(i):typeof t==="string"?{message:t}:t;const d=(c=(n=e.fatal)!==null&&n!==void 0?n:s)!==null&&c!==void 0?c:true;const h=typeof e==="string"?{message:e}:e;r.addIssue({code:"custom",...h,fatal:d})}}));return ZodAny.create()};t.custom=custom;t.late={object:ZodObject.lazycreate};var B;(function(e){e["ZodString"]="ZodString";e["ZodNumber"]="ZodNumber";e["ZodNaN"]="ZodNaN";e["ZodBigInt"]="ZodBigInt";e["ZodBoolean"]="ZodBoolean";e["ZodDate"]="ZodDate";e["ZodSymbol"]="ZodSymbol";e["ZodUndefined"]="ZodUndefined";e["ZodNull"]="ZodNull";e["ZodAny"]="ZodAny";e["ZodUnknown"]="ZodUnknown";e["ZodNever"]="ZodNever";e["ZodVoid"]="ZodVoid";e["ZodArray"]="ZodArray";e["ZodObject"]="ZodObject";e["ZodUnion"]="ZodUnion";e["ZodDiscriminatedUnion"]="ZodDiscriminatedUnion";e["ZodIntersection"]="ZodIntersection";e["ZodTuple"]="ZodTuple";e["ZodRecord"]="ZodRecord";e["ZodMap"]="ZodMap";e["ZodSet"]="ZodSet";e["ZodFunction"]="ZodFunction";e["ZodLazy"]="ZodLazy";e["ZodLiteral"]="ZodLiteral";e["ZodEnum"]="ZodEnum";e["ZodEffects"]="ZodEffects";e["ZodNativeEnum"]="ZodNativeEnum";e["ZodOptional"]="ZodOptional";e["ZodNullable"]="ZodNullable";e["ZodDefault"]="ZodDefault";e["ZodCatch"]="ZodCatch";e["ZodPromise"]="ZodPromise";e["ZodBranded"]="ZodBranded";e["ZodPipeline"]="ZodPipeline"})(B=t.ZodFirstPartyTypeKind||(t.ZodFirstPartyTypeKind={}));class Class{constructor(...e){}}const instanceOfType=(e,s={message:`Input not instance of ${e.name}`})=>(0,t.custom)((t=>t instanceof e),s);t["instanceof"]=instanceOfType;const V=ZodString.create;t.string=V;const W=ZodNumber.create;t.number=W;const q=ZodNaN.create;t.nan=q;const H=ZodBigInt.create;t.bigint=H;const K=ZodBoolean.create;t.boolean=K;const Y=ZodDate.create;t.date=Y;const Q=ZodSymbol.create;t.symbol=Q;const X=ZodUndefined.create;t.undefined=X;const ee=ZodNull.create;t["null"]=ee;const te=ZodAny.create;t.any=te;const se=ZodUnknown.create;t.unknown=se;const ie=ZodNever.create;t.never=ie;const re=ZodVoid.create;t["void"]=re;const ne=ZodArray.create;t.array=ne;const oe=ZodObject.create;t.object=oe;const ae=ZodObject.strictCreate;t.strictObject=ae;const ce=ZodUnion.create;t.union=ce;const le=ZodDiscriminatedUnion.create;t.discriminatedUnion=le;const de=ZodIntersection.create;t.intersection=de;const ue=ZodTuple.create;t.tuple=ue;const he=ZodRecord.create;t.record=he;const fe=ZodMap.create;t.map=fe;const pe=ZodSet.create;t.set=pe;const me=ZodFunction.create;t["function"]=me;const ge=ZodLazy.create;t.lazy=ge;const ye=ZodLiteral.create;t.literal=ye;const ve=ZodEnum.create;t["enum"]=ve;const be=ZodNativeEnum.create;t.nativeEnum=be;const we=ZodPromise.create;t.promise=we;const _e=ZodEffects.create;t.effect=_e;t.transformer=_e;const xe=ZodOptional.create;t.optional=xe;const ke=ZodNullable.create;t.nullable=ke;const Se=ZodEffects.createWithPreprocess;t.preprocess=Se;const Te=ZodPipeline.create;t.pipeline=Te;const ostring=()=>V().optional();t.ostring=ostring;const onumber=()=>W().optional();t.onumber=onumber;const oboolean=()=>K().optional();t.oboolean=oboolean;t.coerce={string:e=>ZodString.create({...e,coerce:true}),number:e=>ZodNumber.create({...e,coerce:true}),boolean:e=>ZodBoolean.create({...e,coerce:true}),bigint:e=>ZodBigInt.create({...e,coerce:true}),date:e=>ZodDate.create({...e,coerce:true})};t.NEVER=n.INVALID},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3292:e=>{"use strict";e.exports=require("fs/promises")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},3977:e=>{"use strict";e.exports=require("node:fs/promises")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},1576:e=>{"use strict";e.exports=require("string_decoder")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},8392:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Glob=void 0;const i=s(7193);const r=s(9518);const n=s(7310);const c=s(9397);const d=s(1875);const h=typeof process==="object"&&process&&typeof process.platform==="string"?process.platform:"linux";class Glob{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(e,t){if(!t)throw new TypeError("glob options required");this.withFileTypes=!!t.withFileTypes;this.signal=t.signal;this.follow=!!t.follow;this.dot=!!t.dot;this.dotRelative=!!t.dotRelative;this.nodir=!!t.nodir;this.mark=!!t.mark;if(!t.cwd){this.cwd=""}else if(t.cwd instanceof URL||t.cwd.startsWith("file://")){t.cwd=(0,n.fileURLToPath)(t.cwd)}this.cwd=t.cwd||"";this.root=t.root;this.magicalBraces=!!t.magicalBraces;this.nobrace=!!t.nobrace;this.noext=!!t.noext;this.realpath=!!t.realpath;this.absolute=t.absolute;this.noglobstar=!!t.noglobstar;this.matchBase=!!t.matchBase;this.maxDepth=typeof t.maxDepth==="number"?t.maxDepth:Infinity;this.stat=!!t.stat;this.ignore=t.ignore;if(this.withFileTypes&&this.absolute!==undefined){throw new Error("cannot set absolute and withFileTypes:true")}if(typeof e==="string"){e=[e]}this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===false;if(this.windowsPathsNoEscape){e=e.map((e=>e.replace(/\\/g,"/")))}if(this.matchBase){if(t.noglobstar){throw new TypeError("base matching requires globstar")}e=e.map((e=>e.includes("/")?e:`./**/${e}`))}this.pattern=e;this.platform=t.platform||h;this.opts={...t,platform:this.platform};if(t.scurry){this.scurry=t.scurry;if(t.nocase!==undefined&&t.nocase!==t.scurry.nocase){throw new Error("nocase option contradicts provided scurry option")}}else{const e=t.platform==="win32"?r.PathScurryWin32:t.platform==="darwin"?r.PathScurryDarwin:t.platform?r.PathScurryPosix:r.PathScurry;this.scurry=new e(this.cwd,{nocase:t.nocase,fs:t.fs})}this.nocase=this.scurry.nocase;const s=this.platform==="darwin"||this.platform==="win32";const d={...t,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:true,noext:this.noext,nonegate:true,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug};const g=this.pattern.map((e=>new i.Minimatch(e,d)));const[v,b]=g.reduce(((e,t)=>{e[0].push(...t.set);e[1].push(...t.globParts);return e}),[[],[]]);this.patterns=v.map(((e,t)=>new c.Pattern(e,b[t],0,this.platform)))}async walk(){return[...await new d.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new d.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new d.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new d.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}t.Glob=Glob},5054:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.hasMagic=void 0;const i=s(7193);const hasMagic=(e,t={})=>{if(!Array.isArray(e)){e=[e]}for(const s of e){if(new i.Minimatch(s,t).hasMagic())return true}return false};t.hasMagic=hasMagic},9344:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Ignore=void 0;const i=s(7193);const r=s(9397);const n=typeof process==="object"&&process&&typeof process.platform==="string"?process.platform:"linux";class Ignore{relative;relativeChildren;absolute;absoluteChildren;constructor(e,{nobrace:t,nocase:s,noext:c,noglobstar:d,platform:h=n}){this.relative=[];this.absolute=[];this.relativeChildren=[];this.absoluteChildren=[];const g={dot:true,nobrace:t,nocase:s,noext:c,noglobstar:d,optimizationLevel:2,platform:h,nocomment:true,nonegate:true};for(const t of e){const e=new i.Minimatch(t,g);for(let t=0;t<e.set.length;t++){const s=e.set[t];const n=e.globParts[t];const c=new r.Pattern(s,n,0,h);const d=new i.Minimatch(c.globString(),g);const v=n[n.length-1]==="**";const b=c.isAbsolute();if(b)this.absolute.push(d);else this.relative.push(d);if(v){if(b)this.absoluteChildren.push(d);else this.relativeChildren.push(d)}}}}ignored(e){const t=e.fullpath();const s=`${t}/`;const i=e.relative()||".";const r=`${i}/`;for(const e of this.relative){if(e.match(i)||e.match(r))return true}for(const e of this.absolute){if(e.match(t)||e.match(s))return true}return false}childrenIgnored(e){const t=e.fullpath()+"/";const s=(e.relative()||".")+"/";for(const e of this.relativeChildren){if(e.match(s))return true}for(const e of this.absoluteChildren){if(e.match(t))true}return false}}t.Ignore=Ignore},8835:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.glob=t.hasMagic=t.Glob=t.unescape=t.escape=t.sync=t.iterate=t.iterateSync=t.stream=t.streamSync=t.globIterate=t.globIterateSync=t.globSync=t.globStream=t.globStreamSync=void 0;const i=s(7193);const r=s(8392);const n=s(5054);function globStreamSync(e,t={}){return new r.Glob(e,t).streamSync()}t.globStreamSync=globStreamSync;function globStream(e,t={}){return new r.Glob(e,t).stream()}t.globStream=globStream;function globSync(e,t={}){return new r.Glob(e,t).walkSync()}t.globSync=globSync;async function glob_(e,t={}){return new r.Glob(e,t).walk()}function globIterateSync(e,t={}){return new r.Glob(e,t).iterateSync()}t.globIterateSync=globIterateSync;function globIterate(e,t={}){return new r.Glob(e,t).iterate()}t.globIterate=globIterate;t.streamSync=globStreamSync;t.stream=Object.assign(globStream,{sync:globStreamSync});t.iterateSync=globIterateSync;t.iterate=Object.assign(globIterate,{sync:globIterateSync});t.sync=Object.assign(globSync,{stream:globStreamSync,iterate:globIterateSync});var c=s(7193);Object.defineProperty(t,"escape",{enumerable:true,get:function(){return c.escape}});Object.defineProperty(t,"unescape",{enumerable:true,get:function(){return c.unescape}});var d=s(8392);Object.defineProperty(t,"Glob",{enumerable:true,get:function(){return d.Glob}});var h=s(5054);Object.defineProperty(t,"hasMagic",{enumerable:true,get:function(){return h.hasMagic}});t.glob=Object.assign(glob_,{glob:glob_,globSync:globSync,sync:t.sync,globStream:globStream,stream:t.stream,globStreamSync:globStreamSync,streamSync:t.streamSync,globIterate:globIterate,iterate:t.iterate,globIterateSync:globIterateSync,iterateSync:t.iterateSync,Glob:r.Glob,hasMagic:n.hasMagic,escape:i.escape,unescape:i.unescape});t.glob.glob=t.glob},9397:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Pattern=void 0;const i=s(7193);const isPatternList=e=>e.length>=1;const isGlobList=e=>e.length>=1;class Pattern{#e;#t;#s;length;#i;#r;#n;#o;#a;#c;#l=true;constructor(e,t,s,i){if(!isPatternList(e)){throw new TypeError("empty pattern list")}if(!isGlobList(t)){throw new TypeError("empty glob list")}if(t.length!==e.length){throw new TypeError("mismatched pattern list and glob list lengths")}this.length=e.length;if(s<0||s>=this.length){throw new TypeError("index out of range")}this.#e=e;this.#t=t;this.#s=s;this.#i=i;if(this.#s===0){if(this.isUNC()){const[e,t,s,i,...r]=this.#e;const[n,c,d,h,...g]=this.#t;if(r[0]===""){r.shift();g.shift()}const v=[e,t,s,i,""].join("/");const b=[n,c,d,h,""].join("/");this.#e=[v,...r];this.#t=[b,...g];this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){const[e,...t]=this.#e;const[s,...i]=this.#t;if(t[0]===""){t.shift();i.shift()}const r=e+"/";const n=s+"/";this.#e=[r,...t];this.#t=[n,...i];this.length=this.#e.length}}}pattern(){return this.#e[this.#s]}isString(){return typeof this.#e[this.#s]==="string"}isGlobstar(){return this.#e[this.#s]===i.GLOBSTAR}isRegExp(){return this.#e[this.#s]instanceof RegExp}globString(){return this.#n=this.#n||(this.#s===0?this.isAbsolute()?this.#t[0]+this.#t.slice(1).join("/"):this.#t.join("/"):this.#t.slice(this.#s).join("/"))}hasMore(){return this.length>this.#s+1}rest(){if(this.#r!==undefined)return this.#r;if(!this.hasMore())return this.#r=null;this.#r=new Pattern(this.#e,this.#t,this.#s+1,this.#i);this.#r.#c=this.#c;this.#r.#a=this.#a;this.#r.#o=this.#o;return this.#r}isUNC(){const e=this.#e;return this.#a!==undefined?this.#a:this.#a=this.#i==="win32"&&this.#s===0&&e[0]===""&&e[1]===""&&typeof e[2]==="string"&&!!e[2]&&typeof e[3]==="string"&&!!e[3]}isDrive(){const e=this.#e;return this.#o!==undefined?this.#o:this.#o=this.#i==="win32"&&this.#s===0&&this.length>1&&typeof e[0]==="string"&&/^[a-z]:$/i.test(e[0])}isAbsolute(){const e=this.#e;return this.#c!==undefined?this.#c:this.#c=e[0]===""&&e.length>1||this.isDrive()||this.isUNC()}root(){const e=this.#e[0];return typeof e==="string"&&this.isAbsolute()&&this.#s===0?e:""}checkFollowGlobstar(){return!(this.#s===0||!this.isGlobstar()||!this.#l)}markFollowGlobstar(){if(this.#s===0||!this.isGlobstar()||!this.#l)return false;this.#l=false;return true}}t.Pattern=Pattern},2282:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Processor=t.SubWalks=t.MatchRecord=t.HasWalkedCache=void 0;const i=s(7193);class HasWalkedCache{store;constructor(e=new Map){this.store=e}copy(){return new HasWalkedCache(new Map(this.store))}hasWalked(e,t){return this.store.get(e.fullpath())?.has(t.globString())}storeWalked(e,t){const s=e.fullpath();const i=this.store.get(s);if(i)i.add(t.globString());else this.store.set(s,new Set([t.globString()]))}}t.HasWalkedCache=HasWalkedCache;class MatchRecord{store=new Map;add(e,t,s){const i=(t?2:0)|(s?1:0);const r=this.store.get(e);this.store.set(e,r===undefined?i:i&r)}entries(){return[...this.store.entries()].map((([e,t])=>[e,!!(t&2),!!(t&1)]))}}t.MatchRecord=MatchRecord;class SubWalks{store=new Map;add(e,t){if(!e.canReaddir()){return}const s=this.store.get(e);if(s){if(!s.find((e=>e.globString()===t.globString()))){s.push(t)}}else this.store.set(e,[t])}get(e){const t=this.store.get(e);if(!t){throw new Error("attempting to walk unknown path")}return t}entries(){return this.keys().map((e=>[e,this.store.get(e)]))}keys(){return[...this.store.keys()].filter((e=>e.canReaddir()))}}t.SubWalks=SubWalks;class Processor{hasWalkedCache;matches=new MatchRecord;subwalks=new SubWalks;patterns;follow;dot;opts;constructor(e,t){this.opts=e;this.follow=!!e.follow;this.dot=!!e.dot;this.hasWalkedCache=t?t.copy():new HasWalkedCache}processPatterns(e,t){this.patterns=t;const s=t.map((t=>[e,t]));for(let[e,t]of s){this.hasWalkedCache.storeWalked(e,t);const s=t.root();const r=t.isAbsolute()&&this.opts.absolute!==false;if(s){e=e.resolve(s==="/"&&this.opts.root!==undefined?this.opts.root:s);const i=t.rest();if(!i){this.matches.add(e,true,false);continue}else{t=i}}if(e.isENOENT())continue;let n;let c;let d=false;while(typeof(n=t.pattern())==="string"&&(c=t.rest())){const s=e.resolve(n);if(s.isUnknown()&&n!=="..")break;e=s;t=c;d=true}n=t.pattern();c=t.rest();if(d){if(this.hasWalkedCache.hasWalked(e,t))continue;this.hasWalkedCache.storeWalked(e,t)}if(typeof n==="string"){if(!c){const t=n===".."||n===""||n===".";this.matches.add(e.resolve(n),r,t)}else{this.subwalks.add(e,t)}continue}else if(n===i.GLOBSTAR){if(!e.isSymbolicLink()||this.follow||t.checkFollowGlobstar()){this.subwalks.add(e,t)}const s=c?.pattern();const i=c?.rest();if(!c||(s===""||s===".")&&!i){this.matches.add(e,r,s===""||s===".")}else{if(s===".."){const t=e.parent||e;if(!i)this.matches.add(t,r,true);else if(!this.hasWalkedCache.hasWalked(t,i)){this.subwalks.add(t,i)}}}}else if(n instanceof RegExp){this.subwalks.add(e,t)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Processor(this.opts,this.hasWalkedCache)}filterEntries(e,t){const s=this.subwalks.get(e);const r=this.child();for(const e of t){for(const t of s){const s=t.isAbsolute();const n=t.pattern();const c=t.rest();if(n===i.GLOBSTAR){r.testGlobstar(e,t,c,s)}else if(n instanceof RegExp){r.testRegExp(e,n,c,s)}else{r.testString(e,n,c,s)}}}return r}testGlobstar(e,t,s,i){if(this.dot||!e.name.startsWith(".")){if(!t.hasMore()){this.matches.add(e,i,false)}if(e.canReaddir()){if(this.follow||!e.isSymbolicLink()){this.subwalks.add(e,t)}else if(e.isSymbolicLink()){if(s&&t.checkFollowGlobstar()){this.subwalks.add(e,s)}else if(t.markFollowGlobstar()){this.subwalks.add(e,t)}}}}if(s){const t=s.pattern();if(typeof t==="string"&&t!==".."&&t!==""&&t!=="."){this.testString(e,t,s.rest(),i)}else if(t===".."){const t=e.parent||e;this.subwalks.add(t,s)}else if(t instanceof RegExp){this.testRegExp(e,t,s.rest(),i)}}}testRegExp(e,t,s,i){if(!t.test(e.name))return;if(!s){this.matches.add(e,i,false)}else{this.subwalks.add(e,s)}}testString(e,t,s,i){if(!e.isNamed(t))return;if(!s){this.matches.add(e,i,false)}else{this.subwalks.add(e,s)}}}t.Processor=Processor},1875:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GlobStream=t.GlobWalker=t.GlobUtil=void 0;const i=s(4260);const r=s(9344);const n=s(2282);const makeIgnore=(e,t)=>typeof e==="string"?new r.Ignore([e],t):Array.isArray(e)?new r.Ignore(e,t):e;class GlobUtil{path;patterns;opts;seen=new Set;paused=false;aborted=false;#d=[];#u;#h;signal;maxDepth;constructor(e,t,s){this.patterns=e;this.path=t;this.opts=s;this.#h=!s.posix&&s.platform==="win32"?"\\":"/";if(s.ignore){this.#u=makeIgnore(s.ignore,s)}this.maxDepth=s.maxDepth||Infinity;if(s.signal){this.signal=s.signal;this.signal.addEventListener("abort",(()=>{this.#d.length=0}))}}#f(e){return this.seen.has(e)||!!this.#u?.ignored?.(e)}#p(e){return!!this.#u?.childrenIgnored?.(e)}pause(){this.paused=true}resume(){if(this.signal?.aborted)return;this.paused=false;let e=undefined;while(!this.paused&&(e=this.#d.shift())){e()}}onResume(e){if(this.signal?.aborted)return;if(!this.paused){e()}else{this.#d.push(e)}}async matchCheck(e,t){if(t&&this.opts.nodir)return undefined;let s;if(this.opts.realpath){s=e.realpathCached()||await e.realpath();if(!s)return undefined;e=s}const i=e.isUnknown()||this.opts.stat;return this.matchCheckTest(i?await e.lstat():e,t)}matchCheckTest(e,t){return e&&(this.maxDepth===Infinity||e.depth()<=this.maxDepth)&&(!t||e.canReaddir())&&(!this.opts.nodir||!e.isDirectory())&&!this.#f(e)?e:undefined}matchCheckSync(e,t){if(t&&this.opts.nodir)return undefined;let s;if(this.opts.realpath){s=e.realpathCached()||e.realpathSync();if(!s)return undefined;e=s}const i=e.isUnknown()||this.opts.stat;return this.matchCheckTest(i?e.lstatSync():e,t)}matchFinish(e,t){if(this.#f(e))return;const s=this.opts.absolute===undefined?t:this.opts.absolute;this.seen.add(e);const i=this.opts.mark&&e.isDirectory()?this.#h:"";if(this.opts.withFileTypes){this.matchEmit(e)}else if(s){const t=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(t+i)}else{const t=this.opts.posix?e.relativePosix():e.relative();const s=this.opts.dotRelative&&!t.startsWith(".."+this.#h)?"."+this.#h:"";this.matchEmit(!t?"."+i:s+t+i)}}async match(e,t,s){const i=await this.matchCheck(e,s);if(i)this.matchFinish(i,t)}matchSync(e,t,s){const i=this.matchCheckSync(e,s);if(i)this.matchFinish(i,t)}walkCB(e,t,s){if(this.signal?.aborted)s();this.walkCB2(e,t,new n.Processor(this.opts),s)}walkCB2(e,t,s,i){if(this.#p(e))return i();if(this.signal?.aborted)i();if(this.paused){this.onResume((()=>this.walkCB2(e,t,s,i)));return}s.processPatterns(e,t);let r=1;const next=()=>{if(--r===0)i()};for(const[e,t,i]of s.matches.entries()){if(this.#f(e))continue;r++;this.match(e,t,i).then((()=>next()))}for(const e of s.subwalkTargets()){if(this.maxDepth!==Infinity&&e.depth()>=this.maxDepth){continue}r++;const t=e.readdirCached();if(e.calledReaddir())this.walkCB3(e,t,s,next);else{e.readdirCB(((t,i)=>this.walkCB3(e,i,s,next)),true)}}next()}walkCB3(e,t,s,i){s=s.filterEntries(e,t);let r=1;const next=()=>{if(--r===0)i()};for(const[e,t,i]of s.matches.entries()){if(this.#f(e))continue;r++;this.match(e,t,i).then((()=>next()))}for(const[e,t]of s.subwalks.entries()){r++;this.walkCB2(e,t,s.child(),next)}next()}walkCBSync(e,t,s){if(this.signal?.aborted)s();this.walkCB2Sync(e,t,new n.Processor(this.opts),s)}walkCB2Sync(e,t,s,i){if(this.#p(e))return i();if(this.signal?.aborted)i();if(this.paused){this.onResume((()=>this.walkCB2Sync(e,t,s,i)));return}s.processPatterns(e,t);let r=1;const next=()=>{if(--r===0)i()};for(const[e,t,i]of s.matches.entries()){if(this.#f(e))continue;this.matchSync(e,t,i)}for(const e of s.subwalkTargets()){if(this.maxDepth!==Infinity&&e.depth()>=this.maxDepth){continue}r++;const t=e.readdirSync();this.walkCB3Sync(e,t,s,next)}next()}walkCB3Sync(e,t,s,i){s=s.filterEntries(e,t);let r=1;const next=()=>{if(--r===0)i()};for(const[e,t,i]of s.matches.entries()){if(this.#f(e))continue;this.matchSync(e,t,i)}for(const[e,t]of s.subwalks.entries()){r++;this.walkCB2Sync(e,t,s.child(),next)}next()}}t.GlobUtil=GlobUtil;class GlobWalker extends GlobUtil{matches;constructor(e,t,s){super(e,t,s);this.matches=new Set}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;if(this.path.isUnknown()){await this.path.lstat()}await new Promise(((e,t)=>{this.walkCB(this.path,this.patterns,(()=>{if(this.signal?.aborted){t(this.signal.reason)}else{e(this.matches)}}))}));return this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;if(this.path.isUnknown()){this.path.lstatSync()}this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason}));return this.matches}}t.GlobWalker=GlobWalker;class GlobStream extends GlobUtil{results;constructor(e,t,s){super(e,t,s);this.results=new i.Minipass({signal:this.signal,objectMode:true});this.results.on("drain",(()=>this.resume()));this.results.on("resume",(()=>this.resume()))}matchEmit(e){this.results.write(e);if(!this.results.flowing)this.pause()}stream(){const e=this.path;if(e.isUnknown()){e.lstat().then((()=>{this.walkCB(e,this.patterns,(()=>this.results.end()))}))}else{this.walkCB(e,this.patterns,(()=>this.results.end()))}return this.results}streamSync(){if(this.path.isUnknown()){this.path.lstatSync()}this.walkCBSync(this.path,this.patterns,(()=>this.results.end()));return this.results}}t.GlobStream=GlobStream},2466:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LRUCache=void 0;const s=typeof performance==="object"&&performance&&typeof performance.now==="function"?performance:Date;const i=new Set;const r=typeof process==="object"&&!!process?process:{};const emitWarning=(e,t,s,i)=>{typeof r.emitWarning==="function"?r.emitWarning(e,t,s,i):console.error(`[${s}] ${t}: ${e}`)};let n=globalThis.AbortController;let c=globalThis.AbortSignal;if(typeof n==="undefined"){c=class AbortSignal{onabort;_onabort=[];reason;aborted=false;addEventListener(e,t){this._onabort.push(t)}};n=class AbortController{constructor(){warnACPolyfill()}signal=new c;abort(e){if(this.signal.aborted)return;this.signal.reason=e;this.signal.aborted=true;for(const t of this.signal._onabort){t(e)}this.signal.onabort?.(e)}};let e=r.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const warnACPolyfill=()=>{if(!e)return;e=false;emitWarning("AbortController is not defined. If using lru-cache in "+"node 14, load an AbortController polyfill from the "+"`node-abort-controller` package. A minimal polyfill is "+"provided for use by LRUCache.fetch(), but it should not be "+"relied upon in other contexts (eg, passing it to other APIs that "+"use AbortController/AbortSignal might have undesirable effects). "+"You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",warnACPolyfill)}}const shouldWarn=e=>!i.has(e);const d=Symbol("type");const isPosInt=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e);const getUintArray=e=>!isPosInt(e)?null:e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?ZeroArray:null;class ZeroArray extends Array{constructor(e){super(e);this.fill(0)}}class Stack{heap;length;static#m=false;static create(e){const t=getUintArray(e);if(!t)return[];Stack.#m=true;const s=new Stack(e,t);Stack.#m=false;return s}constructor(e,t){if(!Stack.#m){throw new TypeError("instantiate Stack using Stack.create(n)")}this.heap=new t(e);this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class LRUCache{#g;#y;#v;#b;#w;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#_;#x;#k;#S;#T;#C;#P;#O;#Z;#E;#I;#A;#z;#L;#N;#j;#R;static unsafeExposeInternals(e){return{starts:e.#z,ttls:e.#L,sizes:e.#A,keyMap:e.#k,keyList:e.#S,valList:e.#T,next:e.#C,prev:e.#P,get head(){return e.#O},get tail(){return e.#Z},free:e.#E,isBackgroundFetch:t=>e.#M(t),backgroundFetch:(t,s,i,r)=>e.#D(t,s,i,r),moveToTail:t=>e.#U(t),indexes:t=>e.#B(t),rindexes:t=>e.#F(t),isStale:t=>e.#$(t)}}get max(){return this.#g}get maxSize(){return this.#y}get calculatedSize(){return this.#x}get size(){return this.#_}get fetchMethod(){return this.#w}get dispose(){return this.#v}get disposeAfter(){return this.#b}constructor(e){const{max:t=0,ttl:s,ttlResolution:r=1,ttlAutopurge:n,updateAgeOnGet:c,updateAgeOnHas:d,allowStale:h,dispose:g,disposeAfter:v,noDisposeOnSet:b,noUpdateTTL:z,maxSize:N=0,maxEntrySize:D=0,sizeCalculation:U,fetchMethod:B,noDeleteOnFetchRejection:V,noDeleteOnStaleGet:W,allowStaleOnFetchRejection:q,allowStaleOnFetchAbort:H,ignoreFetchAbort:K}=e;if(t!==0&&!isPosInt(t)){throw new TypeError("max option must be a nonnegative integer")}const Y=t?getUintArray(t):Array;if(!Y){throw new Error("invalid max value: "+t)}this.#g=t;this.#y=N;this.maxEntrySize=D||this.#y;this.sizeCalculation=U;if(this.sizeCalculation){if(!this.#y&&!this.maxEntrySize){throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize")}if(typeof this.sizeCalculation!=="function"){throw new TypeError("sizeCalculation set to non-function")}}if(B!==undefined&&typeof B!=="function"){throw new TypeError("fetchMethod must be a function if specified")}this.#w=B;this.#j=!!B;this.#k=new Map;this.#S=new Array(t).fill(undefined);this.#T=new Array(t).fill(undefined);this.#C=new Y(t);this.#P=new Y(t);this.#O=0;this.#Z=0;this.#E=Stack.create(t);this.#_=0;this.#x=0;if(typeof g==="function"){this.#v=g}if(typeof v==="function"){this.#b=v;this.#I=[]}else{this.#b=undefined;this.#I=undefined}this.#N=!!this.#v;this.#R=!!this.#b;this.noDisposeOnSet=!!b;this.noUpdateTTL=!!z;this.noDeleteOnFetchRejection=!!V;this.allowStaleOnFetchRejection=!!q;this.allowStaleOnFetchAbort=!!H;this.ignoreFetchAbort=!!K;if(this.maxEntrySize!==0){if(this.#y!==0){if(!isPosInt(this.#y)){throw new TypeError("maxSize must be a positive integer if specified")}}if(!isPosInt(this.maxEntrySize)){throw new TypeError("maxEntrySize must be a positive integer if specified")}this.#V()}this.allowStale=!!h;this.noDeleteOnStaleGet=!!W;this.updateAgeOnGet=!!c;this.updateAgeOnHas=!!d;this.ttlResolution=isPosInt(r)||r===0?r:1;this.ttlAutopurge=!!n;this.ttl=s||0;if(this.ttl){if(!isPosInt(this.ttl)){throw new TypeError("ttl must be a positive integer if specified")}this.#W()}if(this.#g===0&&this.ttl===0&&this.#y===0){throw new TypeError("At least one of max, maxSize, or ttl is required")}if(!this.ttlAutopurge&&!this.#g&&!this.#y){const e="LRU_CACHE_UNBOUNDED";if(shouldWarn(e)){i.add(e);const t="TTL caching without ttlAutopurge, max, or maxSize can "+"result in unbounded memory consumption.";emitWarning(t,"UnboundedCacheWarning",e,LRUCache)}}}getRemainingTTL(e){return this.#k.has(e)?Infinity:0}#W(){const e=new ZeroArray(this.#g);const t=new ZeroArray(this.#g);this.#L=e;this.#z=t;this.#q=(i,r,n=s.now())=>{t[i]=r!==0?n:0;e[i]=r;if(r!==0&&this.ttlAutopurge){const e=setTimeout((()=>{if(this.#$(i)){this.delete(this.#S[i])}}),r+1);if(e.unref){e.unref()}}};this.#G=i=>{t[i]=e[i]!==0?s.now():0};this.#H=(s,r)=>{if(e[r]){const n=e[r];const c=t[r];s.ttl=n;s.start=c;s.now=i||getNow();const d=s.now-c;s.remainingTTL=n-d}};let i=0;const getNow=()=>{const e=s.now();if(this.ttlResolution>0){i=e;const t=setTimeout((()=>i=0),this.ttlResolution);if(t.unref){t.unref()}}return e};this.getRemainingTTL=s=>{const r=this.#k.get(s);if(r===undefined){return 0}const n=e[r];const c=t[r];if(n===0||c===0){return Infinity}const d=(i||getNow())-c;return n-d};this.#$=s=>e[s]!==0&&t[s]!==0&&(i||getNow())-t[s]>e[s]}#G=()=>{};#H=()=>{};#q=()=>{};#$=()=>false;#V(){const e=new ZeroArray(this.#g);this.#x=0;this.#A=e;this.#K=t=>{this.#x-=e[t];e[t]=0};this.#J=(e,t,s,i)=>{if(this.#M(t)){return 0}if(!isPosInt(s)){if(i){if(typeof i!=="function"){throw new TypeError("sizeCalculation must be a function")}s=i(t,e);if(!isPosInt(s)){throw new TypeError("sizeCalculation return invalid (expect positive integer)")}}else{throw new TypeError("invalid size value (must be positive integer). "+"When maxSize or maxEntrySize is used, sizeCalculation "+"or size must be set.")}}return s};this.#Y=(t,s,i)=>{e[t]=s;if(this.#y){const s=this.#y-e[t];while(this.#x>s){this.#Q(true)}}this.#x+=e[t];if(i){i.entrySize=s;i.totalCalculatedSize=this.#x}}}#K=e=>{};#Y=(e,t,s)=>{};#J=(e,t,s,i)=>{if(s||i){throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}return 0};*#B({allowStale:e=this.allowStale}={}){if(this.#_){for(let t=this.#Z;true;){if(!this.#X(t)){break}if(e||!this.#$(t)){yield t}if(t===this.#O){break}else{t=this.#P[t]}}}}*#F({allowStale:e=this.allowStale}={}){if(this.#_){for(let t=this.#O;true;){if(!this.#X(t)){break}if(e||!this.#$(t)){yield t}if(t===this.#Z){break}else{t=this.#C[t]}}}}#X(e){return e!==undefined&&this.#k.get(this.#S[e])===e}*entries(){for(const e of this.#B()){if(this.#T[e]!==undefined&&this.#S[e]!==undefined&&!this.#M(this.#T[e])){yield[this.#S[e],this.#T[e]]}}}*rentries(){for(const e of this.#F()){if(this.#T[e]!==undefined&&this.#S[e]!==undefined&&!this.#M(this.#T[e])){yield[this.#S[e],this.#T[e]]}}}*keys(){for(const e of this.#B()){const t=this.#S[e];if(t!==undefined&&!this.#M(this.#T[e])){yield t}}}*rkeys(){for(const e of this.#F()){const t=this.#S[e];if(t!==undefined&&!this.#M(this.#T[e])){yield t}}}*values(){for(const e of this.#B()){const t=this.#T[e];if(t!==undefined&&!this.#M(this.#T[e])){yield this.#T[e]}}}*rvalues(){for(const e of this.#F()){const t=this.#T[e];if(t!==undefined&&!this.#M(this.#T[e])){yield this.#T[e]}}}[Symbol.iterator](){return this.entries()}find(e,t={}){for(const s of this.#B()){const i=this.#T[s];const r=this.#M(i)?i.__staleWhileFetching:i;if(r===undefined)continue;if(e(r,this.#S[s],this)){return this.get(this.#S[s],t)}}}forEach(e,t=this){for(const s of this.#B()){const i=this.#T[s];const r=this.#M(i)?i.__staleWhileFetching:i;if(r===undefined)continue;e.call(t,r,this.#S[s],this)}}rforEach(e,t=this){for(const s of this.#F()){const i=this.#T[s];const r=this.#M(i)?i.__staleWhileFetching:i;if(r===undefined)continue;e.call(t,r,this.#S[s],this)}}purgeStale(){let e=false;for(const t of this.#F({allowStale:true})){if(this.#$(t)){this.delete(this.#S[t]);e=true}}return e}dump(){const e=[];for(const t of this.#B({allowStale:true})){const i=this.#S[t];const r=this.#T[t];const n=this.#M(r)?r.__staleWhileFetching:r;if(n===undefined||i===undefined)continue;const c={value:n};if(this.#L&&this.#z){c.ttl=this.#L[t];const e=s.now()-this.#z[t];c.start=Math.floor(Date.now()-e)}if(this.#A){c.size=this.#A[t]}e.unshift([i,c])}return e}load(e){this.clear();for(const[t,i]of e){if(i.start){const e=Date.now()-i.start;i.start=s.now()-e}this.set(t,i.value,i)}}set(e,t,s={}){if(t===undefined){this.delete(e);return this}const{ttl:i=this.ttl,start:r,noDisposeOnSet:n=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:d}=s;let{noUpdateTTL:h=this.noUpdateTTL}=s;const g=this.#J(e,t,s.size||0,c);if(this.maxEntrySize&&g>this.maxEntrySize){if(d){d.set="miss";d.maxEntrySizeExceeded=true}this.delete(e);return this}let v=this.#_===0?undefined:this.#k.get(e);if(v===undefined){v=this.#_===0?this.#Z:this.#E.length!==0?this.#E.pop():this.#_===this.#g?this.#Q(false):this.#_;this.#S[v]=e;this.#T[v]=t;this.#k.set(e,v);this.#C[this.#Z]=v;this.#P[v]=this.#Z;this.#Z=v;this.#_++;this.#Y(v,g,d);if(d)d.set="add";h=false}else{this.#U(v);const s=this.#T[v];if(t!==s){if(this.#j&&this.#M(s)){s.__abortController.abort(new Error("replaced"))}else if(!n){if(this.#N){this.#v?.(s,e,"set")}if(this.#R){this.#I?.push([s,e,"set"])}}this.#K(v);this.#Y(v,g,d);this.#T[v]=t;if(d){d.set="replace";const e=s&&this.#M(s)?s.__staleWhileFetching:s;if(e!==undefined)d.oldValue=e}}else if(d){d.set="update"}}if(i!==0&&!this.#L){this.#W()}if(this.#L){if(!h){this.#q(v,i,r)}if(d)this.#H(d,v)}if(!n&&this.#R&&this.#I){const e=this.#I;let t;while(t=e?.shift()){this.#b?.(...t)}}return this}pop(){try{while(this.#_){const e=this.#T[this.#O];this.#Q(true);if(this.#M(e)){if(e.__staleWhileFetching){return e.__staleWhileFetching}}else if(e!==undefined){return e}}}finally{if(this.#R&&this.#I){const e=this.#I;let t;while(t=e?.shift()){this.#b?.(...t)}}}}#Q(e){const t=this.#O;const s=this.#S[t];const i=this.#T[t];if(this.#j&&this.#M(i)){i.__abortController.abort(new Error("evicted"))}else if(this.#N||this.#R){if(this.#N){this.#v?.(i,s,"evict")}if(this.#R){this.#I?.push([i,s,"evict"])}}this.#K(t);if(e){this.#S[t]=undefined;this.#T[t]=undefined;this.#E.push(t)}if(this.#_===1){this.#O=this.#Z=0;this.#E.length=0}else{this.#O=this.#C[t]}this.#k.delete(s);this.#_--;return t}has(e,t={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:i}=t;const r=this.#k.get(e);if(r!==undefined){const e=this.#T[r];if(this.#M(e)&&e.__staleWhileFetching===undefined){return false}if(!this.#$(r)){if(s){this.#G(r)}if(i){i.has="hit";this.#H(i,r)}return true}else if(i){i.has="stale";this.#H(i,r)}}else if(i){i.has="miss"}return false}peek(e,t={}){const{allowStale:s=this.allowStale}=t;const i=this.#k.get(e);if(i!==undefined&&(s||!this.#$(i))){const e=this.#T[i];return this.#M(e)?e.__staleWhileFetching:e}}#D(e,t,s,i){const r=t===undefined?undefined:this.#T[t];if(this.#M(r)){return r}const c=new n;const{signal:d}=s;d?.addEventListener("abort",(()=>c.abort(d.reason)),{signal:c.signal});const h={signal:c.signal,options:s,context:i};const cb=(i,r=false)=>{const{aborted:n}=c.signal;const d=s.ignoreFetchAbort&&i!==undefined;if(s.status){if(n&&!r){s.status.fetchAborted=true;s.status.fetchError=c.signal.reason;if(d)s.status.fetchAbortIgnored=true}else{s.status.fetchResolved=true}}if(n&&!d&&!r){return fetchFail(c.signal.reason)}const v=g;if(this.#T[t]===g){if(i===undefined){if(v.__staleWhileFetching){this.#T[t]=v.__staleWhileFetching}else{this.delete(e)}}else{if(s.status)s.status.fetchUpdated=true;this.set(e,i,h.options)}}return i};const eb=e=>{if(s.status){s.status.fetchRejected=true;s.status.fetchError=e}return fetchFail(e)};const fetchFail=i=>{const{aborted:r}=c.signal;const n=r&&s.allowStaleOnFetchAbort;const d=n||s.allowStaleOnFetchRejection;const h=d||s.noDeleteOnFetchRejection;const v=g;if(this.#T[t]===g){const s=!h||v.__staleWhileFetching===undefined;if(s){this.delete(e)}else if(!n){this.#T[t]=v.__staleWhileFetching}}if(d){if(s.status&&v.__staleWhileFetching!==undefined){s.status.returnedStale=true}return v.__staleWhileFetching}else if(v.__returned===v){throw i}};const pcall=(t,i)=>{const n=this.#w?.(e,r,h);if(n&&n instanceof Promise){n.then((e=>t(e)),i)}c.signal.addEventListener("abort",(()=>{if(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort){t();if(s.allowStaleOnFetchAbort){t=e=>cb(e,true)}}}))};if(s.status)s.status.fetchDispatched=true;const g=new Promise(pcall).then(cb,eb);const v=Object.assign(g,{__abortController:c,__staleWhileFetching:r,__returned:undefined});if(t===undefined){this.set(e,v,{...h.options,status:undefined});t=this.#k.get(e)}else{this.#T[t]=v}return v}#M(e){if(!this.#j)return false;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof n}async fetch(e,t={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:n=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:d=0,sizeCalculation:h=this.sizeCalculation,noUpdateTTL:g=this.noUpdateTTL,noDeleteOnFetchRejection:v=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:b=this.allowStaleOnFetchRejection,ignoreFetchAbort:z=this.ignoreFetchAbort,allowStaleOnFetchAbort:N=this.allowStaleOnFetchAbort,context:D,forceRefresh:U=false,status:B,signal:V}=t;if(!this.#j){if(B)B.fetch="get";return this.get(e,{allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:r,status:B})}const W={allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:r,ttl:n,noDisposeOnSet:c,size:d,sizeCalculation:h,noUpdateTTL:g,noDeleteOnFetchRejection:v,allowStaleOnFetchRejection:b,allowStaleOnFetchAbort:N,ignoreFetchAbort:z,status:B,signal:V};let q=this.#k.get(e);if(q===undefined){if(B)B.fetch="miss";const t=this.#D(e,q,W,D);return t.__returned=t}else{const t=this.#T[q];if(this.#M(t)){const e=s&&t.__staleWhileFetching!==undefined;if(B){B.fetch="inflight";if(e)B.returnedStale=true}return e?t.__staleWhileFetching:t.__returned=t}const r=this.#$(q);if(!U&&!r){if(B)B.fetch="hit";this.#U(q);if(i){this.#G(q)}if(B)this.#H(B,q);return t}const n=this.#D(e,q,W,D);const c=n.__staleWhileFetching!==undefined;const d=c&&s;if(B){B.fetch=r?"stale":"refresh";if(d&&r)B.returnedStale=true}return d?n.__staleWhileFetching:n.__returned=n}}get(e,t={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:n}=t;const c=this.#k.get(e);if(c!==undefined){const t=this.#T[c];const d=this.#M(t);if(n)this.#H(n,c);if(this.#$(c)){if(n)n.get="stale";if(!d){if(!r){this.delete(e)}if(n&&s)n.returnedStale=true;return s?t:undefined}else{if(n&&s&&t.__staleWhileFetching!==undefined){n.returnedStale=true}return s?t.__staleWhileFetching:undefined}}else{if(n)n.get="hit";if(d){return t.__staleWhileFetching}this.#U(c);if(i){this.#G(c)}return t}}else if(n){n.get="miss"}}#ee(e,t){this.#P[t]=e;this.#C[e]=t}#U(e){if(e!==this.#Z){if(e===this.#O){this.#O=this.#C[e]}else{this.#ee(this.#P[e],this.#C[e])}this.#ee(this.#Z,e);this.#Z=e}}delete(e){let t=false;if(this.#_!==0){const s=this.#k.get(e);if(s!==undefined){t=true;if(this.#_===1){this.clear()}else{this.#K(s);const t=this.#T[s];if(this.#M(t)){t.__abortController.abort(new Error("deleted"))}else if(this.#N||this.#R){if(this.#N){this.#v?.(t,e,"delete")}if(this.#R){this.#I?.push([t,e,"delete"])}}this.#k.delete(e);this.#S[s]=undefined;this.#T[s]=undefined;if(s===this.#Z){this.#Z=this.#P[s]}else if(s===this.#O){this.#O=this.#C[s]}else{this.#C[this.#P[s]]=this.#C[s];this.#P[this.#C[s]]=this.#P[s]}this.#_--;this.#E.push(s)}}}if(this.#R&&this.#I?.length){const e=this.#I;let t;while(t=e?.shift()){this.#b?.(...t)}}return t}clear(){for(const e of this.#F({allowStale:true})){const t=this.#T[e];if(this.#M(t)){t.__abortController.abort(new Error("deleted"))}else{const s=this.#S[e];if(this.#N){this.#v?.(t,s,"delete")}if(this.#R){this.#I?.push([t,s,"delete"])}}}this.#k.clear();this.#T.fill(undefined);this.#S.fill(undefined);if(this.#L&&this.#z){this.#L.fill(0);this.#z.fill(0)}if(this.#A){this.#A.fill(0)}this.#O=0;this.#Z=0;this.#E.length=0;this.#x=0;this.#_=0;if(this.#R&&this.#I){const e=this.#I;let t;while(t=e?.shift()){this.#b?.(...t)}}}}t.LRUCache=LRUCache},9585:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.assertValidPattern=void 0;const s=1024*64;const assertValidPattern=e=>{if(typeof e!=="string"){throw new TypeError("invalid pattern")}if(e.length>s){throw new TypeError("pattern is too long")}};t.assertValidPattern=assertValidPattern},9095:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.AST=void 0;const i=s(5832);const r=s(6582);const n=new Set(["!","?","+","*","@"]);const isExtglobType=e=>n.has(e);const c="(?!\\.\\.?(?:$|/))";const d="(?!\\.)";const h=new Set(["[","."]);const g=new Set(["..","."]);const v=new Set("().*{}+?[]^$\\!");const regExpEscape=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");const b="[^/]";const z=b+"*?";const N=b+"+?";class AST{type;#te;#se;#ie=false;#re=[];#ne;#oe;#ae;#ce=false;#le;#de;#ue=false;constructor(e,t,s={}){this.type=e;if(e)this.#se=true;this.#ne=t;this.#te=this.#ne?this.#ne.#te:this;this.#le=this.#te===this?s:this.#te.#le;this.#ae=this.#te===this?[]:this.#te.#ae;if(e==="!"&&!this.#te.#ce)this.#ae.push(this);this.#oe=this.#ne?this.#ne.#re.length:0}get hasMagic(){if(this.#se!==undefined)return this.#se;for(const e of this.#re){if(typeof e==="string")continue;if(e.type||e.hasMagic)return this.#se=true}return this.#se}toString(){if(this.#de!==undefined)return this.#de;if(!this.type){return this.#de=this.#re.map((e=>String(e))).join("")}else{return this.#de=this.type+"("+this.#re.map((e=>String(e))).join("|")+")"}}#he(){if(this!==this.#te)throw new Error("should only call on root");if(this.#ce)return this;this.toString();this.#ce=true;let e;while(e=this.#ae.pop()){if(e.type!=="!")continue;let t=e;let s=t.#ne;while(s){for(let i=t.#oe+1;!s.type&&i<s.#re.length;i++){for(const t of e.#re){if(typeof t==="string"){throw new Error("string part in extglob AST??")}t.copyIn(s.#re[i])}}t=s;s=t.#ne}}return this}push(...e){for(const t of e){if(t==="")continue;if(typeof t!=="string"&&!(t instanceof AST&&t.#ne===this)){throw new Error("invalid part: "+t)}this.#re.push(t)}}toJSON(){const e=this.type===null?this.#re.slice().map((e=>typeof e==="string"?e:e.toJSON())):[this.type,...this.#re.map((e=>e.toJSON()))];if(this.isStart()&&!this.type)e.unshift([]);if(this.isEnd()&&(this===this.#te||this.#te.#ce&&this.#ne?.type==="!")){e.push({})}return e}isStart(){if(this.#te===this)return true;if(!this.#ne?.isStart())return false;if(this.#oe===0)return true;const e=this.#ne;for(let t=0;t<this.#oe;t++){const s=e.#re[t];if(!(s instanceof AST&&s.type==="!")){return false}}return true}isEnd(){if(this.#te===this)return true;if(this.#ne?.type==="!")return true;if(!this.#ne?.isEnd())return false;if(!this.type)return this.#ne?.isEnd();const e=this.#ne?this.#ne.#re.length:0;return this.#oe===e-1}copyIn(e){if(typeof e==="string")this.push(e);else this.push(e.clone(this))}clone(e){const t=new AST(this.type,e);for(const e of this.#re){t.copyIn(e)}return t}static#fe(e,t,s,i){let r=false;let n=false;let c=-1;let d=false;if(t.type===null){let h=s;let g="";while(h<e.length){const s=e.charAt(h++);if(r||s==="\\"){r=!r;g+=s;continue}if(n){if(h===c+1){if(s==="^"||s==="!"){d=true}}else if(s==="]"&&!(h===c+2&&d)){n=false}g+=s;continue}else if(s==="["){n=true;c=h;d=false;g+=s;continue}if(!i.noext&&isExtglobType(s)&&e.charAt(h)==="("){t.push(g);g="";const r=new AST(s,t);h=AST.#fe(e,r,h,i);t.push(r);continue}g+=s}t.push(g);return h}let h=s+1;let g=new AST(null,t);const v=[];let b="";while(h<e.length){const s=e.charAt(h++);if(r||s==="\\"){r=!r;b+=s;continue}if(n){if(h===c+1){if(s==="^"||s==="!"){d=true}}else if(s==="]"&&!(h===c+2&&d)){n=false}b+=s;continue}else if(s==="["){n=true;c=h;d=false;b+=s;continue}if(isExtglobType(s)&&e.charAt(h)==="("){g.push(b);b="";const t=new AST(s,g);g.push(t);h=AST.#fe(e,t,h,i);continue}if(s==="|"){g.push(b);b="";v.push(g);g=new AST(null,t);continue}if(s===")"){if(b===""&&t.#re.length===0){t.#ue=true}g.push(b);b="";t.push(...v,g);return h}b+=s}t.type=null;t.#se=undefined;t.#re=[e.substring(s-1)];return h}static fromGlob(e,t={}){const s=new AST(null,undefined,t);AST.#fe(e,s,0,t);return s}toMMPattern(){if(this!==this.#te)return this.#te.toMMPattern();const e=this.toString();const[t,s,i,r]=this.toRegExpSource();const n=i||this.#se||this.#le.nocase&&!this.#le.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase();if(!n){return s}const c=(this.#le.nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${t}$`,c),{_src:t,_glob:e})}toRegExpSource(){if(this.#te===this)this.#he();if(!this.type){const e=this.isStart()&&this.isEnd();const t=this.#re.map((t=>{const[s,i,r,n]=typeof t==="string"?AST.#pe(t,this.#se,e):t.toRegExpSource();this.#se=this.#se||r;this.#ie=this.#ie||n;return s})).join("");let s="";if(this.isStart()){if(typeof this.#re[0]==="string"){const e=this.#re.length===1&&g.has(this.#re[0]);if(!e){const e=h;const i=this.#le.dot&&e.has(t.charAt(0))||t.startsWith("\\.")&&e.has(t.charAt(2))||t.startsWith("\\.\\.")&&e.has(t.charAt(4));const r=!this.#le.dot&&e.has(t.charAt(0));s=i?c:r?d:""}}}let i="";if(this.isEnd()&&this.#te.#ce&&this.#ne?.type==="!"){i="(?:$|\\/)"}const n=s+t+i;return[n,(0,r.unescape)(t),this.#se=!!this.#se,this.#ie]}const e=this.type==="!"?"(?:(?!(?:":"(?:";const t=this.#re.map((e=>{if(typeof e==="string"){throw new Error("string type in extglob ast??")}const[t,s,i,r]=e.toRegExpSource();this.#ie=this.#ie||r;return t})).filter((e=>!(this.isStart()&&this.isEnd())||!!e)).join("|");if(this.isStart()&&this.isEnd()&&!t&&this.type!=="!"){const e=this.toString();this.#re=[e];this.type=null;this.#se=undefined;return[e,(0,r.unescape)(this.toString()),false,false]}let s="";if(this.type==="!"&&this.#ue){s=(this.isStart()&&!this.#le.dot?d:"")+N}else{const i=this.type==="!"?"))"+(this.isStart()&&!this.#le.dot?d:"")+z+")":this.type==="@"?")":`)${this.type}`;s=e+t+i}return[s,(0,r.unescape)(t),this.#se=!!this.#se,this.#ie]}static#pe(e,t,s=false){let n=false;let c="";let d=false;for(let r=0;r<e.length;r++){const h=e.charAt(r);if(n){n=false;c+=(v.has(h)?"\\":"")+h;continue}if(h==="\\"){if(r===e.length-1){c+="\\\\"}else{n=true}continue}if(h==="["){const[s,n,h,g]=(0,i.parseClass)(e,r);if(h){c+=s;d=d||n;r+=h-1;t=t||g;continue}}if(h==="*"){if(s&&e==="*")c+=N;else c+=z;t=true;continue}if(h==="?"){c+=b;t=true;continue}c+=regExpEscape(h)}return[c,(0,r.unescape)(e),!!t,d]}}t.AST=AST},5832:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.parseClass=void 0;const s={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",true],"[:alpha:]":["\\p{L}\\p{Nl}",true],"[:ascii:]":["\\x"+"00-\\x"+"7f",false],"[:blank:]":["\\p{Zs}\\t",true],"[:cntrl:]":["\\p{Cc}",true],"[:digit:]":["\\p{Nd}",true],"[:graph:]":["\\p{Z}\\p{C}",true,true],"[:lower:]":["\\p{Ll}",true],"[:print:]":["\\p{C}",true],"[:punct:]":["\\p{P}",true],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",true],"[:upper:]":["\\p{Lu}",true],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",true],"[:xdigit:]":["A-Fa-f0-9",false]};const braceEscape=e=>e.replace(/[[\]\\-]/g,"\\$&");const regexpEscape=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");const rangesToString=e=>e.join("");const parseClass=(e,t)=>{const i=t;if(e.charAt(i)!=="["){throw new Error("not in a brace expression")}const r=[];const n=[];let c=i+1;let d=false;let h=false;let g=false;let v=false;let b=i;let z="";e:while(c<e.length){const t=e.charAt(c);if((t==="!"||t==="^")&&c===i+1){v=true;c++;continue}if(t==="]"&&d&&!g){b=c+1;break}d=true;if(t==="\\"){if(!g){g=true;c++;continue}}if(t==="["&&!g){for(const[t,[d,g,v]]of Object.entries(s)){if(e.startsWith(t,c)){if(z){return["$.",false,e.length-i,true]}c+=t.length;if(v)n.push(d);else r.push(d);h=h||g;continue e}}}g=false;if(z){if(t>z){r.push(braceEscape(z)+"-"+braceEscape(t))}else if(t===z){r.push(braceEscape(t))}z="";c++;continue}if(e.startsWith("-]",c+1)){r.push(braceEscape(t+"-"));c+=2;continue}if(e.startsWith("-",c+1)){z=t;c+=2;continue}r.push(braceEscape(t));c++}if(b<c){return["",false,0,false]}if(!r.length&&!n.length){return["$.",false,e.length-i,true]}if(n.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!v){const e=r[0].length===2?r[0].slice(-1):r[0];return[regexpEscape(e),false,b-i,false]}const N="["+(v?"^":"")+rangesToString(r)+"]";const D="["+(v?"":"^")+rangesToString(n)+"]";const U=r.length&&n.length?"("+N+"|"+D+")":r.length?N:D;return[U,h,b-i,true]};t.parseClass=parseClass},1674:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.escape=void 0;const escape=(e,{windowsPathsNoEscape:t=false}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&");t.escape=escape},7193:function(e,t,s){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.unescape=t.escape=t.AST=t.Minimatch=t.match=t.makeRe=t.braceExpand=t.defaults=t.filter=t.GLOBSTAR=t.sep=t.minimatch=void 0;const r=i(s(4231));const n=s(9585);const c=s(9095);const d=s(1674);const h=s(6582);const minimatch=(e,t,s={})=>{(0,n.assertValidPattern)(t);if(!s.nocomment&&t.charAt(0)==="#"){return false}return new Minimatch(t,s).match(e)};t.minimatch=minimatch;const g=/^\*+([^+@!?\*\[\(]*)$/;const starDotExtTest=e=>t=>!t.startsWith(".")&&t.endsWith(e);const starDotExtTestDot=e=>t=>t.endsWith(e);const starDotExtTestNocase=e=>{e=e.toLowerCase();return t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)};const starDotExtTestNocaseDot=e=>{e=e.toLowerCase();return t=>t.toLowerCase().endsWith(e)};const v=/^\*+\.\*+$/;const starDotStarTest=e=>!e.startsWith(".")&&e.includes(".");const starDotStarTestDot=e=>e!=="."&&e!==".."&&e.includes(".");const b=/^\.\*+$/;const dotStarTest=e=>e!=="."&&e!==".."&&e.startsWith(".");const z=/^\*+$/;const starTest=e=>e.length!==0&&!e.startsWith(".");const starTestDot=e=>e.length!==0&&e!=="."&&e!=="..";const N=/^\?+([^+@!?\*\[\(]*)?$/;const qmarksTestNocase=([e,t=""])=>{const s=qmarksTestNoExt([e]);if(!t)return s;t=t.toLowerCase();return e=>s(e)&&e.toLowerCase().endsWith(t)};const qmarksTestNocaseDot=([e,t=""])=>{const s=qmarksTestNoExtDot([e]);if(!t)return s;t=t.toLowerCase();return e=>s(e)&&e.toLowerCase().endsWith(t)};const qmarksTestDot=([e,t=""])=>{const s=qmarksTestNoExtDot([e]);return!t?s:e=>s(e)&&e.endsWith(t)};const qmarksTest=([e,t=""])=>{const s=qmarksTestNoExt([e]);return!t?s:e=>s(e)&&e.endsWith(t)};const qmarksTestNoExt=([e])=>{const t=e.length;return e=>e.length===t&&!e.startsWith(".")};const qmarksTestNoExtDot=([e])=>{const t=e.length;return e=>e.length===t&&e!=="."&&e!==".."};const D=typeof process==="object"&&process?typeof process.env==="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";const U={win32:{sep:"\\"},posix:{sep:"/"}};t.sep=D==="win32"?U.win32.sep:U.posix.sep;t.minimatch.sep=t.sep;t.GLOBSTAR=Symbol("globstar **");t.minimatch.GLOBSTAR=t.GLOBSTAR;const B="[^/]";const V=B+"*?";const W="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";const q="(?:(?!(?:\\/|^)\\.).)*?";const filter=(e,s={})=>i=>(0,t.minimatch)(i,e,s);t.filter=filter;t.minimatch.filter=t.filter;const ext=(e,t={})=>Object.assign({},e,t);const defaults=e=>{if(!e||typeof e!=="object"||!Object.keys(e).length){return t.minimatch}const s=t.minimatch;const m=(t,i,r={})=>s(t,i,ext(e,r));return Object.assign(m,{Minimatch:class Minimatch extends s.Minimatch{constructor(t,s={}){super(t,ext(e,s))}static defaults(t){return s.defaults(ext(e,t)).Minimatch}},AST:class AST extends s.AST{constructor(t,s,i={}){super(t,s,ext(e,i))}static fromGlob(t,i={}){return s.AST.fromGlob(t,ext(e,i))}},unescape:(t,i={})=>s.unescape(t,ext(e,i)),escape:(t,i={})=>s.escape(t,ext(e,i)),filter:(t,i={})=>s.filter(t,ext(e,i)),defaults:t=>s.defaults(ext(e,t)),makeRe:(t,i={})=>s.makeRe(t,ext(e,i)),braceExpand:(t,i={})=>s.braceExpand(t,ext(e,i)),match:(t,i,r={})=>s.match(t,i,ext(e,r)),sep:s.sep,GLOBSTAR:t.GLOBSTAR})};t.defaults=defaults;t.minimatch.defaults=t.defaults;const braceExpand=(e,t={})=>{(0,n.assertValidPattern)(e);if(t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)){return[e]}return(0,r.default)(e)};t.braceExpand=braceExpand;t.minimatch.braceExpand=t.braceExpand;const makeRe=(e,t={})=>new Minimatch(e,t).makeRe();t.makeRe=makeRe;t.minimatch.makeRe=t.makeRe;const match=(e,t,s={})=>{const i=new Minimatch(t,s);e=e.filter((e=>i.match(e)));if(i.options.nonull&&!e.length){e.push(t)}return e};t.match=match;t.minimatch.match=t.match;const H=/[?*]|[+@!]\(.*?\)|\[|\]/;const regExpEscape=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Minimatch{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){(0,n.assertValidPattern)(e);t=t||{};this.options=t;this.pattern=e;this.platform=t.platform||D;this.isWindows=this.platform==="win32";this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===false;if(this.windowsPathsNoEscape){this.pattern=this.pattern.replace(/\\/g,"/")}this.preserveMultipleSlashes=!!t.preserveMultipleSlashes;this.regexp=null;this.negate=false;this.nonegate=!!t.nonegate;this.comment=false;this.empty=false;this.partial=!!t.partial;this.nocase=!!this.options.nocase;this.windowsNoMagicRoot=t.windowsNoMagicRoot!==undefined?t.windowsNoMagicRoot:!!(this.isWindows&&this.nocase);this.globSet=[];this.globParts=[];this.set=[];this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1){return true}for(const e of this.set){for(const t of e){if(typeof t!=="string")return true}}return false}debug(...e){}make(){const e=this.pattern;const t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=true;return}if(!e){this.empty=true;return}this.parseNegate();this.globSet=[...new Set(this.braceExpand())];if(t.debug){this.debug=(...e)=>console.error(...e)}this.debug(this.pattern,this.globSet);const s=this.globSet.map((e=>this.slashSplit(e)));this.globParts=this.preprocess(s);this.debug(this.pattern,this.globParts);let i=this.globParts.map(((e,t,s)=>{if(this.isWindows&&this.windowsNoMagicRoot){const t=e[0]===""&&e[1]===""&&(e[2]==="?"||!H.test(e[2]))&&!H.test(e[3]);const s=/^[a-z]:/i.test(e[0]);if(t){return[...e.slice(0,4),...e.slice(4).map((e=>this.parse(e)))]}else if(s){return[e[0],...e.slice(1).map((e=>this.parse(e)))]}}return e.map((e=>this.parse(e)))}));this.debug(this.pattern,i);this.set=i.filter((e=>e.indexOf(false)===-1));if(this.isWindows){for(let e=0;e<this.set.length;e++){const t=this.set[e];if(t[0]===""&&t[1]===""&&this.globParts[e][2]==="?"&&typeof t[3]==="string"&&/^[a-z]:$/i.test(t[3])){t[2]="?"}}}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar){for(let t=0;t<e.length;t++){for(let s=0;s<e[t].length;s++){if(e[t][s]==="**"){e[t][s]="*"}}}}const{optimizationLevel:t=1}=this.options;if(t>=2){e=this.firstPhasePreProcess(e);e=this.secondPhasePreProcess(e)}else if(t>=1){e=this.levelOneOptimize(e)}else{e=this.adjascentGlobstarOptimize(e)}return e}adjascentGlobstarOptimize(e){return e.map((e=>{let t=-1;while(-1!==(t=e.indexOf("**",t+1))){let s=t;while(e[s+1]==="**"){s++}if(s!==t){e.splice(t,s-t)}}return e}))}levelOneOptimize(e){return e.map((e=>{e=e.reduce(((e,t)=>{const s=e[e.length-1];if(t==="**"&&s==="**"){return e}if(t===".."){if(s&&s!==".."&&s!=="."&&s!=="**"){e.pop();return e}}e.push(t);return e}),[]);return e.length===0?[""]:e}))}levelTwoFileOptimize(e){if(!Array.isArray(e)){e=this.slashSplit(e)}let t=false;do{t=false;if(!this.preserveMultipleSlashes){for(let s=1;s<e.length-1;s++){const i=e[s];if(s===1&&i===""&&e[0]==="")continue;if(i==="."||i===""){t=true;e.splice(s,1);s--}}if(e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")){t=true;e.pop()}}let s=0;while(-1!==(s=e.indexOf("..",s+1))){const i=e[s-1];if(i&&i!=="."&&i!==".."&&i!=="**"){t=true;e.splice(s-1,2);s-=2}}}while(t);return e.length===0?[""]:e}firstPhasePreProcess(e){let t=false;do{t=false;for(let s of e){let i=-1;while(-1!==(i=s.indexOf("**",i+1))){let r=i;while(s[r+1]==="**"){r++}if(r>i){s.splice(i+1,r-i)}let n=s[i+1];const c=s[i+2];const d=s[i+3];if(n!=="..")continue;if(!c||c==="."||c===".."||!d||d==="."||d===".."){continue}t=true;s.splice(i,1);const h=s.slice(0);h[i]="**";e.push(h);i--}if(!this.preserveMultipleSlashes){for(let e=1;e<s.length-1;e++){const i=s[e];if(e===1&&i===""&&s[0]==="")continue;if(i==="."||i===""){t=true;s.splice(e,1);e--}}if(s[0]==="."&&s.length===2&&(s[1]==="."||s[1]==="")){t=true;s.pop()}}let r=0;while(-1!==(r=s.indexOf("..",r+1))){const e=s[r-1];if(e&&e!=="."&&e!==".."&&e!=="**"){t=true;const e=r===1&&s[r+1]==="**";const i=e?["."]:[];s.splice(r-1,2,...i);if(s.length===0)s.push("");r-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++){for(let s=t+1;s<e.length;s++){const i=this.partsMatch(e[t],e[s],!this.preserveMultipleSlashes);if(!i)continue;e[t]=i;e[s]=[]}}return e.filter((e=>e.length))}partsMatch(e,t,s=false){let i=0;let r=0;let n=[];let c="";while(i<e.length&&r<t.length){if(e[i]===t[r]){n.push(c==="b"?t[r]:e[i]);i++;r++}else if(s&&e[i]==="**"&&t[r]===e[i+1]){n.push(e[i]);i++}else if(s&&t[r]==="**"&&e[i]===t[r+1]){n.push(t[r]);r++}else if(e[i]==="*"&&t[r]&&(this.options.dot||!t[r].startsWith("."))&&t[r]!=="**"){if(c==="b")return false;c="a";n.push(e[i]);i++;r++}else if(t[r]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(c==="a")return false;c="b";n.push(t[r]);i++;r++}else{return false}}return e.length===t.length&&n}parseNegate(){if(this.nonegate)return;const e=this.pattern;let t=false;let s=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++){t=!t;s++}if(s)this.pattern=e.slice(s);this.negate=t}matchOne(e,s,i=false){const r=this.options;if(this.isWindows){const t=typeof e[0]==="string"&&/^[a-z]:$/i.test(e[0]);const i=!t&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]);const r=typeof s[0]==="string"&&/^[a-z]:$/i.test(s[0]);const n=!r&&s[0]===""&&s[1]===""&&s[2]==="?"&&typeof s[3]==="string"&&/^[a-z]:$/i.test(s[3]);const c=i?3:t?0:undefined;const d=n?3:r?0:undefined;if(typeof c==="number"&&typeof d==="number"){const[t,i]=[e[c],s[d]];if(t.toLowerCase()===i.toLowerCase()){s[d]=t;if(d>c){s=s.slice(d)}else if(c>d){e=e.slice(c)}}}}const{optimizationLevel:n=1}=this.options;if(n>=2){e=this.levelTwoFileOptimize(e)}this.debug("matchOne",this,{file:e,pattern:s});this.debug("matchOne",e.length,s.length);for(var c=0,d=0,h=e.length,g=s.length;c<h&&d<g;c++,d++){this.debug("matchOne loop");var v=s[d];var b=e[c];this.debug(s,v,b);if(v===false){return false}if(v===t.GLOBSTAR){this.debug("GLOBSTAR",[s,v,b]);var z=c;var N=d+1;if(N===g){this.debug("** at the end");for(;c<h;c++){if(e[c]==="."||e[c]===".."||!r.dot&&e[c].charAt(0)===".")return false}return true}while(z<h){var D=e[z];this.debug("\nglobstar while",e,z,s,N,D);if(this.matchOne(e.slice(z),s.slice(N),i)){this.debug("globstar found match!",z,h,D);return true}else{if(D==="."||D===".."||!r.dot&&D.charAt(0)==="."){this.debug("dot detected!",e,z,s,N);break}this.debug("globstar swallow a segment, and continue");z++}}if(i){this.debug("\n>>> no match, partial?",e,z,s,N);if(z===h){return true}}return false}let n;if(typeof v==="string"){n=b===v;this.debug("string match",v,b,n)}else{n=v.test(b);this.debug("pattern match",v,b,n)}if(!n)return false}if(c===h&&d===g){return true}else if(c===h){return i}else if(d===g){return c===h-1&&e[c]===""}else{throw new Error("wtf?")}}braceExpand(){return(0,t.braceExpand)(this.pattern,this.options)}parse(e){(0,n.assertValidPattern)(e);const s=this.options;if(e==="**")return t.GLOBSTAR;if(e==="")return"";let i;let r=null;if(i=e.match(z)){r=s.dot?starTestDot:starTest}else if(i=e.match(g)){r=(s.nocase?s.dot?starDotExtTestNocaseDot:starDotExtTestNocase:s.dot?starDotExtTestDot:starDotExtTest)(i[1])}else if(i=e.match(N)){r=(s.nocase?s.dot?qmarksTestNocaseDot:qmarksTestNocase:s.dot?qmarksTestDot:qmarksTest)(i)}else if(i=e.match(v)){r=s.dot?starDotStarTestDot:starDotStarTest}else if(i=e.match(b)){r=dotStarTest}const d=c.AST.fromGlob(e,this.options).toMMPattern();return r?Object.assign(d,{test:r}):d}makeRe(){if(this.regexp||this.regexp===false)return this.regexp;const e=this.set;if(!e.length){this.regexp=false;return this.regexp}const s=this.options;const i=s.noglobstar?V:s.dot?W:q;const r=new Set(s.nocase?["i"]:[]);let n=e.map((e=>{const s=e.map((e=>{if(e instanceof RegExp){for(const t of e.flags.split(""))r.add(t)}return typeof e==="string"?regExpEscape(e):e===t.GLOBSTAR?t.GLOBSTAR:e._src}));s.forEach(((e,r)=>{const n=s[r+1];const c=s[r-1];if(e!==t.GLOBSTAR||c===t.GLOBSTAR){return}if(c===undefined){if(n!==undefined&&n!==t.GLOBSTAR){s[r+1]="(?:\\/|"+i+"\\/)?"+n}else{s[r]=i}}else if(n===undefined){s[r-1]=c+"(?:\\/|"+i+")?"}else if(n!==t.GLOBSTAR){s[r-1]=c+"(?:\\/|\\/"+i+"\\/)"+n;s[r+1]=t.GLOBSTAR}}));return s.filter((e=>e!==t.GLOBSTAR)).join("/")})).join("|");const[c,d]=e.length>1?["(?:",")"]:["",""];n="^"+c+n+d+"$";if(this.negate)n="^(?!"+n+").+$";try{this.regexp=new RegExp(n,[...r].join(""))}catch(e){this.regexp=false}return this.regexp}slashSplit(e){if(this.preserveMultipleSlashes){return e.split("/")}else if(this.isWindows&&/^\/\/[^\/]+/.test(e)){return["",...e.split(/\/+/)]}else{return e.split(/\/+/)}}match(e,t=this.partial){this.debug("match",e,this.pattern);if(this.comment){return false}if(this.empty){return e===""}if(e==="/"&&t){return true}const s=this.options;if(this.isWindows){e=e.split("\\").join("/")}const i=this.slashSplit(e);this.debug(this.pattern,"split",i);const r=this.set;this.debug(this.pattern,"set",r);let n=i[i.length-1];if(!n){for(let e=i.length-2;!n&&e>=0;e--){n=i[e]}}for(let e=0;e<r.length;e++){const c=r[e];let d=i;if(s.matchBase&&c.length===1){d=[n]}const h=this.matchOne(d,c,t);if(h){if(s.flipNegate){return true}return!this.negate}}if(s.flipNegate){return false}return this.negate}static defaults(e){return t.minimatch.defaults(e).Minimatch}}t.Minimatch=Minimatch;var K=s(9095);Object.defineProperty(t,"AST",{enumerable:true,get:function(){return K.AST}});var Y=s(1674);Object.defineProperty(t,"escape",{enumerable:true,get:function(){return Y.escape}});var Q=s(6582);Object.defineProperty(t,"unescape",{enumerable:true,get:function(){return Q.unescape}});t.minimatch.AST=c.AST;t.minimatch.Minimatch=Minimatch;t.minimatch.escape=d.escape;t.minimatch.unescape=h.unescape},6582:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.unescape=void 0;const unescape=(e,{windowsPathsNoEscape:t=false}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");t.unescape=unescape},9518:function(e,t,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){if(i===undefined)i=s;var r=Object.getOwnPropertyDescriptor(t,s);if(!r||("get"in r?!t.__esModule:r.writable||r.configurable)){r={enumerable:true,get:function(){return t[s]}}}Object.defineProperty(e,i,r)}:function(e,t,s,i){if(i===undefined)i=s;e[i]=t[s]});var r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s))i(t,e,s);r(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.PathScurry=t.Path=t.PathScurryDarwin=t.PathScurryPosix=t.PathScurryWin32=t.PathScurryBase=t.PathPosix=t.PathWin32=t.PathBase=t.ChildrenCache=t.ResolveCache=void 0;const c=s(2466);const d=s(1017);const h=s(7310);const g=n(s(7147));const v=s(7147);const b=v.realpathSync.native;const z=s(3292);const N=s(4260);const D={lstatSync:v.lstatSync,readdir:v.readdir,readdirSync:v.readdirSync,readlinkSync:v.readlinkSync,realpathSync:b,promises:{lstat:z.lstat,readdir:z.readdir,readlink:z.readlink,realpath:z.realpath}};const fsFromOption=e=>!e||e===D||e===g?D:{...D,...e,promises:{...D.promises,...e.promises||{}}};const U=/^\\\\\?\\([a-z]:)\\?$/i;const uncToDrive=e=>e.replace(/\//g,"\\").replace(U,"$1\\");const B=/[\\\/]/;const V=0;const W=1;const q=2;const H=4;const K=6;const Y=8;const Q=10;const X=12;const ee=15;const te=~ee;const se=16;const ie=32;const re=64;const ne=128;const oe=256;const ae=512;const ce=re|ne|ae;const le=1023;const entToType=e=>e.isFile()?Y:e.isDirectory()?H:e.isSymbolicLink()?Q:e.isCharacterDevice()?q:e.isBlockDevice()?K:e.isSocket()?X:e.isFIFO()?W:V;const de=new Map;const normalize=e=>{const t=de.get(e);if(t)return t;const s=e.normalize("NFKD");de.set(e,s);return s};const ue=new Map;const normalizeNocase=e=>{const t=ue.get(e);if(t)return t;const s=normalize(e.toLowerCase());ue.set(e,s);return s};class ResolveCache extends c.LRUCache{constructor(){super({max:256})}}t.ResolveCache=ResolveCache;class ChildrenCache extends c.LRUCache{constructor(e=16*1024){super({maxSize:e,sizeCalculation:e=>e.length+1})}}t.ChildrenCache=ChildrenCache;const he=Symbol("PathScurry setAsCwd");class PathBase{name;root;roots;parent;nocase;#me;#ge;get dev(){return this.#ge}#ye;get mode(){return this.#ye}#ve;get nlink(){return this.#ve}#be;get uid(){return this.#be}#we;get gid(){return this.#we}#_e;get rdev(){return this.#_e}#xe;get blksize(){return this.#xe}#ke;get ino(){return this.#ke}#_;get size(){return this.#_}#Se;get blocks(){return this.#Se}#Te;get atimeMs(){return this.#Te}#Ce;get mtimeMs(){return this.#Ce}#Pe;get ctimeMs(){return this.#Pe}#Oe;get birthtimeMs(){return this.#Oe}#Ze;get atime(){return this.#Ze}#Ee;get mtime(){return this.#Ee}#Ie;get ctime(){return this.#Ie}#Ae;get birthtime(){return this.#Ae}#ze;#Le;#Ne;#je;#Re;#Me;#De;#Ue;#Be;#Fe;get path(){return(this.parent||this).fullpath()}constructor(e,t=V,s,i,r,n,c){this.name=e;this.#ze=r?normalizeNocase(e):normalize(e);this.#De=t&le;this.nocase=r;this.roots=i;this.root=s||this;this.#Ue=n;this.#Ne=c.fullpath;this.#Re=c.relative;this.#Me=c.relativePosix;this.parent=c.parent;if(this.parent){this.#me=this.parent.#me}else{this.#me=fsFromOption(c.fs)}}depth(){if(this.#Le!==undefined)return this.#Le;if(!this.parent)return this.#Le=0;return this.#Le=this.parent.depth()+1}childrenCache(){return this.#Ue}resolve(e){if(!e){return this}const t=this.getRootString(e);const s=e.substring(t.length);const i=s.split(this.splitSep);const r=t?this.getRoot(t).#$e(i):this.#$e(i);return r}#$e(e){let t=this;for(const s of e){t=t.child(s)}return t}children(){const e=this.#Ue.get(this);if(e){return e}const t=Object.assign([],{provisional:0});this.#Ue.set(this,t);this.#De&=~se;return t}child(e,t){if(e===""||e==="."){return this}if(e===".."){return this.parent||this}const s=this.children();const i=this.nocase?normalizeNocase(e):normalize(e);for(const e of s){if(e.#ze===i){return e}}const r=this.parent?this.sep:"";const n=this.#Ne?this.#Ne+r+e:undefined;const c=this.newChild(e,V,{...t,parent:this,fullpath:n});if(!this.canReaddir()){c.#De|=ne}s.push(c);return c}relative(){if(this.#Re!==undefined){return this.#Re}const e=this.name;const t=this.parent;if(!t){return this.#Re=this.name}const s=t.relative();return s+(!s||!t.parent?"":this.sep)+e}relativePosix(){if(this.sep==="/")return this.relative();if(this.#Me!==undefined)return this.#Me;const e=this.name;const t=this.parent;if(!t){return this.#Me=this.fullpathPosix()}const s=t.relativePosix();return s+(!s||!t.parent?"":"/")+e}fullpath(){if(this.#Ne!==undefined){return this.#Ne}const e=this.name;const t=this.parent;if(!t){return this.#Ne=this.name}const s=t.fullpath();const i=s+(!t.parent?"":this.sep)+e;return this.#Ne=i}fullpathPosix(){if(this.#je!==undefined)return this.#je;if(this.sep==="/")return this.#je=this.fullpath();if(!this.parent){const e=this.fullpath().replace(/\\/g,"/");if(/^[a-z]:\//i.test(e)){return this.#je=`//?/${e}`}else{return this.#je=e}}const e=this.parent;const t=e.fullpathPosix();const s=t+(!t||!e.parent?"":"/")+this.name;return this.#je=s}isUnknown(){return(this.#De&ee)===V}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#De&ee)===Y}isDirectory(){return(this.#De&ee)===H}isCharacterDevice(){return(this.#De&ee)===q}isBlockDevice(){return(this.#De&ee)===K}isFIFO(){return(this.#De&ee)===W}isSocket(){return(this.#De&ee)===X}isSymbolicLink(){return(this.#De&Q)===Q}lstatCached(){return this.#De&ie?this:undefined}readlinkCached(){return this.#Be}realpathCached(){return this.#Fe}readdirCached(){const e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#Be)return true;if(!this.parent)return false;const e=this.#De&ee;return!(e!==V&&e!==Q||this.#De&oe||this.#De&ne)}calledReaddir(){return!!(this.#De&se)}isENOENT(){return!!(this.#De&ne)}isNamed(e){return!this.nocase?this.#ze===normalize(e):this.#ze===normalizeNocase(e)}async readlink(){const e=this.#Be;if(e){return e}if(!this.canReadlink()){return undefined}if(!this.parent){return undefined}try{const e=await this.#me.promises.readlink(this.fullpath());const t=this.parent.resolve(e);if(t){return this.#Be=t}}catch(e){this.#Ve(e.code);return undefined}}readlinkSync(){const e=this.#Be;if(e){return e}if(!this.canReadlink()){return undefined}if(!this.parent){return undefined}try{const e=this.#me.readlinkSync(this.fullpath());const t=this.parent.resolve(e);if(t){return this.#Be=t}}catch(e){this.#Ve(e.code);return undefined}}#We(e){this.#De|=se;for(let t=e.provisional;t<e.length;t++){e[t].#qe()}}#qe(){if(this.#De&ne)return;this.#De=(this.#De|ne)&te;this.#Ge()}#Ge(){const e=this.children();e.provisional=0;for(const t of e){t.#qe()}}#He(){this.#De|=ae;this.#Ke()}#Ke(){if(this.#De&re)return;let e=this.#De;if((e&ee)===H)e&=te;this.#De=e|re;this.#Ge()}#Je(e=""){if(e==="ENOTDIR"||e==="EPERM"){this.#Ke()}else if(e==="ENOENT"){this.#qe()}else{this.children().provisional=0}}#Ye(e=""){if(e==="ENOTDIR"){const e=this.parent;e.#Ke()}else if(e==="ENOENT"){this.#qe()}}#Ve(e=""){let t=this.#De;t|=oe;if(e==="ENOENT")t|=ne;if(e==="EINVAL"||e==="UNKNOWN"){t&=te}this.#De=t;if(e==="ENOTDIR"&&this.parent){this.parent.#Ke()}}#Qe(e,t){return this.#Xe(e,t)||this.#et(e,t)}#et(e,t){const s=entToType(e);const i=this.newChild(e.name,s,{parent:this});const r=i.#De&ee;if(r!==H&&r!==Q&&r!==V){i.#De|=re}t.unshift(i);t.provisional++;return i}#Xe(e,t){for(let s=t.provisional;s<t.length;s++){const i=t[s];const r=this.nocase?normalizeNocase(e.name):normalize(e.name);if(r!==i.#ze){continue}return this.#tt(e,i,s,t)}}#tt(e,t,s,i){const r=t.name;t.#De=t.#De&te|entToType(e);if(r!==e.name)t.name=e.name;if(s!==i.provisional){if(s===i.length-1)i.pop();else i.splice(s,1);i.unshift(t)}i.provisional++;return t}async lstat(){if((this.#De&ne)===0){try{this.#st(await this.#me.promises.lstat(this.fullpath()));return this}catch(e){this.#Ye(e.code)}}}lstatSync(){if((this.#De&ne)===0){try{this.#st(this.#me.lstatSync(this.fullpath()));return this}catch(e){this.#Ye(e.code)}}}#st(e){const{atime:t,atimeMs:s,birthtime:i,birthtimeMs:r,blksize:n,blocks:c,ctime:d,ctimeMs:h,dev:g,gid:v,ino:b,mode:z,mtime:N,mtimeMs:D,nlink:U,rdev:B,size:W,uid:q}=e;this.#Ze=t;this.#Te=s;this.#Ae=i;this.#Oe=r;this.#xe=n;this.#Se=c;this.#Ie=d;this.#Pe=h;this.#ge=g;this.#we=v;this.#ke=b;this.#ye=z;this.#Ee=N;this.#Ce=D;this.#ve=U;this.#_e=B;this.#_=W;this.#be=q;const K=entToType(e);this.#De=this.#De&te|K|ie;if(K!==V&&K!==H&&K!==Q){this.#De|=re}}#it=[];#rt=false;#nt(e){this.#rt=false;const t=this.#it.slice();this.#it.length=0;t.forEach((t=>t(null,e)))}readdirCB(e,t=false){if(!this.canReaddir()){if(t)e(null,[]);else queueMicrotask((()=>e(null,[])));return}const s=this.children();if(this.calledReaddir()){const i=s.slice(0,s.provisional);if(t)e(null,i);else queueMicrotask((()=>e(null,i)));return}this.#it.push(e);if(this.#rt){return}this.#rt=true;const i=this.fullpath();this.#me.readdir(i,{withFileTypes:true},((e,t)=>{if(e){this.#Je(e.code);s.provisional=0}else{for(const e of t){this.#Qe(e,s)}this.#We(s)}this.#nt(s.slice(0,s.provisional));return}))}#ot;async readdir(){if(!this.canReaddir()){return[]}const e=this.children();if(this.calledReaddir()){return e.slice(0,e.provisional)}const t=this.fullpath();if(this.#ot){await this.#ot}else{let resolve=()=>{};this.#ot=new Promise((e=>resolve=e));try{for(const s of await this.#me.promises.readdir(t,{withFileTypes:true})){this.#Qe(s,e)}this.#We(e)}catch(t){this.#Je(t.code);e.provisional=0}this.#ot=undefined;resolve()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir()){return[]}const e=this.children();if(this.calledReaddir()){return e.slice(0,e.provisional)}const t=this.fullpath();try{for(const s of this.#me.readdirSync(t,{withFileTypes:true})){this.#Qe(s,e)}this.#We(e)}catch(t){this.#Je(t.code);e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(this.#De&ce)return false;const e=ee&this.#De;if(!(e===V||e===H||e===Q)){return false}return true}shouldWalk(e,t){return(this.#De&H)===H&&!(this.#De&ce)&&!e.has(this)&&(!t||t(this))}async realpath(){if(this.#Fe)return this.#Fe;if((ae|oe|ne)&this.#De)return undefined;try{const e=await this.#me.promises.realpath(this.fullpath());return this.#Fe=this.resolve(e)}catch(e){this.#He()}}realpathSync(){if(this.#Fe)return this.#Fe;if((ae|oe|ne)&this.#De)return undefined;try{const e=this.#me.realpathSync(this.fullpath());return this.#Fe=this.resolve(e)}catch(e){this.#He()}}[he](e){if(e===this)return;const t=new Set([]);let s=[];let i=this;while(i&&i.parent){t.add(i);i.#Re=s.join(this.sep);i.#Me=s.join("/");i=i.parent;s.push("..")}i=e;while(i&&i.parent&&!t.has(i)){i.#Re=undefined;i.#Me=undefined;i=i.parent}}}t.PathBase=PathBase;class PathWin32 extends PathBase{sep="\\";splitSep=B;constructor(e,t=V,s,i,r,n,c){super(e,t,s,i,r,n,c)}newChild(e,t=V,s={}){return new PathWin32(e,t,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(e){return d.win32.parse(e).root}getRoot(e){e=uncToDrive(e.toUpperCase());if(e===this.root.name){return this.root}for(const[t,s]of Object.entries(this.roots)){if(this.sameRoot(e,t)){return this.roots[e]=s}}return this.roots[e]=new PathScurryWin32(e,this).root}sameRoot(e,t=this.root.name){e=e.toUpperCase().replace(/\//g,"\\").replace(U,"$1\\");return e===t}}t.PathWin32=PathWin32;class PathPosix extends PathBase{splitSep="/";sep="/";constructor(e,t=V,s,i,r,n,c){super(e,t,s,i,r,n,c)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,t=V,s={}){return new PathPosix(e,t,this.root,this.roots,this.nocase,this.childrenCache(),s)}}t.PathPosix=PathPosix;class PathScurryBase{root;rootPath;roots;cwd;#at;#ct;#Ue;nocase;#me;constructor(e=process.cwd(),t,s,{nocase:i,childrenCacheSize:r=16*1024,fs:n=D}={}){this.#me=fsFromOption(n);if(e instanceof URL||e.startsWith("file://")){e=(0,h.fileURLToPath)(e)}const c=t.resolve(e);this.roots=Object.create(null);this.rootPath=this.parseRootPath(c);this.#at=new ResolveCache;this.#ct=new ResolveCache;this.#Ue=new ChildrenCache(r);const d=c.substring(this.rootPath.length).split(s);if(d.length===1&&!d[0]){d.pop()}if(i===undefined){throw new TypeError("must provide nocase setting to PathScurryBase ctor")}this.nocase=i;this.root=this.newRoot(this.#me);this.roots[this.rootPath]=this.root;let g=this.root;let v=d.length-1;const b=t.sep;let z=this.rootPath;let N=false;for(const e of d){const t=v--;g=g.child(e,{relative:new Array(t).fill("..").join(b),relativePosix:new Array(t).fill("..").join("/"),fullpath:z+=(N?"":b)+e});N=true}this.cwd=g}depth(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.depth()}childrenCache(){return this.#Ue}resolve(...e){let t="";for(let s=e.length-1;s>=0;s--){const i=e[s];if(!i||i===".")continue;t=t?`${i}/${t}`:i;if(this.isAbsolute(i)){break}}const s=this.#at.get(t);if(s!==undefined){return s}const i=this.cwd.resolve(t).fullpath();this.#at.set(t,i);return i}resolvePosix(...e){let t="";for(let s=e.length-1;s>=0;s--){const i=e[s];if(!i||i===".")continue;t=t?`${i}/${t}`:i;if(this.isAbsolute(i)){break}}const s=this.#ct.get(t);if(s!==undefined){return s}const i=this.cwd.resolve(t).fullpathPosix();this.#ct.set(t,i);return i}relative(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.relative()}relativePosix(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.relativePosix()}basename(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.name}dirname(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return(e.parent||e).fullpath()}async readdir(e=this.cwd,t={withFileTypes:true}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e;e=this.cwd}const{withFileTypes:s}=t;if(!e.canReaddir()){return[]}else{const t=await e.readdir();return s?t:t.map((e=>e.name))}}readdirSync(e=this.cwd,t={withFileTypes:true}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e;e=this.cwd}const{withFileTypes:s=true}=t;if(!e.canReaddir()){return[]}else if(s){return e.readdirSync()}else{return e.readdirSync().map((e=>e.name))}}async lstat(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.lstat()}lstatSync(e=this.cwd){if(typeof e==="string"){e=this.cwd.resolve(e)}return e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:t}={withFileTypes:false}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e.withFileTypes;e=this.cwd}const s=await e.readlink();return t?s:s?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:t}={withFileTypes:false}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e.withFileTypes;e=this.cwd}const s=e.readlinkSync();return t?s:s?.fullpath()}async realpath(e=this.cwd,{withFileTypes:t}={withFileTypes:false}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e.withFileTypes;e=this.cwd}const s=await e.realpath();return t?s:s?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:t}={withFileTypes:false}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e.withFileTypes;e=this.cwd}const s=e.realpathSync();return t?s:s?.fullpath()}async walk(e=this.cwd,t={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e;e=this.cwd}const{withFileTypes:s=true,follow:i=false,filter:r,walkFilter:n}=t;const c=[];if(!r||r(e)){c.push(s?e:e.fullpath())}const d=new Set;const walk=(e,t)=>{d.add(e);e.readdirCB(((e,h)=>{if(e){return t(e)}let g=h.length;if(!g)return t();const next=()=>{if(--g===0){t()}};for(const e of h){if(!r||r(e)){c.push(s?e:e.fullpath())}if(i&&e.isSymbolicLink()){e.realpath().then((e=>e?.isUnknown()?e.lstat():e)).then((e=>e?.shouldWalk(d,n)?walk(e,next):next()))}else{if(e.shouldWalk(d,n)){walk(e,next)}else{next()}}}}),true)};const h=e;return new Promise(((e,t)=>{walk(h,(s=>{if(s)return t(s);e(c)}))}))}walkSync(e=this.cwd,t={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e;e=this.cwd}const{withFileTypes:s=true,follow:i=false,filter:r,walkFilter:n}=t;const c=[];if(!r||r(e)){c.push(s?e:e.fullpath())}const d=new Set([e]);for(const e of d){const t=e.readdirSync();for(const e of t){if(!r||r(e)){c.push(s?e:e.fullpath())}let t=e;if(e.isSymbolicLink()){if(!(i&&(t=e.realpathSync())))continue;if(t.isUnknown())t.lstatSync()}if(t.shouldWalk(d,n)){d.add(t)}}}return c}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,t={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e;e=this.cwd}return this.stream(e,t)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,t={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e;e=this.cwd}const{withFileTypes:s=true,follow:i=false,filter:r,walkFilter:n}=t;if(!r||r(e)){yield s?e:e.fullpath()}const c=new Set([e]);for(const e of c){const t=e.readdirSync();for(const e of t){if(!r||r(e)){yield s?e:e.fullpath()}let t=e;if(e.isSymbolicLink()){if(!(i&&(t=e.realpathSync())))continue;if(t.isUnknown())t.lstatSync()}if(t.shouldWalk(c,n)){c.add(t)}}}}stream(e=this.cwd,t={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e;e=this.cwd}const{withFileTypes:s=true,follow:i=false,filter:r,walkFilter:n}=t;const c=new N.Minipass({objectMode:true});if(!r||r(e)){c.write(s?e:e.fullpath())}const d=new Set;const h=[e];let g=0;const process=()=>{let e=false;while(!e){const t=h.shift();if(!t){if(g===0)c.end();return}g++;d.add(t);const onReaddir=(t,b,z=false)=>{if(t)return c.emit("error",t);if(i&&!z){const e=[];for(const t of b){if(t.isSymbolicLink()){e.push(t.realpath().then((e=>e?.isUnknown()?e.lstat():e)))}}if(e.length){Promise.all(e).then((()=>onReaddir(null,b,true)));return}}for(const t of b){if(t&&(!r||r(t))){if(!c.write(s?t:t.fullpath())){e=true}}}g--;for(const e of b){const t=e.realpathCached()||e;if(t.shouldWalk(d,n)){h.push(t)}}if(e&&!c.flowing){c.once("drain",process)}else if(!v){process()}};let v=true;t.readdirCB(onReaddir,true);v=false}};process();return c}streamSync(e=this.cwd,t={}){if(typeof e==="string"){e=this.cwd.resolve(e)}else if(!(e instanceof PathBase)){t=e;e=this.cwd}const{withFileTypes:s=true,follow:i=false,filter:r,walkFilter:n}=t;const c=new N.Minipass({objectMode:true});const d=new Set;if(!r||r(e)){c.write(s?e:e.fullpath())}const h=[e];let g=0;const process=()=>{let e=false;while(!e){const t=h.shift();if(!t){if(g===0)c.end();return}g++;d.add(t);const v=t.readdirSync();for(const t of v){if(!r||r(t)){if(!c.write(s?t:t.fullpath())){e=true}}}g--;for(const e of v){let t=e;if(e.isSymbolicLink()){if(!(i&&(t=e.realpathSync())))continue;if(t.isUnknown())t.lstatSync()}if(t.shouldWalk(d,n)){h.push(t)}}}if(e&&!c.flowing)c.once("drain",process)};process();return c}chdir(e=this.cwd){const t=this.cwd;this.cwd=typeof e==="string"?this.cwd.resolve(e):e;this.cwd[he](t)}}t.PathScurryBase=PathScurryBase;class PathScurryWin32 extends PathScurryBase{sep="\\";constructor(e=process.cwd(),t={}){const{nocase:s=true}=t;super(e,d.win32,"\\",{...t,nocase:s});this.nocase=s;for(let e=this.cwd;e;e=e.parent){e.nocase=this.nocase}}parseRootPath(e){return d.win32.parse(e).root.toUpperCase()}newRoot(e){return new PathWin32(this.rootPath,H,undefined,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}}t.PathScurryWin32=PathScurryWin32;class PathScurryPosix extends PathScurryBase{sep="/";constructor(e=process.cwd(),t={}){const{nocase:s=false}=t;super(e,d.posix,"/",{...t,nocase:s});this.nocase=s}parseRootPath(e){return"/"}newRoot(e){return new PathPosix(this.rootPath,H,undefined,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}}t.PathScurryPosix=PathScurryPosix;class PathScurryDarwin extends PathScurryPosix{constructor(e=process.cwd(),t={}){const{nocase:s=true}=t;super(e,{...t,nocase:s})}}t.PathScurryDarwin=PathScurryDarwin;t.Path=process.platform==="win32"?PathWin32:PathPosix;t.PathScurry=process.platform==="win32"?PathScurryWin32:process.platform==="darwin"?PathScurryDarwin:PathScurryPosix},5507:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const i=s(801),r="2.12.1",n={"devcap1.schema.json":[O,E,T,w,_],"constants2.schema.json":[$]};function O(e,t,s){const r=typeof e.manufacturername=="string"&&typeof e.modelid=="string";if(r)return;const n=Array.isArray(e.manufacturername)&&Array.isArray(e.modelid);if(n&&e.manufacturername.length!==e.modelid.length){t.addIssue({code:i.z.ZodIssueCode.invalid_intersection_types,message:"When 'manufacturername' and 'modelid' are both arrays they should be the same length",path:["manufacturername","modelid"]});return}(r||n)===!1&&t.addIssue({code:i.z.ZodIssueCode.invalid_intersection_types,message:"Invalid properties 'manufacturername' and 'modelid' should have the same type",path:["manufacturername","modelid"]})}function E(e,t,s){if(!e.bindings)return;const o=e=>`0x${(typeof e=="number"?e:Number.parseInt(e,16)).toString(16)}`,r={};e.bindings.forEach((e=>{e.bind==="unicast"&&e.report&&e.report.forEach((t=>{t.max!==65535&&(r[`${o(e["src.ep"])}.${o(e.cl)}.${o(t.at)}`]=t.max)}))})),e.subdevices.forEach(((e,s)=>{e.items.forEach(((n,c)=>{var d;if(n["refresh.interval"]&&n.read&&n.read.fn==="zcl"){const h=o(n.read.ep??((d=e.fingerprint)==null?void 0:d.endpoint)??e.uuid[1]),g=Array.isArray(n.read.at)?n.read.at:[n.read.at];for(let e=0;e<g.length;e++){const d=`${h}.${o(n.read.cl)}.${o(g[e])}`;r[d]!==void 0&&n["refresh.interval"]-60<r[d]&&t.addIssue({code:i.z.ZodIssueCode.custom,message:`The refresh interval (${n["refresh.interval"]} - 60 = ${n["refresh.interval"]-60}) should be greater than the binding max refresh value (${r[d]}) with a margin of 60 seconds`,path:["subdevices",s,"items",c,"refresh.interval"]})}}}))}))}function T(e,t,s){if(!e.bindings)return;const r=[{description:'a color light should always have "state/ct" item.',if:{type:["$TYPE_COLOR_TEMPERATURE_LIGHT","Color Temperature Light","$TYPE_EXTENDED_COLOR_LIGHT","Extended Color Light"]},need:{item:["state/ct"]}},{description:'a device with "state/ct" need the "min" and "max" values for capability.',if:{item:["state/ct"]},need:{item:["cap/color/ct/min","cap/color/ct/max"]}},{description:'a device with "state/x" or "state/y" need the corresponding red, green and blue x and y values.',if:{item:["state/x","state/y"]},need:{item:["state/x","state/y","cap/color/xy/red_x","cap/color/xy/green_x","cap/color/xy/blue_x","cap/color/xy/red_y","cap/color/xy/green_y","cap/color/xy/blue_y"]}},{description:'a ZHAOpenClose should always have "state/open" item.',if:{type:["$TYPE_OPEN_CLOSE_SENSOR","ZHAOpenClose"]},need:{item:["state/open"]}}];e.subdevices.forEach(((e,s)=>{const n=e.items.map((e=>e.name));r.forEach((r=>{(Object.keys(r.if).length===0||Object.keys(r.if).some((t=>{var s;switch(t){case"type":return(s=r.if[t])==null?void 0:s.includes(e.type);case"item":return n.some((e=>{var s;return(s=r.if[t])==null?void 0:s.includes(e)}));default:return!1}})))&&r.need.item.forEach((e=>{n.includes(e)||t.addIssue({code:i.z.ZodIssueCode.custom,message:`The device should have the item "${e}" because ${r.description}`,path:["subdevices",s,"items"]})}))}))}))}function w(e,t,s){const r=["parse","write"];e.subdevices.forEach(((e,s)=>{e.items.forEach(((e,n)=>{r.forEach((r=>{const c=e[r];c!==void 0&&(c.fn===void 0||c.fn==="zcl"||c.fn==="zcl:attr"||c.fn==="zcl:cmd")&&(c.eval===void 0&&c.script===void 0&&t.addIssue({code:i.z.ZodIssueCode.custom,message:`The '${r}' function is missing 'eval' or 'script' option.`,path:["subdevices",s,"items",n,r]}),c.eval!==void 0&&c.script!==void 0&&t.addIssue({code:i.z.ZodIssueCode.custom,message:`The '${r}' function is having both 'eval' and 'script' option.`,path:["subdevices",s,"items",n,r]}))}))}))}))}function $(e,t,s){const r=I();Object.keys(e).forEach((s=>{if(!Object.keys(r.shape).includes(s)){if(!["$MF_","$TYPE_"].some((e=>s.startsWith(e)))){t.addIssue({code:i.z.ZodIssueCode.custom,message:"The constant key should start with '$MF_' or '$TYPE_'",path:[s]});return}typeof e[s]!="string"&&t.addIssue({code:i.z.ZodIssueCode.custom,message:"The constant value should be a string",path:[s]})}}))}function _(e,t,s){e.bindings&&e.subdevices.forEach(((e,r)=>{const n=s.subDevices[e.type];if(!n){t.addIssue({code:i.z.ZodIssueCode.custom,message:`The device is missing the device definition for the type "${e.type}"`,path:["subdevices",r,"items"]});return}let c=n.items;n.items_optional&&(c=c.filter((e=>!n.items_optional.includes(e)))),c.forEach((s=>{e.items.find((e=>e.name===s))||t.addIssue({code:i.z.ZodIssueCode.custom,message:`The device should have the item "${s}" because it is mandatory for devices of type "${e.type}"`,path:["subdevices",r,"items"]})}))}))}function C(e){return i.z.strictObject({$schema:i.z.optional(i.z.string()),schema:i.z.literal("constants1.schema.json"),manufacturers:i.z.record(i.z.string().startsWith("$MF_"),i.z.string()),"device-types":i.z.record(i.z.string().startsWith("$TYPE_"),i.z.string())})}function I(e){return i.z.object({$schema:i.z.optional(i.z.string()),schema:i.z.literal("constants2.schema.json")}).passthrough()}function A(){return i.z.string().regex(/^(\d{4})-(?:(?:0[1-9])|(?:1[0-2]))-(?:(?:0[1-9])|(?:[12][0-9])|(?:3[01]))$/,"Invalid date value")}function a(e=void 0){const t="Invalid hexadecimal value";return e===void 0?i.z.string().regex(/^0x[0-9a-fA-F]+$/,t):i.z.string().regex(new RegExp(`^0x[0-9a-fA-F]{${e}}$`),t)}function u(){return i.z.union([a(2),i.z.number().min(0).max(255)])}function S(){return i.z.custom((e=>{if(!Array.isArray(e)||e.length%2!==0)return!1;for(let t=0;t<e.length;t+=2){const s=e[t],i=e[t+1];if(typeof s!="number"||typeof i!="string")return!1}return!0}),"The value must be an array with an even number of values and alternating between number and string.")}function x(){return i.z.union([i.z.tuple([i.z.literal("$address.ext"),a(2)]),i.z.tuple([i.z.literal("$address.ext"),a(2),a(4)])])}function p(){return i.z.string()}function l(){return i.z.string()}function M(){return i.z.discriminatedUnion("fn",[i.z.strictObject({fn:i.z.literal("none")}),i.z.strictObject({fn:i.z.undefined().describe("Generic function to read ZCL attributes."),at:a(4).or(i.z.array(a(4))).describe("Attribute ID."),cl:a(4).describe("Cluster ID."),ep:i.z.optional(u()).describe("Endpoint, 255 means any endpoint, 0 means auto selected from subdevice."),mf:i.z.optional(a(4)).describe("Manufacturer code, must be set to 0x0000 for non manufacturer specific commands."),eval:i.z.optional(l()).describe("Javascript expression to transform the raw value.")}),i.z.strictObject({fn:i.z.literal("zcl").describe("Generic function to read ZCL attributes."),at:a(4).or(i.z.array(a(4))).describe("Attribute ID."),cl:a(4).describe("Cluster ID."),ep:i.z.optional(u()).describe("Endpoint, 255 means any endpoint, 0 means auto selected from subdevice."),mf:i.z.optional(a(4)).describe("Manufacturer code, must be set to 0x0000 for non manufacturer specific commands."),eval:i.z.optional(l()).describe("Javascript expression to transform the raw value."),script:i.z.optional(p()).describe("Relative path of a Javascript .js file.")}).describe("Deprecated"),i.z.strictObject({fn:i.z.literal("zcl:attr").describe("Generic function to parse ZCL values from read/report commands."),at:a(4).or(i.z.array(a(4))).describe("String hex value or array of string hex values."),cl:a(4).describe("Cluster ID."),ep:i.z.optional(u()).describe("Endpoint, 255 means any endpoint, 0 means auto selected from subdevice."),mf:i.z.optional(a(4)).describe("Manufacturer code, must be set to 0x0000 for non manufacturer specific commands."),eval:i.z.optional(l()).describe("Javascript expression to transform the attribute value to the Item value."),script:i.z.optional(p()).describe("Relative path of a Javascript .js file.")}),i.z.strictObject({fn:i.z.literal("zcl:cmd").describe("Generic function to parse ZCL values from read/report commands."),cl:a(4).describe("Cluster ID."),ep:i.z.optional(u()).describe("Endpoint, 255 means any endpoint, 0 means auto selected from subdevice."),mf:i.z.optional(a(4)).describe("Manufacturer code, must be set to 0x0000 for non manufacturer specific commands."),cmd:i.z.optional(a(2)).describe("Zigbee command."),eval:i.z.optional(l()).describe("Javascript expression to transform the attribute value to the Item value."),script:i.z.optional(p()).describe("Relative path of a Javascript .js file.")}),i.z.strictObject({fn:i.z.literal("tuya").describe("Generic function to read all Tuya datapoints. It has no parameters.")})]).refine((e=>!("eval"in e&&"script"in e)),{message:"eval and script should not both be present"})}function J(){return i.z.discriminatedUnion("fn",[i.z.strictObject({fn:i.z.undefined().describe("Generic function to parse ZCL attributes and commands."),at:i.z.optional(a(4).or(i.z.array(a(4)))).describe("Attribute ID."),cl:a(4).describe("Cluster ID."),cppsrc:i.z.optional(i.z.string()),ep:i.z.optional(u()).describe("Endpoint, 255 means any endpoint, 0 means auto selected from subdevice."),cmd:i.z.optional(a(2)).describe("Zigbee command."),mf:i.z.optional(a(4)).describe("Manufacturer code, must be set to 0x0000 for non manufacturer specific commands."),eval:i.z.optional(l()).describe("Javascript expression to transform the raw value."),script:i.z.optional(p()).describe("Relative path of a Javascript .js file.")}),i.z.strictObject({fn:i.z.literal("zcl").describe("Generic function to parse ZCL attributes and commands."),at:i.z.optional(a(4).or(i.z.array(a(4)))).describe("Attribute ID."),cl:a(4).describe("Cluster ID."),cppsrc:i.z.optional(i.z.string()),ep:i.z.optional(u()).describe("Endpoint, 255 means any endpoint, 0 means auto selected from subdevice."),cmd:i.z.optional(a(2)).describe("Zigbee command."),mf:i.z.optional(a(4)).describe("Manufacturer code, must be set to 0x0000 for non manufacturer specific commands."),eval:i.z.optional(l()).describe("Javascript expression to transform the raw value."),script:i.z.optional(p()).describe("Relative path of a Javascript .js file.")}).describe("Deprecated"),i.z.strictObject({fn:i.z.literal("zcl:attr").describe("Generic function to parse ZCL values from read/report commands."),at:a(4).or(i.z.array(a(4))).describe("String hex value or array of string hex values."),cl:a(4).describe("Cluster ID."),ep:i.z.optional(u()).describe("Endpoint, 255 means any endpoint, 0 means auto selected from subdevice."),mf:i.z.optional(a(4)).describe("Manufacturer code, must be set to 0x0000 for non manufacturer specific commands."),eval:i.z.optional(l()).describe("Javascript expression to transform the attribute value to the Item value."),script:i.z.optional(p()).describe("Relative path of a Javascript .js file.")}),i.z.strictObject({fn:i.z.literal("zcl:cmd").describe("Generic function to parse ZCL values from read/report commands."),cl:a(4).describe("Cluster ID."),ep:i.z.optional(u()).describe("Endpoint, 255 means any endpoint, 0 means auto selected from subdevice."),mf:i.z.optional(a(4)).describe("Manufacturer code, must be set to 0x0000 for non manufacturer specific commands."),cmd:i.z.optional(a(2)).describe("Zigbee command."),eval:i.z.optional(l()).describe("Javascript expression to transform the attribute value to the Item value."),script:i.z.optional(p()).describe("Relative path of a Javascript .js file.")}),i.z.strictObject({fn:i.z.literal("ias:zonestatus").describe("Generic function to parse IAS ZONE status change notifications or zone status from read/report command."),mask:i.z.optional(i.z.enum(["alarm1","alarm2"]).or(i.z.literal("alarm1,alarm2"))).describe("Sets the bitmask for Alert1 and Alert2 item of the IAS Zone status.")}),i.z.strictObject({fn:i.z.literal("numtostr").describe("Generic function to to convert number to string."),srcitem:i.z.enum(["state/airqualityppb","state/pm2_5"]).describe("The source item holding the number."),op:i.z.enum(["lt","le","eq","gt","ge"]).describe("Comparison operator (lt | le | eq | gt | ge)"),to:S().describe("Array of (num, string) mappings")}),i.z.strictObject({fn:i.z.literal("time").describe("Specialized function to parse time, local and last set time from read/report commands of the time cluster and auto-sync time if needed.")}),i.z.strictObject({fn:i.z.literal("xiaomi:special").describe("Generic function to parse custom Xiaomi attributes and commands."),ep:i.z.optional(u()).describe("Endpoint, 255 means any endpoint, 0 means auto selected from subdevice."),mf:i.z.optional(a(4)).describe("Manufacturer code, must be set to 0x0000 for non manufacturer specific commands."),at:i.z.optional(a(4)).describe("Attribute ID. The attribute to parse, shall be 0xff01, 0xff02 or 0x00f7"),idx:a(2).describe("A 8-bit string hex value."),eval:i.z.optional(l()).describe("Javascript expression to transform the raw value."),script:i.z.optional(p()).describe("Relative path of a Javascript .js file.")}),i.z.strictObject({fn:i.z.literal("tuya").describe("Generic function to parse Tuya data."),dpid:i.z.number().describe("Data point ID. 1-255 the datapoint ID."),eval:i.z.optional(l()).describe("Javascript expression to transform the raw value."),script:i.z.optional(p()).describe("Relative path of a Javascript .js file.")})]).refine((e=>!("eval"in e&&"script"in e)),{message:"eval and script should not both be present"})}function Z(){return i.z.discriminatedUnion("fn",[i.z.strictObject({fn:i.z.literal("none")}),i.z.strictObject({fn:i.z.undefined(),at:i.z.optional(a(4).or(i.z.array(a(4)))).describe("Attribute ID."),"state.timeout":i.z.optional(i.z.number()),"change.timeout":i.z.optional(i.z.number()),cl:a(4).describe("Cluster ID."),dt:a(2).describe("Data type."),ep:i.z.optional(u()).describe("Endpoint, 255 means any endpoint, 0 means auto selected from subdevice."),mf:i.z.optional(a(4)).describe("Manufacturer code, must be set to 0x0000 for non manufacturer specific commands."),eval:i.z.optional(l()).describe("Javascript expression to transform the raw value."),script:i.z.optional(p()).describe("Relative path of a Javascript .js file.")}),i.z.strictObject({fn:i.z.literal("zcl"),at:i.z.optional(a(4).or(i.z.array(a(4)))).describe("Attribute ID."),"state.timeout":i.z.optional(i.z.number()),"change.timeout":i.z.optional(i.z.number()),cl:a(4).describe("Cluster ID."),dt:a(2).describe("Data type."),ep:i.z.optional(u()).describe("Endpoint, 255 means any endpoint, 0 means auto selected from subdevice."),mf:i.z.optional(a(4)).describe("Manufacturer code, must be set to 0x0000 for non manufacturer specific commands."),eval:i.z.optional(l()).describe("Javascript expression to transform the raw value."),script:i.z.optional(p()).describe("Relative path of a Javascript .js file.")}).describe("Deprecated"),i.z.strictObject({fn:i.z.literal("zcl:attr").describe("Generic function to parse ZCL values from read/report commands."),at:a(4).or(i.z.array(a(4))).describe("String hex value or array of string hex values."),"state.timeout":i.z.optional(i.z.number()),"change.timeout":i.z.optional(i.z.number()),cl:a(4).describe("Cluster ID."),dt:a(2).describe("Data type."),ep:i.z.optional(u()).describe("Endpoint, 255 means any endpoint, 0 means auto selected from subdevice."),mf:i.z.optional(a(4)).describe("Manufacturer code, must be set to 0x0000 for non manufacturer specific commands."),eval:i.z.optional(l()).describe("Javascript expression to transform the attribute value to the Item value."),script:i.z.optional(p()).describe("Relative path of a Javascript .js file.")}),i.z.strictObject({fn:i.z.literal("zcl:cmd").describe("Generic function to parse ZCL values from read/report commands."),cl:a(4).describe("Cluster ID."),dt:a(2).describe("Data type."),ep:i.z.optional(u()).describe("Endpoint, 255 means any endpoint, 0 means auto selected from subdevice."),mf:i.z.optional(a(4)).describe("Manufacturer code, must be set to 0x0000 for non manufacturer specific commands."),cmd:i.z.optional(a(2)).describe("Zigbee command."),eval:i.z.optional(l()).describe("Javascript expression to transform the attribute value to the Item value."),script:i.z.optional(p()).describe("Relative path of a Javascript .js file.")}),i.z.strictObject({fn:i.z.literal("tuya").describe("Generic function to write Tuya data."),dpid:i.z.number().describe("Data point ID. 1-255 the datapoint ID."),dt:a(2).describe("Data type."),eval:i.z.optional(l()).describe("Javascript expression to transform the raw value."),script:i.z.optional(p()).describe("Relative path of a Javascript .js file.")})]).refine((e=>!("eval"in e&&"script"in e)),{message:"eval and script should not both be present"})}function j(e){return i.z.strictObject({$schema:i.z.optional(i.z.string()),schema:i.z.literal("resourceitem1.schema.json"),id:i.z.string(),description:i.z.optional(i.z.string()).describe("Item description, better to do not use it."),comment:i.z.optional(i.z.string()).describe("TODO: What is this ? What the difference with description ?"),deprecated:i.z.optional(A()).describe("Date of deprecation, if the item is deprecated, it's better to use the new one."),datatype:i.z.optional(i.z.enum(["String","Bool","Int8","Int16","Int32","Int64","UInt8","UInt16","UInt32","UInt64","Double","Array","Array[3]","ISO 8601 timestamp"])).describe("Data type of the item."),access:i.z.optional(i.z.enum(["R","W","RW"])).describe("Access mode for this item, some of them are not editable."),public:i.z.optional(i.z.boolean()).describe("Item visible on the API."),implicit:i.z.optional(i.z.boolean()).describe("TODO: What is this ?"),managed:i.z.optional(i.z.boolean()).describe("TODO: What is this ?"),awake:i.z.optional(i.z.boolean()).describe("The device is considered awake when this item is set due a incoming command."),static:i.z.optional(i.z.union([i.z.string(),i.z.number(),i.z.boolean()])).describe("A static default value is fixed and can be not changed."),range:i.z.optional(i.z.tuple([i.z.number(),i.z.number()])).describe("Values range limit."),virtual:i.z.optional(i.z.boolean()).describe("TODO: What is this ?"),read:i.z.optional(M()).describe("Fonction used to read value."),parse:i.z.optional(J()).describe("Fonction used to parse incoming values."),write:i.z.optional(Z()).describe("Fonction used to write value."),"refresh.interval":i.z.optional(i.z.number()).describe("Refresh interval used for read fonction, NEED to be superior at value used in binding part."),values:i.z.optional(i.z.unknown()).describe("TODO: What is this ?"),default:i.z.optional(i.z.unknown()).describe("Defaut value.")})}function R(e){return i.z.strictObject({$schema:i.z.optional(i.z.string()),schema:i.z.literal("devcap1.schema.json"),uuid:i.z.optional(i.z.string()),version:i.z.optional(i.z.string()),version_deconz:i.z.optional(i.z.string()),"doc:path":i.z.optional(i.z.string()),"doc:hdr":i.z.optional(i.z.string()),"md:known_issues":i.z.optional(i.z.array(i.z.string())).describe("Know issues for this device, markdown file."),manufacturername:i.z.union([i.z.enum(Object.keys(e.manufacturers)),i.z.string().regex(/^(?!\$MF_).*/g,"The manufacturer name start with $MF_ but is not present in constants.json"),i.z.array(i.z.union([i.z.enum(Object.keys(e.manufacturers)),i.z.string().regex(/^(?!\$MF_).*/g,"The manufacturer name start with $MF_ but is not present in constants.json")]))]).describe("Manufacturer name from Basic Cluster."),modelid:i.z.string().or(i.z.array(i.z.string())).describe("Model ID from Basic Cluster."),vendor:i.z.optional(i.z.string()).describe("Friendly name of the manufacturer."),comment:i.z.optional(i.z.string()),matchexpr:i.z.optional(l()).describe("Need to return true for the DDF be used."),path:i.z.optional(p()).describe("DDF path, useless, can be removed."),product:i.z.optional(i.z.string()).describe("Complements the model id to be shown in the UI."),sleeper:i.z.optional(i.z.boolean()).describe("Sleeping devices can only receive when awake."),supportsMgmtBind:i.z.optional(i.z.boolean()),status:i.z.enum(["Draft","Bronze","Silver","Gold"]).describe("The code quality of the DDF file."),subdevices:i.z.array(G(e)).describe("Devices section."),bindings:i.z.optional(i.z.array(k())).describe("Bindings section.")})}function G(e){return i.z.strictObject({type:i.z.union([i.z.enum(Object.keys(e.deviceTypes)),i.z.string().regex(/^(?!\$TYPE_).*/g,"The type start with $TYPE_ but is not present in constants.json")]),restapi:i.z.enum(["/lights","/sensors"]),uuid:x(),fingerprint:i.z.optional(i.z.strictObject({profile:a(4),device:a(4),endpoint:u(),in:i.z.optional(i.z.array(a(4))),out:i.z.optional(i.z.array(a(4)))})),meta:i.z.optional(i.z.strictObject({values:i.z.any(),"group.endpoints":i.z.optional(i.z.array(i.z.number()))})),buttons:i.z.optional(i.z.any()),buttonevents:i.z.optional(i.z.any()),items:i.z.array(F(e)),example:i.z.optional(i.z.unknown())})}function F(e){return j().omit({$schema:!0,schema:!0,id:!0}).extend({name:i.z.enum(e.attributes).describe("Item name.")})}function k(e){return i.z.discriminatedUnion("bind",[i.z.strictObject({bind:i.z.literal("unicast"),"src.ep":u().describe("Source endpoint."),"dst.ep":i.z.optional(u()).describe("Destination endpoint, generaly 0x01."),cl:a(4).describe("Cluster."),report:i.z.optional(i.z.array(i.z.strictObject({at:a(4),dt:a(2),mf:i.z.optional(a(4)),min:i.z.number(),max:i.z.number(),change:i.z.optional(a().or(i.z.number()))}).refine((e=>e.min<=e.max),{message:"invalid report time, min should be smaller than max"})))}),i.z.strictObject({bind:i.z.literal("groupcast"),"src.ep":u().describe("Source endpoint."),cl:a(4).describe("Cluster."),"config.group":i.z.number().min(0).max(255)})])}function L(e){return i.z.strictObject({$schema:i.z.optional(i.z.string()),schema:i.z.literal("subdevice1.schema.json"),type:i.z.union([i.z.enum(Object.keys(e.deviceTypes)),i.z.string().regex(/^(?!\$TYPE_).*/g,"The type start with $TYPE_ but is not present in constants.json")]),name:i.z.string(),restapi:i.z.enum(["/lights","/sensors"]),order:i.z.number(),uuid:x(),items:i.z.array(i.z.enum(e.attributes)),items_optional:i.z.optional(i.z.array(i.z.enum(e.attributes)))})}function y(e){return i.z.discriminatedUnion("schema",[R(e),C(),I(),j(),L(e)]).superRefine(((t,s)=>{switch(t.schema){case"devcap1.schema.json":n[t.schema].map((i=>i(t,s,e)));break;case"constants2.schema.json":n[t.schema].map((i=>i(t,s,e)));break}}))}function P(e={attributes:[],manufacturers:{},deviceTypes:{},resources:{},subDevices:{}}){let t=y(e);const f=()=>{t=y(e)};return{generics:e,loadGeneric:s=>{const i=t.parse(s);switch(i.schema){case"constants1.schema.json":e.manufacturers={...e.manufacturers,...i.manufacturers},e.deviceTypes={...e.deviceTypes,...i["device-types"]};break;case"constants2.schema.json":{Object.keys(i).filter((e=>e.startsWith("$MF_"))).forEach((t=>{e.manufacturers[t]=i[t]})),Object.keys(i).filter((e=>e.startsWith("$TYPE_"))).forEach((t=>{e.deviceTypes[t]=i[t]}));break}case"resourceitem1.schema.json":{if(e.attributes.includes(i.id))throw new Error(`Got duplicate resource item with attribute id '${i.id}'.`);const t=i,s=i.id;delete t.$schema,delete t.schema,delete t.id,e.resources[s]=t,e.attributes.push(s);break}case"subdevice1.schema.json":e.subDevices[i.type]=i,e.subDevices[i.name]=i;break;case"devcap1.schema.json":throw new Error("Got invalid generic file, got data with schema 'devcap1.schema.json'.")}return f(),!0},validate:e=>t.parse(e),getSchema:()=>t,version:r}}t.createValidator=P},881:e=>{"use strict";e.exports=JSON.parse('{"name":"@deconz-community/ddf-validator-action","version":"1.7.0","private":true,"description":"Github action for validating DDF files for deconz","keywords":["deconz","drezden","conbee","ddf","actions"],"homepage":"https://github.com/deconz-community/ddf-validator-action/","bugs":{"url":"https://github.com/deconz-community/ddf-validator-action/issues/"},"repository":{"type":"git","url":"git+https://github.com/deconz-community/ddf-validator-action.git"},"license":"MIT","author":{"name":"Zehir","email":"zehir@zorim.fr","url":"https://github.com/Zehir"},"maintainers":[{"name":"Zehir","email":"zehir@zorim.fr","url":"https://github.com/Zehir"}],"funding":{"type":"individual","url":"https://github.com/sponsors/Zehir"},"files":["dist/index.js","dist/licenses.txt"],"main":"dist/index.js","scripts":{"build":"tsc && ncc build --minify --license licenses.txt","lint":"eslint src/**/*.ts","up":"taze major -I","release":"pnpm run build && changeset publish"},"packageManager":"pnpm@8.6.12","dependencies":{"@actions/core":"^1.10.0","@deconz-community/ddf-validator":"^2.12.1","glob":"^10.3.3","jsonc-parser":"^3.2.0","zod":"^3.21.4"},"devDependencies":{"@antfu/eslint-config":"^0.40.0","@changesets/cli":"^2.26.2","@types/node":"^20.4.8","@typescript-eslint/eslint-plugin":"^6.2.1","@typescript-eslint/parser":"^6.2.1","@vercel/ncc":"^0.36.1","eslint":"^8.46.0","eslint-plugin-github":"^4.9.2","eslint-plugin-jest":"^27.2.3","taze":"^0.11.2","typescript":"^5.1.6"}}')}};var t={};function __nccwpck_require__(s){var i=t[s];if(i!==undefined){return i.exports}var r=t[s]={exports:{}};var n=true;try{e[s].call(r.exports,r,r.exports,__nccwpck_require__);n=false}finally{if(n)delete t[s]}return r.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var s=__nccwpck_require__(4016);module.exports=s})();